<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>CSV</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../css/github.css" type="text/css" media="screen" />
<script src="../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>
    <div class="banner">
        
        <h1>
            <span class="type">Class</span>
            CSV
            
                <span class="parent">&lt;
                    
                    <a href="Object.html">Object</a>
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../files/lib/csv_rb.html">lib/csv.rb</a></li>
            
            <li><a href="../files/lib/csv/delete_suffix_rb.html">lib/csv/delete_suffix.rb</a></li>
            
            <li><a href="../files/lib/csv/fields_converter_rb.html">lib/csv/fields_converter.rb</a></li>
            
            <li><a href="../files/lib/csv/match_p_rb.html">lib/csv/match_p.rb</a></li>
            
            <li><a href="../files/lib/csv/parser_rb.html">lib/csv/parser.rb</a></li>
            
            <li><a href="../files/lib/csv/row_rb.html">lib/csv/row.rb</a></li>
            
            <li><a href="../files/lib/csv/table_rb.html">lib/csv/table.rb</a></li>
            
            <li><a href="../files/lib/csv/version_rb.html">lib/csv/version.rb</a></li>
            
            <li><a href="../files/lib/csv/writer_rb.html">lib/csv/writer.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<p>This class provides a complete interface to <a href="CSV.html">CSV</a>
files and data.  It offers tools to enable you to read and write to and
from Strings or <a href="IO.html">IO</a> objects, as needed.</p>

<p>The most generic interface of the library is:</p>

<pre><code>csv = CSV.new(string_or_io, **options)

# Reading: IO object should be open for read
csv.read # =&gt; array of rows
# or
csv.each do |row|
  # ...
end
# or
row = csv.shift

# Writing: IO object should be open for write
csv &lt;&lt; row
</code></pre>

<p>There are several specialized class methods for one-statement reading or
writing, described in the Specialized Methods section.</p>

<p>If a <a href="String.html">String</a> is passed into <a
href="CSV.html#method-c-new">::new</a>, it is internally wrapped into a <a
href="StringIO.html">StringIO</a> object.</p>

<p><code>options</code> can be used for specifying the particular <a
href="CSV.html">CSV</a> flavor (column separators, row separators, value
quoting and so on), and for data conversion, see <a
href="Data.html">Data</a> Conversion section for the description of the
latter.</p>

<h2 id="class-CSV-label-Specialized+Methods">Specialized Methods</h2>

<h3 id="class-CSV-label-Reading">Reading</h3>

<pre><code># From a file: all at once
arr_of_rows = CSV.read(&quot;path/to/file.csv&quot;, **options)
# iterator-style:
CSV.foreach(&quot;path/to/file.csv&quot;, **options) do |row|
  # ...
end

# From a string
arr_of_rows = CSV.parse(&quot;CSV,data,String&quot;, **options)
# or
CSV.parse(&quot;CSV,data,String&quot;, **options) do |row|
  # ...
end
</code></pre>

<h3 id="class-CSV-label-Writing">Writing</h3>

<pre><code># To a file
CSV.open(&quot;path/to/file.csv&quot;, &quot;wb&quot;) do |csv|
  csv &lt;&lt; [&quot;row&quot;, &quot;of&quot;, &quot;CSV&quot;, &quot;data&quot;]
  csv &lt;&lt; [&quot;another&quot;, &quot;row&quot;]
  # ...
end

# To a String
csv_string = CSV.generate do |csv|
  csv &lt;&lt; [&quot;row&quot;, &quot;of&quot;, &quot;CSV&quot;, &quot;data&quot;]
  csv &lt;&lt; [&quot;another&quot;, &quot;row&quot;]
  # ...
end
</code></pre>

<h3 id="class-CSV-label-Shortcuts">Shortcuts</h3>

<pre><code># Core extensions for converting one line
csv_string = [&quot;CSV&quot;, &quot;data&quot;].to_csv   # to CSV
csv_array  = &quot;CSV,String&quot;.parse_csv   # from CSV

# CSV() method
CSV             { |csv_out| csv_out &lt;&lt; %w{my data here} }  # to $stdout
CSV(csv = &quot;&quot;)   { |csv_str| csv_str &lt;&lt; %w{my data here} }  # to a String
CSV($stderr)    { |csv_err| csv_err &lt;&lt; %w{my data here} }  # to $stderr
CSV($stdin)     { |csv_in|  csv_in.each { |row| p row } }  # from $stdin
</code></pre>

<h2 id="class-CSV-label-Data+Conversion"><a href="Data.html">Data</a> Conversion</h2>

<h3 id="class-CSV-label-CSV+with+headers"><a href="CSV.html">CSV</a> with headers</h3>

<p><a href="CSV.html">CSV</a> allows to specify column names of <a
href="CSV.html">CSV</a> file, whether they are in data, or provided
separately. If headers specified, reading methods return an instance of <a
href="CSV/Table.html">CSV::Table</a>, consisting of <a
href="CSV/Row.html">CSV::Row</a>.</p>

<pre><code># Headers are part of data
data = CSV.parse(&lt;&lt;~ROWS, headers: true)
  Name,Department,Salary
  Bob,Engineering,1000
  Jane,Sales,2000
  John,Management,5000
ROWS

data.class      #=&gt; CSV::Table
data.first      #=&gt; #&lt;CSV::Row &quot;Name&quot;:&quot;Bob&quot; &quot;Department&quot;:&quot;Engineering&quot; &quot;Salary&quot;:&quot;1000&quot;&gt;
data.first.to_h #=&gt; {&quot;Name&quot;=&gt;&quot;Bob&quot;, &quot;Department&quot;=&gt;&quot;Engineering&quot;, &quot;Salary&quot;=&gt;&quot;1000&quot;}

# Headers provided by developer
data = CSV.parse(&#39;Bob,Engeneering,1000&#39;, headers: %i[name department salary])
data.first      #=&gt; #&lt;CSV::Row name:&quot;Bob&quot; department:&quot;Engineering&quot; salary:&quot;1000&quot;&gt;
</code></pre>

<h3 id="class-CSV-label-Typed+data+reading">Typed data reading</h3>

<p><a href="CSV.html">CSV</a> allows to provide a set of data
<em>converters</em> e.g. transformations to try on input data. Converter
could be a symbol from CSV::Converters constant&#39;s keys, or lambda.</p>

<pre><code># Without any converters:
CSV.parse(&#39;Bob,2018-03-01,100&#39;)
#=&gt; [[&quot;Bob&quot;, &quot;2018-03-01&quot;, &quot;100&quot;]]

# With built-in converters:
CSV.parse(&#39;Bob,2018-03-01,100&#39;, converters: %i[numeric date])
#=&gt; [[&quot;Bob&quot;, #&lt;Date: 2018-03-01&gt;, 100]]

# With custom converters:
CSV.parse(&#39;Bob,2018-03-01,100&#39;, converters: [-&gt;(v) { Time.parse(v) rescue v }])
#=&gt; [[&quot;Bob&quot;, 2018-03-01 00:00:00 +0200, &quot;100&quot;]]
</code></pre>

<h2 id="class-CSV-label-CSV+and+Character+Encodings+-28M17n+or+Multilingualization-29"><a href="CSV.html">CSV</a> and Character Encodings (M17n or Multilingualization)</h2>

<p>This new <a href="CSV.html">CSV</a> parser is m17n savvy.  The parser works
in the <a href="Encoding.html">Encoding</a> of the <a href="IO.html">IO</a>
or <a href="String.html">String</a> object being read from or written to. 
Your data is never transcoded (unless you ask Ruby to transcode it for you)
and will literally be parsed in the <a href="Encoding.html">Encoding</a> it
is in.  Thus <a href="CSV.html">CSV</a> will return Arrays or Rows of
Strings in the <a href="Encoding.html">Encoding</a> of your data.  This is
accomplished by transcoding the parser itself into your <a
href="Encoding.html">Encoding</a>.</p>

<p>Some transcoding must take place, of course, to accomplish this
multiencoding support.  For example, <code>:col_sep</code>,
<code>:row_sep</code>, and <code>:quote_char</code> must be transcoded to
match your data.  Hopefully this makes the entire process feel transparent,
since CSV&#39;s defaults should just magically work for your data. 
However, you can set these values manually in the target <a
href="Encoding.html">Encoding</a> to avoid the translation.</p>

<p>It&#39;s also important to note that while all of CSV&#39;s core parser is
now <a href="Encoding.html">Encoding</a> agnostic, some features are not. 
For example, the built-in converters will try to transcode data to UTF-8
before making conversions. Again, you can provide custom converters that
are aware of your Encodings to avoid this translation.  It&#39;s just too
hard for me to support native conversions in all of Ruby&#39;s Encodings.</p>

<p>Anyway, the practical side of this is simple:  make sure <a
href="IO.html">IO</a> and <a href="String.html">String</a> objects passed
into <a href="CSV.html">CSV</a> have the proper <a
href="Encoding.html">Encoding</a> set and everything should just work. <a
href="CSV.html">CSV</a> methods that allow you to open <a
href="IO.html">IO</a> objects (CSV::foreach(), <a
href="CSV.html#method-c-open">::open</a>, <a
href="CSV.html#method-c-read">::read</a>, and <a
href="CSV.html#method-c-readlines">::readlines</a>) do allow you to specify
the <a href="Encoding.html">Encoding</a>.</p>

<p>One minor exception comes when generating <a href="CSV.html">CSV</a> into a
<a href="String.html">String</a> with an <a
href="Encoding.html">Encoding</a> that is not ASCII compatible. 
There&#39;s no existing data for <a href="CSV.html">CSV</a> to use to
prepare itself and thus you will probably need to manually specify the
desired <a href="Encoding.html">Encoding</a> for most of those cases.  It
will try to guess using the fields in a row of output though, when using <a
href="CSV.html#method-c-generate_line">::generate_line</a> or
Array#to_csv().</p>

<p>I try to point out any other <a href="Encoding.html">Encoding</a> issues in
the documentation of methods as they come up.</p>

<p>This has been tested to the best of my ability with all non-“dummy”
Encodings Ruby ships with.  However, it is brave new code and may have some
bugs. Please feel free to <a
href="mailto:james@grayproductions.net">report</a> any issues you find with
it.</p>

<p>frozen_string_literal: true</p>

<p>frozen_string_literal: true</p>

    </div>
  


  


  
  


  
    <!-- Namespace -->
    <div class="sectiontitle">Namespace</div>
    <ul>
      
        <li>
          <span class="type">MODULE</span>
          <a href="CSV/DeleteSuffix.html">CSV::DeleteSuffix</a>
        </li>
      
        <li>
          <span class="type">MODULE</span>
          <a href="CSV/MatchP.html">CSV::MatchP</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="CSV/FieldsConverter.html">CSV::FieldsConverter</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="CSV/MalformedCSVError.html">CSV::MalformedCSVError</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="CSV/Parser.html">CSV::Parser</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="CSV/Row.html">CSV::Row</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="CSV/Table.html">CSV::Table</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="CSV/Writer.html">CSV::Writer</a>
        </li>
      
    </ul>
  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>#</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-3C-3C">&lt;&lt;</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>A</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-add_row">add_row</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>B</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-binmode-3F">binmode?</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>C</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-col_sep">col_sep</a>,
              </li>
            
              
              <li>
                <a href="#method-i-convert">convert</a>,
              </li>
            
              
              <li>
                <a href="#method-i-converters">converters</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>E</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-each">each</a>,
              </li>
            
              
              <li>
                <a href="#method-i-eof">eof</a>,
              </li>
            
              
              <li>
                <a href="#method-i-eof-3F">eof?</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>F</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-field_size_limit">field_size_limit</a>,
              </li>
            
              
              <li>
                <a href="#method-c-filter">filter</a>,
              </li>
            
              
              <li>
                <a href="#method-i-flock">flock</a>,
              </li>
            
              
              <li>
                <a href="#method-i-force_quotes-3F">force_quotes?</a>,
              </li>
            
              
              <li>
                <a href="#method-c-foreach">foreach</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>G</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-generate">generate</a>,
              </li>
            
              
              <li>
                <a href="#method-c-generate_line">generate_line</a>,
              </li>
            
              
              <li>
                <a href="#method-i-gets">gets</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>H</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-header_convert">header_convert</a>,
              </li>
            
              
              <li>
                <a href="#method-i-header_converters">header_converters</a>,
              </li>
            
              
              <li>
                <a href="#method-i-header_row-3F">header_row?</a>,
              </li>
            
              
              <li>
                <a href="#method-i-headers">headers</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>I</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-inspect">inspect</a>,
              </li>
            
              
              <li>
                <a href="#method-c-instance">instance</a>,
              </li>
            
              
              <li>
                <a href="#method-i-ioctl">ioctl</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>L</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-liberal_parsing-3F">liberal_parsing?</a>,
              </li>
            
              
              <li>
                <a href="#method-i-line">line</a>,
              </li>
            
              
              <li>
                <a href="#method-i-lineno">lineno</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>N</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-new">new</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>O</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-open">open</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>P</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-parse">parse</a>,
              </li>
            
              
              <li>
                <a href="#method-c-parse_line">parse_line</a>,
              </li>
            
              
              <li>
                <a href="#method-i-path">path</a>,
              </li>
            
              
              <li>
                <a href="#method-i-puts">puts</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>Q</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-quote_char">quote_char</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>R</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-read">read</a>,
              </li>
            
              
              <li>
                <a href="#method-c-read">read</a>,
              </li>
            
              
              <li>
                <a href="#method-i-readline">readline</a>,
              </li>
            
              
              <li>
                <a href="#method-i-readlines">readlines</a>,
              </li>
            
              
              <li>
                <a href="#method-c-readlines">readlines</a>,
              </li>
            
              
              <li>
                <a href="#method-i-return_headers-3F">return_headers?</a>,
              </li>
            
              
              <li>
                <a href="#method-i-rewind">rewind</a>,
              </li>
            
              
              <li>
                <a href="#method-i-row_sep">row_sep</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>S</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-shift">shift</a>,
              </li>
            
              
              <li>
                <a href="#method-i-skip_blanks-3F">skip_blanks?</a>,
              </li>
            
              
              <li>
                <a href="#method-i-skip_lines">skip_lines</a>,
              </li>
            
              
              <li>
                <a href="#method-i-stat">stat</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>T</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-table">table</a>,
              </li>
            
              
              <li>
                <a href="#method-i-to_i">to_i</a>,
              </li>
            
              
              <li>
                <a href="#method-i-to_io">to_io</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>U</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-unconverted_fields-3F">unconverted_fields?</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>W</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-write_headers-3F">write_headers?</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  
    <!-- Includes -->
    <div class="sectiontitle">Included Modules</div>
    <ul>
      
        <li>
          
            <a href="Enumerable.html">
              Enumerable
            </a>
          
        </li>
      
    </ul>
  



  

    

    

    


    


    <!-- Methods -->
    
      <div class="sectiontitle">Class Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-c-filter">
            
              <b>filter( **options ) { |row| ... }<br />filter( input, **options ) { |row| ... }<br />filter( input, output, **options ) { |row| ... }
</b>
            
            <a href="../classes/CSV.html#method-c-filter" name="method-c-filter" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>This method is a convenience for building Unix-like filters for <a
href="CSV.html">CSV</a> data. Each row is yielded to the provided block
which can alter it as needed. After the block returns, the row is appended
to <code>output</code> altered or not.</p>

<p>The <code>input</code> and <code>output</code> arguments can be anything <a
href="CSV.html#method-c-new">::new</a> accepts (generally <a
href="String.html">String</a> or <a href="IO.html">IO</a> objects).  If not
given, they default to <code>ARGF</code> and <code>$stdout</code>.</p>

<p>The <code>options</code> parameter is also filtered down to <a
href="CSV.html#method-c-new">::new</a> after some clever key parsing.  Any
key beginning with <code>:in_</code> or <code>:input_</code> will have that
leading identifier stripped and will only be used in the
<code>options</code> <a href="Hash.html">Hash</a> for the
<code>input</code> object.  Keys starting with <code>:out_</code> or
<code>:output_</code> affect only <code>output</code>.  All other keys are
assigned to both objects.</p>

<p>The <code>:output_row_sep</code> <code>option</code> defaults to
<code>$INPUT_RECORD_SEPARATOR</code> (<code>$/</code>).</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-filter_source')" id="l_method-c-filter_source">show</a>
                
              </p>
              <div id="method-c-filter_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/csv.rb, line 467</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">filter</span>(<span class="ruby-identifier">input</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">output</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)
  <span class="ruby-comment"># parse options for input, output, or both</span>
  <span class="ruby-identifier">in_options</span>, <span class="ruby-identifier">out_options</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>, {<span class="ruby-identifier">row_sep</span><span class="ruby-operator">:</span> <span class="ruby-identifier">$INPUT_RECORD_SEPARATOR</span>}
  <span class="ruby-identifier">options</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">case</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">to_s</span>
    <span class="ruby-keyword">when</span> <span class="ruby-regexp">/\Ain(?:put)?_(.+)\Z/</span>
      <span class="ruby-identifier">in_options</span>[<span class="ruby-node">$1</span>.<span class="ruby-identifier">to_sym</span>] = <span class="ruby-identifier">value</span>
    <span class="ruby-keyword">when</span> <span class="ruby-regexp">/\Aout(?:put)?_(.+)\Z/</span>
      <span class="ruby-identifier">out_options</span>[<span class="ruby-node">$1</span>.<span class="ruby-identifier">to_sym</span>] = <span class="ruby-identifier">value</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">in_options</span>[<span class="ruby-identifier">key</span>]  = <span class="ruby-identifier">value</span>
      <span class="ruby-identifier">out_options</span>[<span class="ruby-identifier">key</span>] = <span class="ruby-identifier">value</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-comment"># build input and output wrappers</span>
  <span class="ruby-identifier">input</span>  = <span class="ruby-identifier">new</span>(<span class="ruby-identifier">input</span>  <span class="ruby-operator">||</span> <span class="ruby-constant">ARGF</span>,    <span class="ruby-identifier">in_options</span>)
  <span class="ruby-identifier">output</span> = <span class="ruby-identifier">new</span>(<span class="ruby-identifier">output</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">$stdout</span>, <span class="ruby-identifier">out_options</span>)

  <span class="ruby-comment"># read, yield, write</span>
  <span class="ruby-identifier">input</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">row</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">yield</span> <span class="ruby-identifier">row</span>
    <span class="ruby-identifier">output</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">row</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-foreach">
            
              <b>foreach</b>(path, mode=&quot;r&quot;, **options, &amp;block)
            
            <a href="../classes/CSV.html#method-c-foreach" name="method-c-foreach" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>This method is intended as the primary interface for reading <a
href="CSV.html">CSV</a> files.  You pass a <code>path</code> and any
<code>options</code> you wish to set for the read.  Each row of file will
be passed to the provided <code>block</code> in turn.</p>

<p>The <code>options</code> parameter can be anything <a
href="CSV.html#method-c-new">::new</a> understands.  This method also
understands an additional <code>:encoding</code> parameter that you can use
to specify the <a href="Encoding.html">Encoding</a> of the data in the file
to be read. You must provide this unless your data is in <a
href="Encoding.html#method-c-default_external">Encoding.default_external</a>.
<a href="CSV.html">CSV</a> will use this to determine how to parse the
data.  You may provide a second <a href="Encoding.html">Encoding</a> to
have the data transcoded as it is read.  For example, <code>encoding:
&quot;UTF-32BE:UTF-8&quot;</code> would read UTF-32BE data from the file
but transcode it to UTF-8 before <a href="CSV.html">CSV</a> parses it.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-foreach_source')" id="l_method-c-foreach_source">show</a>
                
              </p>
              <div id="method-c-foreach_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/csv.rb, line 506</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">foreach</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">mode</span>=<span class="ruby-string">&quot;r&quot;</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">to_enum</span>(<span class="ruby-identifier">__method__</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">mode</span>, <span class="ruby-identifier">options</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">block_given?</span>
  <span class="ruby-identifier">open</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">mode</span>, <span class="ruby-identifier">options</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">csv</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">csv</span>.<span class="ruby-identifier">each</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-generate">
            
              <b>generate( str, **options ) { |csv| ... }<br />generate( **options ) { |csv| ... }
</b>
            
            <a href="../classes/CSV.html#method-c-generate" name="method-c-generate" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>This method wraps a <a href="String.html">String</a> you provide, or an
empty default <a href="String.html">String</a>, in a <a
href="CSV.html">CSV</a> object which is passed to the provided block.  You
can use the block to append <a href="CSV.html">CSV</a> rows to the <a
href="String.html">String</a> and when the block exits, the final <a
href="String.html">String</a> will be returned.</p>

<p>Note that a passed <a href="String.html">String</a> <strong>is</strong>
modified by this method.  Call dup() before passing if you need a new <a
href="String.html">String</a>.</p>

<p>The <code>options</code> parameter can be anything <a
href="CSV.html#method-c-new">::new</a> understands.  This method
understands an additional <code>:encoding</code> parameter when not passed
a <a href="String.html">String</a> to set the base <a
href="Encoding.html">Encoding</a> for the output.  <a
href="CSV.html">CSV</a> needs this hint if you plan to output non-ASCII
compatible data.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-generate_source')" id="l_method-c-generate_source">show</a>
                
              </p>
              <div id="method-c-generate_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/csv.rb, line 531</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">generate</span>(<span class="ruby-identifier">str</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)
  <span class="ruby-comment"># add a default empty String, if none was given</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">str</span>
    <span class="ruby-identifier">str</span> = <span class="ruby-constant">StringIO</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">str</span>)
    <span class="ruby-identifier">str</span>.<span class="ruby-identifier">seek</span>(<span class="ruby-number">0</span>, <span class="ruby-constant">IO</span><span class="ruby-operator">::</span><span class="ruby-constant">SEEK_END</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">encoding</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:encoding</span>]
    <span class="ruby-identifier">str</span> = <span class="ruby-operator">+</span><span class="ruby-string">&quot;&quot;</span>
    <span class="ruby-identifier">str</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-identifier">encoding</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">encoding</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">csv</span> = <span class="ruby-identifier">new</span>(<span class="ruby-identifier">str</span>, <span class="ruby-identifier">options</span>) <span class="ruby-comment"># wrap</span>
  <span class="ruby-keyword">yield</span> <span class="ruby-identifier">csv</span>         <span class="ruby-comment"># yield for appending</span>
  <span class="ruby-identifier">csv</span>.<span class="ruby-identifier">string</span>        <span class="ruby-comment"># return final String</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-generate_line">
            
              <b>generate_line</b>(row, **options)
            
            <a href="../classes/CSV.html#method-c-generate_line" name="method-c-generate_line" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>This method is a shortcut for converting a single row (Array) into a <a
href="CSV.html">CSV</a> <a href="String.html">String</a>.</p>

<p>The <code>options</code> parameter can be anything <a
href="CSV.html#method-c-new">::new</a> understands.  This method
understands an additional <code>:encoding</code> parameter to set the base
<a href="Encoding.html">Encoding</a> for the output.  This method will try
to guess your <a href="Encoding.html">Encoding</a> from the first
non-<code>nil</code> field in <code>row</code>, if possible, but you may
need to use this parameter as a backup plan.</p>

<p>The <code>:row_sep</code> <code>option</code> defaults to
<code>$INPUT_RECORD_SEPARATOR</code> (<code>$/</code>) when calling this
method.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-generate_line_source')" id="l_method-c-generate_line_source">show</a>
                
              </p>
              <div id="method-c-generate_line_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/csv.rb, line 559</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">generate_line</span>(<span class="ruby-identifier">row</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)
  <span class="ruby-identifier">options</span> = {<span class="ruby-identifier">row_sep</span><span class="ruby-operator">:</span> <span class="ruby-identifier">$INPUT_RECORD_SEPARATOR</span>}.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">options</span>)
  <span class="ruby-identifier">str</span> = <span class="ruby-operator">+</span><span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:encoding</span>]
    <span class="ruby-identifier">str</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:encoding</span>])
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">field</span> = <span class="ruby-identifier">row</span>.<span class="ruby-identifier">find</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span> <span class="ruby-identifier">f</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">String</span>)}
    <span class="ruby-identifier">str</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-identifier">field</span>.<span class="ruby-identifier">encoding</span>)
  <span class="ruby-keyword">end</span>
  (<span class="ruby-identifier">new</span>(<span class="ruby-identifier">str</span>, <span class="ruby-identifier">options</span>) <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">row</span>).<span class="ruby-identifier">string</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-instance">
            
              <b>instance</b>(data = $stdout, **options)
            
            <a href="../classes/CSV.html#method-c-instance" name="method-c-instance" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>This method will return a <a href="CSV.html">CSV</a> instance, just like <a
href="CSV.html#method-c-new">::new</a>, but the instance will be cached and
returned for all future calls to this method for the same <code>data</code>
object (tested by <a
href="Object.html#method-i-object_id">Object#object_id</a>) with the same
<code>options</code>.</p>

<p>If a block is given, the instance is passed to the block and the return
value becomes the return value of the block.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-instance_source')" id="l_method-c-instance_source">show</a>
                
              </p>
              <div id="method-c-instance_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/csv.rb, line 427</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">instance</span>(<span class="ruby-identifier">data</span> = <span class="ruby-identifier">$stdout</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)
  <span class="ruby-comment"># create a _signature_ for this method call, data object and options</span>
  <span class="ruby-identifier">sig</span> = [<span class="ruby-identifier">data</span>.<span class="ruby-identifier">object_id</span>] <span class="ruby-operator">+</span>
        <span class="ruby-identifier">options</span>.<span class="ruby-identifier">values_at</span>(<span class="ruby-operator">*</span><span class="ruby-constant">DEFAULT_OPTIONS</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">sort_by</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">sym</span><span class="ruby-operator">|</span> <span class="ruby-identifier">sym</span>.<span class="ruby-identifier">to_s</span> })

  <span class="ruby-comment"># fetch or create the instance for this signature</span>
  <span class="ruby-identifier">@@instances</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">instance</span> = (<span class="ruby-identifier">@@instances</span>[<span class="ruby-identifier">sig</span>] <span class="ruby-operator">||=</span> <span class="ruby-identifier">new</span>(<span class="ruby-identifier">data</span>, <span class="ruby-identifier">options</span>))

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
    <span class="ruby-keyword">yield</span> <span class="ruby-identifier">instance</span>  <span class="ruby-comment"># run block, if given, returning result</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">instance</span>        <span class="ruby-comment"># or return the instance</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-new">
            
              <b>new</b>(data, col_sep: &quot;,&quot;, row_sep: :auto, quote_char: &#39;&quot;&#39;, field_size_limit: nil, converters: nil, unconverted_fields: nil, headers: false, return_headers: false, write_headers: nil, header_converters: nil, skip_blanks: false, force_quotes: false, skip_lines: nil, liberal_parsing: false, internal_encoding: nil, external_encoding: nil, encoding: nil, nil_value: nil, empty_value: &quot;&quot;, quote_empty: true, write_converters: nil, write_nil_value: nil, write_empty_value: &quot;&quot;, strip: false)
            
            <a href="../classes/CSV.html#method-c-new" name="method-c-new" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>This constructor will wrap either a <a href="String.html">String</a> or <a
href="IO.html">IO</a> object passed in <code>data</code> for reading and/or
writing.  In addition to the <a href="CSV.html">CSV</a> instance methods,
several <a href="IO.html">IO</a> methods are delegated.  (See <a
href="CSV.html#method-c-open">::open</a> for a complete list.)  If you pass
a <a href="String.html">String</a> for <code>data</code>, you can later
retrieve it (after writing to it, for example) with CSV.string().</p>

<p>Note that a wrapped <a href="String.html">String</a> will be positioned at
the beginning (for reading).  If you want it at the end (for writing), use
<a href="CSV.html#method-c-generate">::generate</a>. If you want any other
positioning, pass a preset <a href="StringIO.html">StringIO</a> object
instead.</p>

<p>You may set any reading and/or writing preferences in the
<code>options</code> <a href="Hash.html">Hash</a>. Available options are:</p>
<dl class="rdoc-list note-list"><dt><strong><code>:col_sep</code></strong>
<dd>
<p>The <a href="String.html">String</a> placed between each field. This <a
href="String.html">String</a> will be transcoded into the data&#39;s <a
href="Encoding.html">Encoding</a> before parsing.</p>
</dd><dt><strong><code>:row_sep</code></strong>
<dd>
<p>The <a href="String.html">String</a> appended to the end of each row.  This
can be set to the special <code>:auto</code> setting, which requests that
<a href="CSV.html">CSV</a> automatically discover this from the data. 
Auto-discovery reads ahead in the data looking for the next
<code>&quot;\r\n&quot;</code>, <code>&quot;\n&quot;</code>, or
<code>&quot;\r&quot;</code> sequence.  A sequence will be selected even if
it occurs in a quoted field, assuming that you would have the same line
endings there.  If none of those sequences is found, <code>data</code> is
<code>ARGF</code>, <code>STDIN</code>, <code>STDOUT</code>, or
<code>STDERR</code>, or the stream is only available for output, the
default <code>$INPUT_RECORD_SEPARATOR</code> (<code>$/</code>) is used. 
Obviously, discovery takes a little time.  <a href="Set.html">Set</a>
manually if speed is important.  Also note that <a href="IO.html">IO</a>
objects should be opened in binary mode on Windows if this feature will be
used as the line-ending translation can cause problems with resetting the
document position to where it was before the read ahead. This <a
href="String.html">String</a> will be transcoded into the data&#39;s <a
href="Encoding.html">Encoding</a> before parsing.</p>
</dd><dt><strong><code>:quote_char</code></strong>
<dd>
<p>The character used to quote fields. This has to be a single character <a
href="String.html">String</a>.  This is useful for application that
incorrectly use <code>&#39;</code> as the quote character instead of the
correct <code>&quot;</code>. <a href="CSV.html">CSV</a> will always
consider a double sequence of this character to be an escaped quote. This
<a href="String.html">String</a> will be transcoded into the data&#39;s <a
href="Encoding.html">Encoding</a> before parsing.</p>
</dd><dt><strong><code>:field_size_limit</code></strong>
<dd>
<p>This is a maximum size <a href="CSV.html">CSV</a> will read ahead looking
for the closing quote for a field.  (In truth, it reads to the first line
ending beyond this size.)  If a quote cannot be found within the limit <a
href="CSV.html">CSV</a> will raise a <a
href="CSV/MalformedCSVError.html">MalformedCSVError</a>, assuming the data
is faulty.  You can use this limit to prevent what are effectively DoS
attacks on the parser.  However, this limit can cause a legitimate parse to
fail and thus is set to <code>nil</code>, or off, by default.</p>
</dd><dt><strong><code>:converters</code></strong>
<dd>
<p>An <a href="Array.html">Array</a> of names from the <a
href="CSV.html#Converters">Converters</a> <a href="Hash.html">Hash</a>
and/or lambdas that handle custom conversion.  A single converter
doesn&#39;t have to be in an <a href="Array.html">Array</a>.  All built-in
converters try to transcode fields to UTF-8 before converting. The
conversion will fail if the data cannot be transcoded, leaving the field
unchanged.</p>
</dd><dt><strong><code>:unconverted_fields</code></strong>
<dd>
<p>If set to <code>true</code>, an unconverted_fields() method will be added
to all returned rows (Array or <a href="CSV/Row.html">CSV::Row</a>) that
will return the fields as they were before conversion.  Note that
<code>:headers</code> supplied by <a href="Array.html">Array</a> or <a
href="String.html">String</a> were not fields of the document and thus will
have an empty <a href="Array.html">Array</a> attached.</p>
</dd><dt><strong><code>:headers</code></strong>
<dd>
<p>If set to <code>:first_row</code> or <code>true</code>, the initial row of
the <a href="CSV.html">CSV</a> file will be treated as a row of headers. 
If set to an <a href="Array.html">Array</a>, the contents will be used as
the headers. If set to a <a href="String.html">String</a>, the <a
href="String.html">String</a> is run through a call of <a
href="CSV.html#method-c-parse_line">::parse_line</a> with the same
<code>:col_sep</code>, <code>:row_sep</code>, and <code>:quote_char</code>
as this instance to produce an <a href="Array.html">Array</a> of headers. 
This setting causes <a href="CSV.html#method-i-shift">#shift</a> to return
rows as <a href="CSV/Row.html">CSV::Row</a> objects instead of Arrays and
<a href="CSV.html#method-i-read">#read</a> to return <a
href="CSV/Table.html">CSV::Table</a> objects instead of an <a
href="Array.html">Array</a> of Arrays.</p>
</dd><dt><strong><code>:return_headers</code></strong>
<dd>
<p>When <code>false</code>, header rows are silently swallowed.  If set to
<code>true</code>, header rows are returned in a <a
href="CSV/Row.html">CSV::Row</a> object with identical headers and fields
(save that the fields do not go through the converters).</p>
</dd><dt><strong><code>:write_headers</code></strong>
<dd>
<p>When <code>true</code> and <code>:headers</code> is set, a header row will
be added to the output.</p>
</dd><dt><strong><code>:header_converters</code></strong>
<dd>
<p>Identical in functionality to <code>:converters</code> save that the
conversions are only made to header rows.  All built-in converters try to
transcode headers to UTF-8 before converting.  The conversion will fail if
the data cannot be transcoded, leaving the header unchanged.</p>
</dd><dt><strong><code>:skip_blanks</code></strong>
<dd>
<p>When set to a <code>true</code> value, <a href="CSV.html">CSV</a> will skip
over any empty rows. Note that this setting will not skip rows that contain
column separators, even if the rows contain no actual data. If you want to
skip rows that contain separators but no content, consider using
<code>:skip_lines</code>, or inspecting fields.compact.empty? on each row.</p>
</dd><dt><strong><code>:force_quotes</code></strong>
<dd>
<p>When set to a <code>true</code> value, <a href="CSV.html">CSV</a> will
quote all <a href="CSV.html">CSV</a> fields it creates.</p>
</dd><dt><strong><code>:skip_lines</code></strong>
<dd>
<p>When set to an object responding to <code>match</code>, every line matching
it is considered a comment and ignored during parsing. When set to a <a
href="String.html">String</a>, it is first converted to a <a
href="Regexp.html">Regexp</a>. When set to <code>nil</code> no line is
considered a comment. If the passed object does not respond to
<code>match</code>, <code>ArgumentError</code> is thrown.</p>
</dd><dt><strong><code>:liberal_parsing</code></strong>
<dd>
<p>When set to a <code>true</code> value, <a href="CSV.html">CSV</a> will
attempt to parse input not conformant with RFC 4180, such as double quotes
in unquoted fields.</p>
</dd><dt><strong><code>:nil_value</code></strong>
<dd>
<p>When set an object, any values of an empty field are replaced by the set
object, not nil.</p>
</dd><dt><strong><code>:empty_value</code></strong>
<dd>
<p>When set an object, any values of a blank string field is replaced by the
set object.</p>
</dd><dt><strong><code>:quote_empty</code></strong>
<dd>
<p>TODO</p>
</dd><dt><strong><code>:write_converters</code></strong>
<dd>
<p>TODO</p>
</dd><dt><strong><code>:write_nil_value</code></strong>
<dd>
<p>TODO</p>
</dd><dt><strong><code>:write_empty_value</code></strong>
<dd>
<p>TODO</p>
</dd><dt><strong><code>:strip</code></strong>
<dd>
<p>TODO</p>
</dd></dl>

<p>See CSV::DEFAULT_OPTIONS for the default settings.</p>

<p>Options cannot be overridden in the instance methods for performance
reasons, so be sure to set what you want here.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-new_source')" id="l_method-c-new_source">show</a>
                
              </p>
              <div id="method-c-new_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/csv.rb, line 897</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">initialize</span>(<span class="ruby-identifier">data</span>,
               <span class="ruby-identifier">col_sep</span><span class="ruby-operator">:</span> <span class="ruby-string">&quot;,&quot;</span>,
               <span class="ruby-identifier">row_sep</span><span class="ruby-operator">:</span> <span class="ruby-value">:auto</span>,
               <span class="ruby-identifier">quote_char</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;&quot;&#39;</span>,
               <span class="ruby-identifier">field_size_limit</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>,
               <span class="ruby-identifier">converters</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>,
               <span class="ruby-identifier">unconverted_fields</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>,
               <span class="ruby-identifier">headers</span><span class="ruby-operator">:</span> <span class="ruby-keyword">false</span>,
               <span class="ruby-identifier">return_headers</span><span class="ruby-operator">:</span> <span class="ruby-keyword">false</span>,
               <span class="ruby-identifier">write_headers</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>,
               <span class="ruby-identifier">header_converters</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>,
               <span class="ruby-identifier">skip_blanks</span><span class="ruby-operator">:</span> <span class="ruby-keyword">false</span>,
               <span class="ruby-identifier">force_quotes</span><span class="ruby-operator">:</span> <span class="ruby-keyword">false</span>,
               <span class="ruby-identifier">skip_lines</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>,
               <span class="ruby-identifier">liberal_parsing</span><span class="ruby-operator">:</span> <span class="ruby-keyword">false</span>,
               <span class="ruby-identifier">internal_encoding</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>,
               <span class="ruby-identifier">external_encoding</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>,
               <span class="ruby-identifier">encoding</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>,
               <span class="ruby-identifier">nil_value</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>,
               <span class="ruby-identifier">empty_value</span><span class="ruby-operator">:</span> <span class="ruby-string">&quot;&quot;</span>,
               <span class="ruby-identifier">quote_empty</span><span class="ruby-operator">:</span> <span class="ruby-keyword">true</span>,
               <span class="ruby-identifier">write_converters</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>,
               <span class="ruby-identifier">write_nil_value</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>,
               <span class="ruby-identifier">write_empty_value</span><span class="ruby-operator">:</span> <span class="ruby-string">&quot;&quot;</span>,
               <span class="ruby-identifier">strip</span><span class="ruby-operator">:</span> <span class="ruby-keyword">false</span>)
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;Cannot parse nil as CSV&quot;</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">data</span>.<span class="ruby-identifier">nil?</span>

  <span class="ruby-comment"># create the IO object we will read from</span>
  <span class="ruby-ivar">@io</span> = <span class="ruby-identifier">data</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">String</span>) <span class="ruby-operator">?</span> <span class="ruby-constant">StringIO</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">data</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">data</span>
  <span class="ruby-ivar">@encoding</span> = <span class="ruby-identifier">determine_encoding</span>(<span class="ruby-identifier">encoding</span>, <span class="ruby-identifier">internal_encoding</span>)

  <span class="ruby-ivar">@base_fields_converter_options</span> = {
    <span class="ruby-identifier">nil_value</span><span class="ruby-operator">:</span> <span class="ruby-identifier">nil_value</span>,
    <span class="ruby-identifier">empty_value</span><span class="ruby-operator">:</span> <span class="ruby-identifier">empty_value</span>,
  }
  <span class="ruby-ivar">@write_fields_converter_options</span> = {
    <span class="ruby-identifier">nil_value</span><span class="ruby-operator">:</span> <span class="ruby-identifier">write_nil_value</span>,
    <span class="ruby-identifier">empty_value</span><span class="ruby-operator">:</span> <span class="ruby-identifier">write_empty_value</span>,
  }
  <span class="ruby-ivar">@initial_converters</span> = <span class="ruby-identifier">converters</span>
  <span class="ruby-ivar">@initial_header_converters</span> = <span class="ruby-identifier">header_converters</span>
  <span class="ruby-ivar">@initial_write_converters</span> = <span class="ruby-identifier">write_converters</span>

  <span class="ruby-ivar">@parser_options</span> = {
    <span class="ruby-identifier">column_separator</span><span class="ruby-operator">:</span> <span class="ruby-identifier">col_sep</span>,
    <span class="ruby-identifier">row_separator</span><span class="ruby-operator">:</span> <span class="ruby-identifier">row_sep</span>,
    <span class="ruby-identifier">quote_character</span><span class="ruby-operator">:</span> <span class="ruby-identifier">quote_char</span>,
    <span class="ruby-identifier">field_size_limit</span><span class="ruby-operator">:</span> <span class="ruby-identifier">field_size_limit</span>,
    <span class="ruby-identifier">unconverted_fields</span><span class="ruby-operator">:</span> <span class="ruby-identifier">unconverted_fields</span>,
    <span class="ruby-identifier">headers</span><span class="ruby-operator">:</span> <span class="ruby-identifier">headers</span>,
    <span class="ruby-identifier">return_headers</span><span class="ruby-operator">:</span> <span class="ruby-identifier">return_headers</span>,
    <span class="ruby-identifier">skip_blanks</span><span class="ruby-operator">:</span> <span class="ruby-identifier">skip_blanks</span>,
    <span class="ruby-identifier">skip_lines</span><span class="ruby-operator">:</span> <span class="ruby-identifier">skip_lines</span>,
    <span class="ruby-identifier">liberal_parsing</span><span class="ruby-operator">:</span> <span class="ruby-identifier">liberal_parsing</span>,
    <span class="ruby-identifier">encoding</span><span class="ruby-operator">:</span> <span class="ruby-ivar">@encoding</span>,
    <span class="ruby-identifier">nil_value</span><span class="ruby-operator">:</span> <span class="ruby-identifier">nil_value</span>,
    <span class="ruby-identifier">empty_value</span><span class="ruby-operator">:</span> <span class="ruby-identifier">empty_value</span>,
    <span class="ruby-identifier">strip</span><span class="ruby-operator">:</span> <span class="ruby-identifier">strip</span>,
  }
  <span class="ruby-ivar">@parser</span> = <span class="ruby-keyword">nil</span>

  <span class="ruby-ivar">@writer_options</span> = {
    <span class="ruby-identifier">encoding</span><span class="ruby-operator">:</span> <span class="ruby-ivar">@encoding</span>,
    <span class="ruby-identifier">force_encoding</span><span class="ruby-operator">:</span> (<span class="ruby-keyword">not</span> <span class="ruby-identifier">encoding</span>.<span class="ruby-identifier">nil?</span>),
    <span class="ruby-identifier">force_quotes</span><span class="ruby-operator">:</span> <span class="ruby-identifier">force_quotes</span>,
    <span class="ruby-identifier">headers</span><span class="ruby-operator">:</span> <span class="ruby-identifier">headers</span>,
    <span class="ruby-identifier">write_headers</span><span class="ruby-operator">:</span> <span class="ruby-identifier">write_headers</span>,
    <span class="ruby-identifier">column_separator</span><span class="ruby-operator">:</span> <span class="ruby-identifier">col_sep</span>,
    <span class="ruby-identifier">row_separator</span><span class="ruby-operator">:</span> <span class="ruby-identifier">row_sep</span>,
    <span class="ruby-identifier">quote_character</span><span class="ruby-operator">:</span> <span class="ruby-identifier">quote_char</span>,
    <span class="ruby-identifier">quote_empty</span><span class="ruby-operator">:</span> <span class="ruby-identifier">quote_empty</span>,
  }

  <span class="ruby-ivar">@writer</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">writer</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@writer_options</span>[<span class="ruby-value">:write_headers</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-open">
            
              <b>open( filename, mode = "rb", **options ) { |faster_csv| ... }<br />open( filename, **options ) { |faster_csv| ... }<br />open( filename, mode = "rb", **options )<br />open( filename, **options )
</b>
            
            <a href="../classes/CSV.html#method-c-open" name="method-c-open" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>This method opens an <a href="IO.html">IO</a> object, and wraps that with
<a href="CSV.html">CSV</a>.  This is intended as the primary interface for
writing a <a href="CSV.html">CSV</a> file.</p>

<p>You must pass a <code>filename</code> and may optionally add a
<code>mode</code> for Ruby&#39;s open().  You may also pass an optional <a
href="Hash.html">Hash</a> containing any <code>options</code> <a
href="CSV.html#method-c-new">::new</a> understands as the final argument.</p>

<p>This method works like Ruby&#39;s open() call, in that it will pass a <a
href="CSV.html">CSV</a> object to a provided block and close it when the
block terminates, or it will return the <a href="CSV.html">CSV</a> object
when no block is provided.  (<strong>Note</strong>: This is different from
the Ruby 1.8 <a href="CSV.html">CSV</a> library which passed rows to the
block.  Use <a href="CSV.html#method-c-foreach">::foreach</a> for that
behavior.)</p>

<p>You must provide a <code>mode</code> with an embedded <a
href="Encoding.html">Encoding</a> designator unless your data is in <a
href="Encoding.html#method-c-default_external">Encoding.default_external</a>.
<a href="CSV.html">CSV</a> will check the <a
href="Encoding.html">Encoding</a> of the underlying <a
href="IO.html">IO</a> object (set by the <code>mode</code> you pass) to
determine how to parse the data.   You may provide a second <a
href="Encoding.html">Encoding</a> to have the data transcoded as it is read
just as you can with a normal call to <a
href="IO.html#method-c-open">IO.open</a>.  For example,
<code>&quot;rb:UTF-32BE:UTF-8&quot;</code> would read UTF-32BE data from
the file but transcode it to UTF-8 before <a href="CSV.html">CSV</a> parses
it.</p>

<p>An opened <a href="CSV.html">CSV</a> object will delegate to many <a
href="IO.html">IO</a> methods for convenience.  You may call:</p>
<ul><li>
<p>binmode()</p>
</li><li>
<p>binmode?()</p>
</li><li>
<p>close()</p>
</li><li>
<p>close_read()</p>
</li><li>
<p>close_write()</p>
</li><li>
<p>closed?()</p>
</li><li>
<p>eof()</p>
</li><li>
<p>eof?()</p>
</li><li>
<p>external_encoding()</p>
</li><li>
<p>fcntl()</p>
</li><li>
<p>fileno()</p>
</li><li>
<p>flock()</p>
</li><li>
<p>flush()</p>
</li><li>
<p>fsync()</p>
</li><li>
<p>internal_encoding()</p>
</li><li>
<p>ioctl()</p>
</li><li>
<p>isatty()</p>
</li><li>
<p>path()</p>
</li><li>
<p>pid()</p>
</li><li>
<p>pos()</p>
</li><li>
<p>pos=()</p>
</li><li>
<p>reopen()</p>
</li><li>
<p>seek()</p>
</li><li>
<p>stat()</p>
</li><li>
<p>sync()</p>
</li><li>
<p>sync=()</p>
</li><li>
<p>tell()</p>
</li><li>
<p><a href="CSV.html#method-i-to_i">#to_i</a>()</p>
</li><li>
<p><a href="CSV.html#method-i-to_io">#to_io</a>()</p>
</li><li>
<p>truncate()</p>
</li><li>
<p>tty?()</p>
</li></ul>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-open_source')" id="l_method-c-open_source">show</a>
                
              </p>
              <div id="method-c-open_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/csv.rb, line 633</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">open</span>(<span class="ruby-identifier">filename</span>, <span class="ruby-identifier">mode</span>=<span class="ruby-string">&quot;r&quot;</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)
  <span class="ruby-comment"># wrap a File opened with the remaining +args+ with no newline</span>
  <span class="ruby-comment"># decorator</span>
  <span class="ruby-identifier">file_opts</span> = {<span class="ruby-identifier">universal_newline</span><span class="ruby-operator">:</span> <span class="ruby-keyword">false</span>}.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">options</span>)

  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">f</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-identifier">filename</span>, <span class="ruby-identifier">mode</span>, <span class="ruby-identifier">file_opts</span>)
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">ArgumentError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-keyword">unless</span> <span class="ruby-regexp">/needs binmode/</span>.<span class="ruby-identifier">match?</span>(<span class="ruby-identifier">e</span>.<span class="ruby-identifier">message</span>) <span class="ruby-keyword">and</span> <span class="ruby-identifier">mode</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;r&quot;</span>
    <span class="ruby-identifier">mode</span> = <span class="ruby-string">&quot;rb&quot;</span>
    <span class="ruby-identifier">file_opts</span> = {<span class="ruby-identifier">encoding</span><span class="ruby-operator">:</span> <span class="ruby-constant">Encoding</span>.<span class="ruby-identifier">default_external</span>}.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">file_opts</span>)
    <span class="ruby-keyword">retry</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">csv</span> = <span class="ruby-identifier">new</span>(<span class="ruby-identifier">f</span>, <span class="ruby-identifier">options</span>)
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">Exception</span>
    <span class="ruby-identifier">f</span>.<span class="ruby-identifier">close</span>
    <span class="ruby-identifier">raise</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-comment"># handle blocks like Ruby&#39;s open(), not like the CSV library</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
    <span class="ruby-keyword">begin</span>
      <span class="ruby-keyword">yield</span> <span class="ruby-identifier">csv</span>
    <span class="ruby-keyword">ensure</span>
      <span class="ruby-identifier">csv</span>.<span class="ruby-identifier">close</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">csv</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-parse">
            
              <b>parse( str, **options ) { |row| ... }<br />parse( str, **options )
</b>
            
            <a href="../classes/CSV.html#method-c-parse" name="method-c-parse" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>This method can be used to easily parse <a href="CSV.html">CSV</a> out of a
<a href="String.html">String</a>.  You may either provide a
<code>block</code> which will be called with each row of the <a
href="String.html">String</a> in turn, or just use the returned <a
href="Array.html">Array</a> of Arrays (when no <code>block</code> is
given).</p>

<p>You pass your <code>str</code> to read from, and an optional
<code>options</code> containing anything <a
href="CSV.html#method-c-new">::new</a> understands.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-parse_source')" id="l_method-c-parse_source">show</a>
                
              </p>
              <div id="method-c-parse_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/csv.rb, line 677</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">csv</span> = <span class="ruby-identifier">new</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)

  <span class="ruby-keyword">return</span> <span class="ruby-identifier">csv</span>.<span class="ruby-identifier">each</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>

  <span class="ruby-comment"># slurp contents, if no block is given</span>
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">csv</span>.<span class="ruby-identifier">read</span>
  <span class="ruby-keyword">ensure</span>
    <span class="ruby-identifier">csv</span>.<span class="ruby-identifier">close</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-parse_line">
            
              <b>parse_line</b>(line, **options)
            
            <a href="../classes/CSV.html#method-c-parse_line" name="method-c-parse_line" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>This method is a shortcut for converting a single line of a <a
href="CSV.html">CSV</a> <a href="String.html">String</a> into an <a
href="Array.html">Array</a>.  Note that if <code>line</code> contains
multiple rows, anything beyond the first row is ignored.</p>

<p>The <code>options</code> parameter can be anything <a
href="CSV.html#method-c-new">::new</a> understands.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-parse_line_source')" id="l_method-c-parse_line_source">show</a>
                
              </p>
              <div id="method-c-parse_line_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/csv.rb, line 697</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">parse_line</span>(<span class="ruby-identifier">line</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)
  <span class="ruby-identifier">new</span>(<span class="ruby-identifier">line</span>, <span class="ruby-identifier">options</span>).<span class="ruby-identifier">shift</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-read">
            
              <b>read</b>(path, *options)
            
            <a href="../classes/CSV.html#method-c-read" name="method-c-read" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Use to slurp a <a href="CSV.html">CSV</a> file into an <a
href="Array.html">Array</a> of Arrays.  Pass the <code>path</code> to the
file and any <code>options</code> <a href="CSV.html#method-c-new">::new</a>
understands.  This method also understands an additional
<code>:encoding</code> parameter that you can use to specify the <a
href="Encoding.html">Encoding</a> of the data in the file to be read. You
must provide this unless your data is in <a
href="Encoding.html#method-c-default_external">Encoding.default_external</a>.
<a href="CSV.html">CSV</a> will use this to determine how to parse the
data.  You may provide a second <a href="Encoding.html">Encoding</a> to
have the data transcoded as it is read.  For example, <code>encoding:
&quot;UTF-32BE:UTF-8&quot;</code> would read UTF-32BE data from the file
but transcode it to UTF-8 before <a href="CSV.html">CSV</a> parses it.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-read_source')" id="l_method-c-read_source">show</a>
                
              </p>
              <div id="method-c-read_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/csv.rb, line 712</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">read</span>(<span class="ruby-identifier">path</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">options</span>)
  <span class="ruby-identifier">open</span>(<span class="ruby-identifier">path</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">options</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">csv</span><span class="ruby-operator">|</span> <span class="ruby-identifier">csv</span>.<span class="ruby-identifier">read</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-readlines">
            
              <b>readlines</b>(*args)
            
            <a href="../classes/CSV.html#method-c-readlines" name="method-c-readlines" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Alias for <a href="CSV.html#method-c-read">::read</a>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-readlines_source')" id="l_method-c-readlines_source">show</a>
                
              </p>
              <div id="method-c-readlines_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/csv.rb, line 717</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">readlines</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">read</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-table">
            
              <b>table</b>(path, **options)
            
            <a href="../classes/CSV.html#method-c-table" name="method-c-table" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>A shortcut for:</p>

<pre><code>CSV.read( path, { headers:           true,
                  converters:        :numeric,
                  header_converters: :symbol }.merge(options) )
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-table_source')" id="l_method-c-table_source">show</a>
                
              </p>
              <div id="method-c-table_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/csv.rb, line 728</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">table</span>(<span class="ruby-identifier">path</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)
  <span class="ruby-identifier">read</span>( <span class="ruby-identifier">path</span>, { <span class="ruby-identifier">headers</span><span class="ruby-operator">:</span>           <span class="ruby-keyword">true</span>,
                <span class="ruby-identifier">converters</span><span class="ruby-operator">:</span>        <span class="ruby-value">:numeric</span>,
                <span class="ruby-identifier">header_converters</span><span class="ruby-operator">:</span> <span class="ruby-value">:symbol</span> }.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">options</span>) )
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
                  
      <div class="sectiontitle">Instance Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-i-3C-3C">
            
              <b>&lt;&lt;</b>(row)
            
            <a href="../classes/CSV.html#method-i-3C-3C" name="method-i-3C-3C" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>The primary write method for wrapped Strings and IOs, <code>row</code> (an
<a href="Array.html">Array</a> or <a href="CSV/Row.html">CSV::Row</a>) is
converted to <a href="CSV.html">CSV</a> and appended to the data source. 
When a <a href="CSV/Row.html">CSV::Row</a> is passed, only the row&#39;s
fields() are appended to the output.</p>

<p>The data source must be open for writing.</p>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="CSV.html#method-i-add_row">add_row</a>, <a href="CSV.html#method-i-puts">puts</a>
            </div>
          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-3C-3C_source')" id="l_method-i-3C-3C_source">show</a>
                
              </p>
              <div id="method-i-3C-3C_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/csv.rb, line 1184</span>
<span class="ruby-keyword">def</span> <span class="ruby-operator">&lt;&lt;</span>(<span class="ruby-keyword ruby-title">row</span>)
  <span class="ruby-identifier">writer</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">row</span>
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-add_row">
            
              <b>add_row</b>(row)
            
            <a href="../classes/CSV.html#method-i-add_row" name="method-i-add_row" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="CSV.html#method-i-3C-3C">&lt;&lt;</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-binmode-3F">
            
              <b>binmode?</b>()
            
            <a href="../classes/CSV.html#method-i-binmode-3F" name="method-i-binmode-3F" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-binmode-3F_source')" id="l_method-i-binmode-3F_source">show</a>
                
              </p>
              <div id="method-i-binmode-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/csv.rb, line 1121</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">binmode?</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@io</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:binmode?</span>)
    <span class="ruby-ivar">@io</span>.<span class="ruby-identifier">binmode?</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-col_sep">
            
              <b>col_sep</b>()
            
            <a href="../classes/CSV.html#method-i-col_sep" name="method-i-col_sep" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>The encoded <code>:col_sep</code> used in parsing and writing.  See <a
href="CSV.html#method-c-new">::new</a> for details.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-col_sep_source')" id="l_method-i-col_sep_source">show</a>
                
              </p>
              <div id="method-i-col_sep_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/csv.rb, line 978</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">col_sep</span>
  <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">column_separator</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-convert">
            
              <b>convert( name )<br />convert { |field| ... }<br />convert { |field, field_info| ... }
</b>
            
            <a href="../classes/CSV.html#method-i-convert" name="method-i-convert" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>You can use this method to install a CSV::Converters built-in, or provide a
block that handles a custom conversion.</p>

<p>If you provide a block that takes one argument, it will be passed the field
and is expected to return the converted value or the field itself.  If your
block takes two arguments, it will also be passed a CSV::FieldInfo <a
href="Struct.html">Struct</a>, containing details about the field.  Again,
the block should return a converted field or the field itself.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-convert_source')" id="l_method-i-convert_source">show</a>
                
              </p>
              <div id="method-i-convert_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/csv.rb, line 1206</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">convert</span>(<span class="ruby-identifier">name</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">converter</span>)
  <span class="ruby-identifier">parser_fields_converter</span>.<span class="ruby-identifier">add_converter</span>(<span class="ruby-identifier">name</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">converter</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-converters">
            
              <b>converters</b>()
            
            <a href="../classes/CSV.html#method-i-converters" name="method-i-converters" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns the current list of converters in effect.  See <a
href="CSV.html#method-c-new">::new</a> for details. Built-in converters
will be returned by name, while others will be returned as is.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-converters_source')" id="l_method-i-converters_source">show</a>
                
              </p>
              <div id="method-i-converters_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/csv.rb, line 1013</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">converters</span>
  <span class="ruby-identifier">parser_fields_converter</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">converter</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">name</span> = <span class="ruby-constant">Converters</span>.<span class="ruby-identifier">rassoc</span>(<span class="ruby-identifier">converter</span>)
    <span class="ruby-identifier">name</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">first</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">converter</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-each">
            
              <b>each</b>(&amp;block)
            
            <a href="../classes/CSV.html#method-i-each" name="method-i-each" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Yields each row of the data source in turn.</p>

<p>Support for <a href="Enumerable.html">Enumerable</a>.</p>

<p>The data source must be open for reading.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-each_source')" id="l_method-i-each_source">show</a>
                
              </p>
              <div id="method-i-each_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/csv.rb, line 1234</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">each</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">parser_enumerator</span>.<span class="ruby-identifier">each</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-eof">
            
              <b>eof</b>()
            
            <a href="../classes/CSV.html#method-i-eof" name="method-i-eof" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="CSV.html#method-i-eof-3F">eof?</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-eof-3F">
            
              <b>eof?</b>()
            
            <a href="../classes/CSV.html#method-i-eof-3F" name="method-i-eof-3F" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="CSV.html#method-i-eof">eof</a>
            </div>
          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-eof-3F_source')" id="l_method-i-eof-3F_source">show</a>
                
              </p>
              <div id="method-i-eof-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/csv.rb, line 1157</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">eof?</span>
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">parser_enumerator</span>.<span class="ruby-identifier">peek</span>
    <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">StopIteration</span>
    <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-field_size_limit">
            
              <b>field_size_limit</b>()
            
            <a href="../classes/CSV.html#method-i-field_size_limit" name="method-i-field_size_limit" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>The limit for field size, if any.  See <a
href="CSV.html#method-c-new">::new</a> for details.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-field_size_limit_source')" id="l_method-i-field_size_limit_source">show</a>
                
              </p>
              <div id="method-i-field_size_limit_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/csv.rb, line 999</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">field_size_limit</span>
  <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">field_size_limit</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-flock">
            
              <b>flock</b>(*args)
            
            <a href="../classes/CSV.html#method-i-flock" name="method-i-flock" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-flock_source')" id="l_method-i-flock_source">show</a>
                
              </p>
              <div id="method-i-flock_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/csv.rb, line 1129</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">flock</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">NotImplementedError</span> <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@io</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:flock</span>)
  <span class="ruby-ivar">@io</span>.<span class="ruby-identifier">flock</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-force_quotes-3F">
            
              <b>force_quotes?</b>()
            
            <a href="../classes/CSV.html#method-i-force_quotes-3F" name="method-i-force_quotes-3F" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns <code>true</code> if all output fields are quoted. See <a
href="CSV.html#method-c-new">::new</a> for details.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-force_quotes-3F_source')" id="l_method-i-force_quotes-3F_source">show</a>
                
              </p>
              <div id="method-i-force_quotes-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/csv.rb, line 1077</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">force_quotes?</span>
  <span class="ruby-ivar">@writer_options</span>[<span class="ruby-value">:force_quotes</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-gets">
            
              <b>gets</b>()
            
            <a href="../classes/CSV.html#method-i-gets" name="method-i-gets" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="CSV.html#method-i-shift">shift</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-header_convert">
            
              <b>header_convert( name )<br />header_convert { |field| ... }<br />header_convert { |field, field_info| ... }
</b>
            
            <a href="../classes/CSV.html#method-i-header_convert" name="method-i-header_convert" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Identical to <a href="CSV.html#method-i-convert">#convert</a>, but for
header rows.</p>

<p>Note that this method must be called before header rows are read to have
any effect.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-header_convert_source')" id="l_method-i-header_convert_source">show</a>
                
              </p>
              <div id="method-i-header_convert_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/csv.rb, line 1221</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">header_convert</span>(<span class="ruby-identifier">name</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">converter</span>)
  <span class="ruby-identifier">header_fields_converter</span>.<span class="ruby-identifier">add_converter</span>(<span class="ruby-identifier">name</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">converter</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-header_converters">
            
              <b>header_converters</b>()
            
            <a href="../classes/CSV.html#method-i-header_converters" name="method-i-header_converters" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns the current list of converters in effect for headers.  See <a
href="CSV.html#method-c-new">::new</a> for details.  Built-in converters
will be returned by name, while others will be returned as is.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-header_converters_source')" id="l_method-i-header_converters_source">show</a>
                
              </p>
              <div id="method-i-header_converters_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/csv.rb, line 1061</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">header_converters</span>
  <span class="ruby-identifier">header_fields_converter</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">converter</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">name</span> = <span class="ruby-constant">HeaderConverters</span>.<span class="ruby-identifier">rassoc</span>(<span class="ruby-identifier">converter</span>)
    <span class="ruby-identifier">name</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">first</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">converter</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-header_row-3F">
            
              <b>header_row?</b>()
            
            <a href="../classes/CSV.html#method-i-header_row-3F" name="method-i-header_row-3F" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns <code>true</code> if the next row read will be a header row.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-header_row-3F_source')" id="l_method-i-header_row-3F_source">show</a>
                
              </p>
              <div id="method-i-header_row-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/csv.rb, line 1254</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">header_row?</span>
  <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">header_row?</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-headers">
            
              <b>headers</b>()
            
            <a href="../classes/CSV.html#method-i-headers" name="method-i-headers" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns <code>nil</code> if headers will not be used, <code>true</code> if
they will but have not yet been read, or the actual headers after they have
been read.  See <a href="CSV.html#method-c-new">::new</a> for details.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-headers_source')" id="l_method-i-headers_source">show</a>
                
              </p>
              <div id="method-i-headers_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/csv.rb, line 1032</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">headers</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@writer</span>
    <span class="ruby-ivar">@writer</span>.<span class="ruby-identifier">headers</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">parsed_headers</span> = <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">headers</span>
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">parsed_headers</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">parsed_headers</span>
    <span class="ruby-identifier">raw_headers</span> = <span class="ruby-ivar">@parser_options</span>[<span class="ruby-value">:headers</span>]
    <span class="ruby-identifier">raw_headers</span> = <span class="ruby-keyword">nil</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">raw_headers</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>
    <span class="ruby-identifier">raw_headers</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-inspect">
            
              <b>inspect</b>()
            
            <a href="../classes/CSV.html#method-i-inspect" name="method-i-inspect" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns a simplified description of the key <a href="CSV.html">CSV</a>
attributes in an ASCII compatible <a href="String.html">String</a>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-inspect_source')" id="l_method-i-inspect_source">show</a>
                
              </p>
              <div id="method-i-inspect_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/csv.rb, line 1279</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">inspect</span>
  <span class="ruby-identifier">str</span> = [<span class="ruby-node">&quot;&lt;#&quot;</span>, <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">to_s</span>, <span class="ruby-string">&quot; io_type:&quot;</span>]
  <span class="ruby-comment"># show type of wrapped IO</span>
  <span class="ruby-keyword">if</span>    <span class="ruby-ivar">@io</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">$stdout</span> <span class="ruby-keyword">then</span> <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;$stdout&quot;</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-ivar">@io</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">$stdin</span>  <span class="ruby-keyword">then</span> <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;$stdin&quot;</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-ivar">@io</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">$stderr</span> <span class="ruby-keyword">then</span> <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;$stderr&quot;</span>
  <span class="ruby-keyword">else</span>                      <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-ivar">@io</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">to_s</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-comment"># show IO.path(), if available</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@io</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:path</span>) <span class="ruby-keyword">and</span> (<span class="ruby-identifier">p</span> = <span class="ruby-ivar">@io</span>.<span class="ruby-identifier">path</span>)
    <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot; io_path:&quot;</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">p</span>.<span class="ruby-identifier">inspect</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-comment"># show encoding</span>
  <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot; encoding:&quot;</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-ivar">@encoding</span>.<span class="ruby-identifier">name</span>
  <span class="ruby-comment"># show other attributes</span>
  [<span class="ruby-string">&quot;lineno&quot;</span>, <span class="ruby-string">&quot;col_sep&quot;</span>, <span class="ruby-string">&quot;row_sep&quot;</span>, <span class="ruby-string">&quot;quote_char&quot;</span>].<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">attr_name</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">a</span> = <span class="ruby-identifier">__send__</span>(<span class="ruby-identifier">attr_name</span>)
      <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot; &quot;</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">attr_name</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;:&quot;</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">inspect</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  [<span class="ruby-string">&quot;skip_blanks&quot;</span>, <span class="ruby-string">&quot;liberal_parsing&quot;</span>].<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">attr_name</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">a</span> = <span class="ruby-identifier">__send__</span>(<span class="ruby-node">&quot;#{attr_name}?&quot;</span>)
      <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot; &quot;</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">attr_name</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;:&quot;</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">inspect</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">_headers</span> = <span class="ruby-identifier">headers</span>
  <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot; headers:&quot;</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">_headers</span>.<span class="ruby-identifier">inspect</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">_headers</span>
  <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;&gt;&quot;</span>
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">str</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&#39;&#39;</span>)
  <span class="ruby-keyword">rescue</span>  <span class="ruby-comment"># any encoding error</span>
    <span class="ruby-identifier">str</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">s</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">e</span> = <span class="ruby-constant">Encoding</span><span class="ruby-operator">::</span><span class="ruby-constant">Converter</span>.<span class="ruby-identifier">asciicompat_encoding</span>(<span class="ruby-identifier">s</span>.<span class="ruby-identifier">encoding</span>)
      <span class="ruby-identifier">e</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">s</span>.<span class="ruby-identifier">encode</span>(<span class="ruby-identifier">e</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">s</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-string">&quot;ASCII-8BIT&quot;</span>)
    <span class="ruby-keyword">end</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&#39;&#39;</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-ioctl">
            
              <b>ioctl</b>(*args)
            
            <a href="../classes/CSV.html#method-i-ioctl" name="method-i-ioctl" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-ioctl_source')" id="l_method-i-ioctl_source">show</a>
                
              </p>
              <div id="method-i-ioctl_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/csv.rb, line 1134</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">ioctl</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">NotImplementedError</span> <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@io</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:ioctl</span>)
  <span class="ruby-ivar">@io</span>.<span class="ruby-identifier">ioctl</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-liberal_parsing-3F">
            
              <b>liberal_parsing?</b>()
            
            <a href="../classes/CSV.html#method-i-liberal_parsing-3F" name="method-i-liberal_parsing-3F" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns <code>true</code> if illegal input is handled. See <a
href="CSV.html#method-c-new">::new</a> for details.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-liberal_parsing-3F_source')" id="l_method-i-liberal_parsing-3F_source">show</a>
                
              </p>
              <div id="method-i-liberal_parsing-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/csv.rb, line 1082</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">liberal_parsing?</span>
  <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">liberal_parsing?</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-line">
            
              <b>line</b>()
            
            <a href="../classes/CSV.html#method-i-line" name="method-i-line" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>The last row read from this file.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-line_source')" id="l_method-i-line_source">show</a>
                
              </p>
              <div id="method-i-line_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/csv.rb, line 1107</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">line</span>
  <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">line</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-lineno">
            
              <b>lineno</b>()
            
            <a href="../classes/CSV.html#method-i-lineno" name="method-i-lineno" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>The line number of the last row read from this file. Fields with nested
line-end characters will not affect this count.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-lineno_source')" id="l_method-i-lineno_source">show</a>
                
              </p>
              <div id="method-i-lineno_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/csv.rb, line 1096</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">lineno</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@writer</span>
    <span class="ruby-ivar">@writer</span>.<span class="ruby-identifier">lineno</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">lineno</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-path">
            
              <b>path</b>()
            
            <a href="../classes/CSV.html#method-i-path" name="method-i-path" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-path_source')" id="l_method-i-path_source">show</a>
                
              </p>
              <div id="method-i-path_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/csv.rb, line 1139</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">path</span>
  <span class="ruby-ivar">@io</span>.<span class="ruby-identifier">path</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@io</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:path</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-puts">
            
              <b>puts</b>(row)
            
            <a href="../classes/CSV.html#method-i-puts" name="method-i-puts" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="CSV.html#method-i-3C-3C">&lt;&lt;</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-quote_char">
            
              <b>quote_char</b>()
            
            <a href="../classes/CSV.html#method-i-quote_char" name="method-i-quote_char" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>The encoded <code>:quote_char</code> used in parsing and writing.  See <a
href="CSV.html#method-c-new">::new</a> for details.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-quote_char_source')" id="l_method-i-quote_char_source">show</a>
                
              </p>
              <div id="method-i-quote_char_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/csv.rb, line 994</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">quote_char</span>
  <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">quote_character</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-read">
            
              <b>read</b>()
            
            <a href="../classes/CSV.html#method-i-read" name="method-i-read" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Slurps the remaining rows and returns an <a href="Array.html">Array</a> of
Arrays.</p>

<p>The data source must be open for reading.</p>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="CSV.html#method-i-readlines">readlines</a>
            </div>
          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-read_source')" id="l_method-i-read_source">show</a>
                
              </p>
              <div id="method-i-read_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/csv.rb, line 1243</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">read</span>
  <span class="ruby-identifier">rows</span> = <span class="ruby-identifier">to_a</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">use_headers?</span>
    <span class="ruby-constant">Table</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">rows</span>, <span class="ruby-identifier">headers</span><span class="ruby-operator">:</span> <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">headers</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">rows</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-readline">
            
              <b>readline</b>()
            
            <a href="../classes/CSV.html#method-i-readline" name="method-i-readline" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="CSV.html#method-i-shift">shift</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-readlines">
            
              <b>readlines</b>()
            
            <a href="../classes/CSV.html#method-i-readlines" name="method-i-readlines" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="CSV.html#method-i-read">read</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-return_headers-3F">
            
              <b>return_headers?</b>()
            
            <a href="../classes/CSV.html#method-i-return_headers-3F" name="method-i-return_headers-3F" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns <code>true</code> if headers will be returned as a row of results.
See <a href="CSV.html#method-c-new">::new</a> for details.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-return_headers-3F_source')" id="l_method-i-return_headers-3F_source">show</a>
                
              </p>
              <div id="method-i-return_headers-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/csv.rb, line 1047</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">return_headers?</span>
  <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">return_headers?</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-rewind">
            
              <b>rewind</b>()
            
            <a href="../classes/CSV.html#method-i-rewind" name="method-i-rewind" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Rewinds the underlying <a href="IO.html">IO</a> object and resets CSV&#39;s
lineno() counter.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-rewind_source')" id="l_method-i-rewind_source">show</a>
                
              </p>
              <div id="method-i-rewind_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/csv.rb, line 1168</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">rewind</span>
  <span class="ruby-ivar">@parser</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@parser_enumerator</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@writer</span>.<span class="ruby-identifier">rewind</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@writer</span>
  <span class="ruby-ivar">@io</span>.<span class="ruby-identifier">rewind</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-row_sep">
            
              <b>row_sep</b>()
            
            <a href="../classes/CSV.html#method-i-row_sep" name="method-i-row_sep" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>The encoded <code>:row_sep</code> used in parsing and writing.  See <a
href="CSV.html#method-c-new">::new</a> for details.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-row_sep_source')" id="l_method-i-row_sep_source">show</a>
                
              </p>
              <div id="method-i-row_sep_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/csv.rb, line 986</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">row_sep</span>
  <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">row_separator</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-shift">
            
              <b>shift</b>()
            
            <a href="../classes/CSV.html#method-i-shift" name="method-i-shift" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>The primary read method for wrapped Strings and IOs, a single row is pulled
from the data source, parsed and returned as an <a
href="Array.html">Array</a> of fields (if header rows are not used) or a <a
href="CSV/Row.html">CSV::Row</a> (when header rows are used).</p>

<p>The data source must be open for reading.</p>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="CSV.html#method-i-gets">gets</a>, <a href="CSV.html#method-i-readline">readline</a>
            </div>
          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-shift_source')" id="l_method-i-shift_source">show</a>
                
              </p>
              <div id="method-i-shift_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/csv.rb, line 1265</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">shift</span>
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">parser_enumerator</span>.<span class="ruby-identifier">next</span>
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">StopIteration</span>
    <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-skip_blanks-3F">
            
              <b>skip_blanks?</b>()
            
            <a href="../classes/CSV.html#method-i-skip_blanks-3F" name="method-i-skip_blanks-3F" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns <code>true</code> blank lines are skipped by the parser. See <a
href="CSV.html#method-c-new">::new</a> for details.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-skip_blanks-3F_source')" id="l_method-i-skip_blanks-3F_source">show</a>
                
              </p>
              <div id="method-i-skip_blanks-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/csv.rb, line 1072</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">skip_blanks?</span>
  <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">skip_blanks?</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-skip_lines">
            
              <b>skip_lines</b>()
            
            <a href="../classes/CSV.html#method-i-skip_lines" name="method-i-skip_lines" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>The regex marking a line as a comment. See <a
href="CSV.html#method-c-new">::new</a> for details</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-skip_lines_source')" id="l_method-i-skip_lines_source">show</a>
                
              </p>
              <div id="method-i-skip_lines_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/csv.rb, line 1004</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">skip_lines</span>
  <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">skip_lines</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-stat">
            
              <b>stat</b>(*args)
            
            <a href="../classes/CSV.html#method-i-stat" name="method-i-stat" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-stat_source')" id="l_method-i-stat_source">show</a>
                
              </p>
              <div id="method-i-stat_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/csv.rb, line 1143</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">stat</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">NotImplementedError</span> <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@io</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:stat</span>)
  <span class="ruby-ivar">@io</span>.<span class="ruby-identifier">stat</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-to_i">
            
              <b>to_i</b>()
            
            <a href="../classes/CSV.html#method-i-to_i" name="method-i-to_i" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-to_i_source')" id="l_method-i-to_i_source">show</a>
                
              </p>
              <div id="method-i-to_i_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/csv.rb, line 1148</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">to_i</span>
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">NotImplementedError</span> <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@io</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:to_i</span>)
  <span class="ruby-ivar">@io</span>.<span class="ruby-identifier">to_i</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-to_io">
            
              <b>to_io</b>()
            
            <a href="../classes/CSV.html#method-i-to_io" name="method-i-to_io" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-to_io_source')" id="l_method-i-to_io_source">show</a>
                
              </p>
              <div id="method-i-to_io_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/csv.rb, line 1153</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">to_io</span>
  <span class="ruby-ivar">@io</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:to_io</span>) <span class="ruby-operator">?</span> <span class="ruby-ivar">@io</span>.<span class="ruby-identifier">to_io</span> <span class="ruby-operator">:</span> <span class="ruby-ivar">@io</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-unconverted_fields-3F">
            
              <b>unconverted_fields?</b>()
            
            <a href="../classes/CSV.html#method-i-unconverted_fields-3F" name="method-i-unconverted_fields-3F" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns <code>true</code> if unconverted_fields() to parsed results.  See
<a href="CSV.html#method-c-new">::new</a> for details.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-unconverted_fields-3F_source')" id="l_method-i-unconverted_fields-3F_source">show</a>
                
              </p>
              <div id="method-i-unconverted_fields-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/csv.rb, line 1023</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">unconverted_fields?</span>
  <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">unconverted_fields?</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-write_headers-3F">
            
              <b>write_headers?</b>()
            
            <a href="../classes/CSV.html#method-i-write_headers-3F" name="method-i-write_headers-3F" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns <code>true</code> if headers are written in output. See <a
href="CSV.html#method-c-new">::new</a> for details.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-write_headers-3F_source')" id="l_method-i-write_headers-3F_source">show</a>
                
              </p>
              <div id="method-i-write_headers-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/csv.rb, line 1052</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">write_headers?</span>
  <span class="ruby-ivar">@writer_options</span>[<span class="ruby-value">:write_headers</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
                    </div>

    </div>
  </body>
</html>
