<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Bundler::Source::Git</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="../../../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../../css/github.css" type="text/css" media="screen" />
<script src="../../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>
    <div class="banner">
        
        <h1>
            <span class="type">Class</span>
            Bundler::Source::Git
            
                <span class="parent">&lt;
                    
                    Path
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../../files/lib/bundler/source/git_rb.html">lib/bundler/source/git.rb</a></li>
            
            <li><a href="../../../files/lib/bundler/source/git/git_proxy_rb.html">lib/bundler/source/git/git_proxy.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  


  


  
  


  
    <!-- Namespace -->
    <div class="sectiontitle">Namespace</div>
    <ul>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Git/GitCommandError.html">Bundler::Source::Git::GitCommandError</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Git/GitNotAllowedError.html">Bundler::Source::Git::GitNotAllowedError</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Git/GitNotInstalledError.html">Bundler::Source::Git::GitNotInstalledError</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Git/GitProxy.html">Bundler::Source::Git::GitProxy</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Git/MissingGitRevisionError.html">Bundler::Source::Git::MissingGitRevisionError</a>
        </li>
      
    </ul>
  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>#</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-3D-3D">==</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>A</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-allow_git_ops-3F">allow_git_ops?</a>,
              </li>
            
              
              <li>
                <a href="#method-i-app_cache_dirname">app_cache_dirname</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>C</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-cache">cache</a>,
              </li>
            
              
              <li>
                <a href="#method-i-cache_path">cache_path</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>E</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-eql-3F">eql?</a>,
              </li>
            
              
              <li>
                <a href="#method-i-extension_dir_name">extension_dir_name</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>F</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-from_lock">from_lock</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>H</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-hash">hash</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>I</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-install">install</a>,
              </li>
            
              
              <li>
                <a href="#method-i-install_path">install_path</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>L</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-load_spec_files">load_spec_files</a>,
              </li>
            
              
              <li>
                <a href="#method-i-local_override-21">local_override!</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>N</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-name">name</a>,
              </li>
            
              
              <li>
                <a href="#method-c-new">new</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>P</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-path">path</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>R</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-revision">revision</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>S</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-specs">specs</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>T</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-to_lock">to_lock</a>,
              </li>
            
              
              <li>
                <a href="#method-i-to_s">to_s</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>U</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-unlock-21">unlock!</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  



  

    

    

    


    
      <!-- Section attributes -->
      <div class="sectiontitle">Attributes</div>
      <table border='0' cellpadding='5'>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>branch</td>
            <td class='attr-desc'></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>options</td>
            <td class='attr-desc'></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>ref</td>
            <td class='attr-desc'></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>submodules</td>
            <td class='attr-desc'></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>uri</td>
            <td class='attr-desc'></td>
          </tr>
        
      </table>
    


    <!-- Methods -->
    
      <div class="sectiontitle">Class Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-c-from_lock">
            
              <b>from_lock</b>(options)
            
            <a href="../../../classes/Bundler/Source/Git.html#method-c-from_lock" name="method-c-from_lock" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-from_lock_source')" id="l_method-c-from_lock_source">show</a>
                
              </p>
              <div id="method-c-from_lock_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/bundler/source/git.rb, line 35</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">from_lock</span>(<span class="ruby-identifier">options</span>)
  <span class="ruby-identifier">new</span>(<span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-string">&quot;uri&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-string">&quot;remote&quot;</span>)))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-new">
            
              <b>new</b>(options)
            
            <a href="../../../classes/Bundler/Source/Git.html#method-c-new" name="method-c-new" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-new_source')" id="l_method-c-new_source">show</a>
                
              </p>
              <div id="method-c-new_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/bundler/source/git.rb, line 13</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">initialize</span>(<span class="ruby-identifier">options</span>)
  <span class="ruby-ivar">@options</span> = <span class="ruby-identifier">options</span>
  <span class="ruby-ivar">@glob</span> = <span class="ruby-identifier">options</span>[<span class="ruby-string">&quot;glob&quot;</span>] <span class="ruby-operator">||</span> <span class="ruby-constant">DEFAULT_GLOB</span>

  <span class="ruby-ivar">@allow_cached</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-ivar">@allow_remote</span> = <span class="ruby-keyword">false</span>

  <span class="ruby-comment"># Stringify options that could be set as symbols</span>
  <span class="ruby-node">%w[ref branch tag revision]</span>.<span class="ruby-identifier">each</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">k</span><span class="ruby-operator">|</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">k</span>] = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">k</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">k</span>] }

  <span class="ruby-ivar">@uri</span>        = <span class="ruby-identifier">options</span>[<span class="ruby-string">&quot;uri&quot;</span>] <span class="ruby-operator">||</span> <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-ivar">@safe_uri</span>   = <span class="ruby-constant">URICredentialsFilter</span>.<span class="ruby-identifier">credential_filtered_uri</span>(<span class="ruby-ivar">@uri</span>)
  <span class="ruby-ivar">@branch</span>     = <span class="ruby-identifier">options</span>[<span class="ruby-string">&quot;branch&quot;</span>]
  <span class="ruby-ivar">@ref</span>        = <span class="ruby-identifier">options</span>[<span class="ruby-string">&quot;ref&quot;</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">options</span>[<span class="ruby-string">&quot;branch&quot;</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">options</span>[<span class="ruby-string">&quot;tag&quot;</span>] <span class="ruby-operator">||</span> <span class="ruby-string">&quot;master&quot;</span>
  <span class="ruby-ivar">@submodules</span> = <span class="ruby-identifier">options</span>[<span class="ruby-string">&quot;submodules&quot;</span>]
  <span class="ruby-ivar">@name</span>       = <span class="ruby-identifier">options</span>[<span class="ruby-string">&quot;name&quot;</span>]
  <span class="ruby-ivar">@version</span>    = <span class="ruby-identifier">options</span>[<span class="ruby-string">&quot;version&quot;</span>].<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">strip</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-string">&quot;-&quot;</span>, <span class="ruby-string">&quot;.pre.&quot;</span>)

  <span class="ruby-ivar">@copied</span>     = <span class="ruby-keyword">false</span>
  <span class="ruby-ivar">@local</span>      = <span class="ruby-keyword">false</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
                  
      <div class="sectiontitle">Instance Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-i-3D-3D">
            
              <b>==</b>(other)
            
            <a href="../../../classes/Bundler/Source/Git.html#method-i-3D-3D" name="method-i-3D-3D" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="Git.html#method-i-eql-3F">eql?</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-allow_git_ops-3F">
            
              <b>allow_git_ops?</b>()
            
            <a href="../../../classes/Bundler/Source/Git.html#method-i-allow_git_ops-3F" name="method-i-allow_git_ops-3F" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-allow_git_ops-3F_source')" id="l_method-i-allow_git_ops-3F_source">show</a>
                
              </p>
              <div id="method-i-allow_git_ops-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/bundler/source/git.rb, line 228</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">allow_git_ops?</span>
  <span class="ruby-ivar">@allow_remote</span> <span class="ruby-operator">||</span> <span class="ruby-ivar">@allow_cached</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-app_cache_dirname">
            
              <b>app_cache_dirname</b>()
            
            <a href="../../../classes/Bundler/Source/Git.html#method-i-app_cache_dirname" name="method-i-app_cache_dirname" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-app_cache_dirname_source')" id="l_method-i-app_cache_dirname_source">show</a>
                
              </p>
              <div id="method-i-app_cache_dirname_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/bundler/source/git.rb, line 220</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">app_cache_dirname</span>
  <span class="ruby-node">&quot;#{base_name}-#{shortref_for_path(cached_revision || revision)}&quot;</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-cache">
            
              <b>cache</b>(spec, custom_path = nil)
            
            <a href="../../../classes/Bundler/Source/Git.html#method-i-cache" name="method-i-cache" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-cache_source')" id="l_method-i-cache_source">show</a>
                
              </p>
              <div id="method-i-cache_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/bundler/source/git.rb, line 188</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">cache</span>(<span class="ruby-identifier">spec</span>, <span class="ruby-identifier">custom_path</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">app_cache_path</span> = <span class="ruby-identifier">app_cache_path</span>(<span class="ruby-identifier">custom_path</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-constant">Bundler</span>.<span class="ruby-identifier">feature_flag</span>.<span class="ruby-identifier">cache_all?</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">path</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">app_cache_path</span>
  <span class="ruby-identifier">cached!</span>
  <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">rm_rf</span>(<span class="ruby-identifier">app_cache_path</span>)
  <span class="ruby-identifier">git_proxy</span>.<span class="ruby-identifier">checkout</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">requires_checkout?</span>
  <span class="ruby-identifier">git_proxy</span>.<span class="ruby-identifier">copy_to</span>(<span class="ruby-identifier">app_cache_path</span>, <span class="ruby-ivar">@submodules</span>)
  <span class="ruby-identifier">serialize_gemspecs_in</span>(<span class="ruby-identifier">app_cache_path</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-cache_path">
            
              <b>cache_path</b>()
            
            <a href="../../../classes/Bundler/Source/Git.html#method-i-cache_path" name="method-i-cache_path" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>This is the path which is going to contain a cache of the git repository.
When using the same git repository across different projects, this cache
will be shared. When using local git repos, this is set to the local repo.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-cache_path_source')" id="l_method-i-cache_path_source">show</a>
                
              </p>
              <div id="method-i-cache_path_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/bundler/source/git.rb, line 210</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">cache_path</span>
  <span class="ruby-ivar">@cache_path</span> <span class="ruby-operator">||=</span> <span class="ruby-keyword">begin</span>
    <span class="ruby-keyword">if</span> <span class="ruby-constant">Bundler</span>.<span class="ruby-identifier">requires_sudo?</span> <span class="ruby-operator">||</span> <span class="ruby-constant">Bundler</span>.<span class="ruby-identifier">feature_flag</span>.<span class="ruby-identifier">global_gem_cache?</span>
      <span class="ruby-constant">Bundler</span>.<span class="ruby-identifier">user_cache</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-constant">Bundler</span>.<span class="ruby-identifier">bundle_path</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;cache&quot;</span>, <span class="ruby-string">&quot;bundler&quot;</span>)
    <span class="ruby-keyword">end</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;git&quot;</span>, <span class="ruby-identifier">git_scope</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-eql-3F">
            
              <b>eql?</b>(other)
            
            <a href="../../../classes/Bundler/Source/Git.html#method-i-eql-3F" name="method-i-eql-3F" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="Git.html#method-i-3D-3D">==</a>
            </div>
          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-eql-3F_source')" id="l_method-i-eql-3F_source">show</a>
                
              </p>
              <div id="method-i-eql-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/bundler/source/git.rb, line 54</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">eql?</span>(<span class="ruby-identifier">other</span>)
  <span class="ruby-identifier">other</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Git</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">uri</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">uri</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">ref</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">ref</span> <span class="ruby-operator">&amp;&amp;</span>
    <span class="ruby-identifier">branch</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">branch</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">&amp;&amp;</span>
    <span class="ruby-identifier">version</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">version</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">submodules</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">submodules</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-extension_dir_name">
            
              <b>extension_dir_name</b>()
            
            <a href="../../../classes/Bundler/Source/Git.html#method-i-extension_dir_name" name="method-i-extension_dir_name" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-extension_dir_name_source')" id="l_method-i-extension_dir_name_source">show</a>
                
              </p>
              <div id="method-i-extension_dir_name_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/bundler/source/git.rb, line 107</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">extension_dir_name</span>
  <span class="ruby-node">&quot;#{base_name}-#{shortref_for_path(revision)}&quot;</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-hash">
            
              <b>hash</b>()
            
            <a href="../../../classes/Bundler/Source/Git.html#method-i-hash" name="method-i-hash" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-hash_source')" id="l_method-i-hash_source">show</a>
                
              </p>
              <div id="method-i-hash_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/bundler/source/git.rb, line 50</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">hash</span>
  [<span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>, <span class="ruby-identifier">uri</span>, <span class="ruby-identifier">ref</span>, <span class="ruby-identifier">branch</span>, <span class="ruby-identifier">name</span>, <span class="ruby-identifier">version</span>, <span class="ruby-identifier">submodules</span>].<span class="ruby-identifier">hash</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-install">
            
              <b>install</b>(spec, options = {})
            
            <a href="../../../classes/Bundler/Source/Git.html#method-i-install" name="method-i-install" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-install_source')" id="l_method-i-install_source">show</a>
                
              </p>
              <div id="method-i-install_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/bundler/source/git.rb, line 170</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">install</span>(<span class="ruby-identifier">spec</span>, <span class="ruby-identifier">options</span> = {})
  <span class="ruby-identifier">force</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:force</span>]

  <span class="ruby-identifier">print_using_message</span> <span class="ruby-node">&quot;Using #{version_message(spec)} from #{self}&quot;</span>

  <span class="ruby-keyword">if</span> (<span class="ruby-identifier">requires_checkout?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@copied</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">force</span>
    <span class="ruby-constant">Bundler</span>.<span class="ruby-identifier">ui</span>.<span class="ruby-identifier">debug</span> <span class="ruby-node">&quot;  * Checking out revision: #{ref}&quot;</span>
    <span class="ruby-identifier">git_proxy</span>.<span class="ruby-identifier">copy_to</span>(<span class="ruby-identifier">install_path</span>, <span class="ruby-identifier">submodules</span>)
    <span class="ruby-identifier">serialize_gemspecs_in</span>(<span class="ruby-identifier">install_path</span>)
    <span class="ruby-ivar">@copied</span> = <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">generate_bin_options</span> = { <span class="ruby-value">:disable_extensions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-operator">!</span><span class="ruby-constant">Bundler</span>.<span class="ruby-identifier">rubygems</span>.<span class="ruby-identifier">spec_missing_extensions?</span>(<span class="ruby-identifier">spec</span>), <span class="ruby-value">:build_args</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:build_args</span>] }
  <span class="ruby-identifier">generate_bin</span>(<span class="ruby-identifier">spec</span>, <span class="ruby-identifier">generate_bin_options</span>)

  <span class="ruby-identifier">requires_checkout?</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">post_install_message</span> <span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-install_path">
            
              <b>install_path</b>()
            
            <a href="../../../classes/Bundler/Source/Git.html#method-i-install_path" name="method-i-install_path" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>This is the path which is going to contain a specific checkout of the git
repository. When using local git repos, this is set to the local repo.</p>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="Git.html#method-i-path">path</a>
            </div>
          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-install_path_source')" id="l_method-i-install_path_source">show</a>
                
              </p>
              <div id="method-i-install_path_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/bundler/source/git.rb, line 91</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">install_path</span>
  <span class="ruby-ivar">@install_path</span> <span class="ruby-operator">||=</span> <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">git_scope</span> = <span class="ruby-node">&quot;#{base_name}-#{shortref_for_path(revision)}&quot;</span>

    <span class="ruby-identifier">path</span> = <span class="ruby-constant">Bundler</span>.<span class="ruby-identifier">install_path</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">git_scope</span>)

    <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">path</span>.<span class="ruby-identifier">exist?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">Bundler</span>.<span class="ruby-identifier">requires_sudo?</span>
      <span class="ruby-constant">Bundler</span>.<span class="ruby-identifier">user_bundle_path</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">Bundler</span>.<span class="ruby-identifier">ruby_scope</span>).<span class="ruby-identifier">join</span>(<span class="ruby-identifier">git_scope</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">path</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-load_spec_files">
            
              <b>load_spec_files</b>()
            
            <a href="../../../classes/Bundler/Source/Git.html#method-i-load_spec_files" name="method-i-load_spec_files" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-load_spec_files_source')" id="l_method-i-load_spec_files_source">show</a>
                
              </p>
              <div id="method-i-load_spec_files_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/bundler/source/git.rb, line 199</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">load_spec_files</span>
  <span class="ruby-keyword">super</span>
<span class="ruby-keyword">rescue</span> <span class="ruby-constant">PathError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
  <span class="ruby-constant">Bundler</span>.<span class="ruby-identifier">ui</span>.<span class="ruby-identifier">trace</span> <span class="ruby-identifier">e</span>
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">GitError</span>, <span class="ruby-node">&quot;#{self} is not yet checked out. Run `bundle install` first.&quot;</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-local_override-21">
            
              <b>local_override!</b>(path)
            
            <a href="../../../classes/Bundler/Source/Git.html#method-i-local_override-21" name="method-i-local_override-21" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-local_override-21_source')" id="l_method-i-local_override-21_source">show</a>
                
              </p>
              <div id="method-i-local_override-21_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/bundler/source/git.rb, line 118</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">local_override!</span>(<span class="ruby-identifier">path</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">local?</span>

  <span class="ruby-identifier">path</span> = <span class="ruby-constant">Pathname</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>)
  <span class="ruby-identifier">path</span> = <span class="ruby-identifier">path</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-constant">Bundler</span>.<span class="ruby-identifier">root</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">path</span>.<span class="ruby-identifier">relative?</span>

  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">options</span>[<span class="ruby-string">&quot;branch&quot;</span>] <span class="ruby-operator">||</span> <span class="ruby-constant">Bundler</span>.<span class="ruby-identifier">settings</span>[<span class="ruby-value">:disable_local_branch_check</span>]
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">GitError</span>, <span class="ruby-node">&quot;Cannot use local override for #{name} at #{path} because &quot;</span>              <span class="ruby-string">&quot;:branch is not specified in Gemfile. Specify a branch or use &quot;</span>              <span class="ruby-string">&quot;`bundle config --delete` to remove the local override&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">path</span>.<span class="ruby-identifier">exist?</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">GitError</span>, <span class="ruby-node">&quot;Cannot use local override for #{name} because #{path} &quot;</span>              <span class="ruby-string">&quot;does not exist. Check `bundle config --delete` to remove the local override&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">set_local!</span>(<span class="ruby-identifier">path</span>)

  <span class="ruby-comment"># Create a new git proxy without the cached revision</span>
  <span class="ruby-comment"># so the Gemfile.lock always picks up the new revision.</span>
  <span class="ruby-ivar">@git_proxy</span> = <span class="ruby-constant">GitProxy</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">uri</span>, <span class="ruby-identifier">ref</span>)

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">git_proxy</span>.<span class="ruby-identifier">branch</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">options</span>[<span class="ruby-string">&quot;branch&quot;</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-constant">Bundler</span>.<span class="ruby-identifier">settings</span>[<span class="ruby-value">:disable_local_branch_check</span>]
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">GitError</span>, <span class="ruby-node">&quot;Local override for #{name} at #{path} is using branch &quot;</span>              <span class="ruby-node">&quot;#{git_proxy.branch} but Gemfile specifies #{options[&quot;branch&quot;]}&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">changed</span> = <span class="ruby-identifier">cached_revision</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">cached_revision</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">git_proxy</span>.<span class="ruby-identifier">revision</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">changed</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@unlocked</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">git_proxy</span>.<span class="ruby-identifier">contains?</span>(<span class="ruby-identifier">cached_revision</span>)
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">GitError</span>, <span class="ruby-node">&quot;The Gemfile lock is pointing to revision #{shortref_for_display(cached_revision)} &quot;</span>              <span class="ruby-node">&quot;but the current branch in your local override for #{name} does not contain such commit. &quot;</span>              <span class="ruby-string">&quot;Please make sure your branch is up to date.&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">changed</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-name">
            
              <b>name</b>()
            
            <a href="../../../classes/Bundler/Source/Git.html#method-i-name" name="method-i-name" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-name_source')" id="l_method-i-name_source">show</a>
                
              </p>
              <div id="method-i-name_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/bundler/source/git.rb, line 84</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">name</span>
  <span class="ruby-constant">File</span>.<span class="ruby-identifier">basename</span>(<span class="ruby-ivar">@uri</span>, <span class="ruby-string">&quot;.git&quot;</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-path">
            
              <b>path</b>()
            
            <a href="../../../classes/Bundler/Source/Git.html#method-i-path" name="method-i-path" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="Git.html#method-i-install_path">install_path</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-revision">
            
              <b>revision</b>()
            
            <a href="../../../classes/Bundler/Source/Git.html#method-i-revision" name="method-i-revision" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-revision_source')" id="l_method-i-revision_source">show</a>
                
              </p>
              <div id="method-i-revision_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/bundler/source/git.rb, line 224</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">revision</span>
  <span class="ruby-identifier">git_proxy</span>.<span class="ruby-identifier">revision</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-specs">
            
              <b>specs</b>(*)
            
            <a href="../../../classes/Bundler/Source/Git.html#method-i-specs" name="method-i-specs" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-specs_source')" id="l_method-i-specs_source">show</a>
                
              </p>
              <div id="method-i-specs_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/bundler/source/git.rb, line 157</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">specs</span>(<span class="ruby-operator">*</span>)
  <span class="ruby-identifier">set_local!</span>(<span class="ruby-identifier">app_cache_path</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">has_app_cache?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">local?</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">requires_checkout?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@copied</span>
    <span class="ruby-identifier">fetch</span>
    <span class="ruby-identifier">git_proxy</span>.<span class="ruby-identifier">copy_to</span>(<span class="ruby-identifier">install_path</span>, <span class="ruby-identifier">submodules</span>)
    <span class="ruby-identifier">serialize_gemspecs_in</span>(<span class="ruby-identifier">install_path</span>)
    <span class="ruby-ivar">@copied</span> = <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">local_specs</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-to_lock">
            
              <b>to_lock</b>()
            
            <a href="../../../classes/Bundler/Source/Git.html#method-i-to_lock" name="method-i-to_lock" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-to_lock_source')" id="l_method-i-to_lock_source">show</a>
                
              </p>
              <div id="method-i-to_lock_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/bundler/source/git.rb, line 39</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">to_lock</span>
  <span class="ruby-identifier">out</span> = <span class="ruby-constant">String</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;GIT\n&quot;</span>)
  <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;  remote: #{@uri}\n&quot;</span>
  <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;  revision: #{revision}\n&quot;</span>
  <span class="ruby-node">%w[ref branch tag submodules]</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">opt</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;  #{opt}: #{options[opt]}\n&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">opt</span>]
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;  glob: #{@glob}\n&quot;</span> <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@glob</span> <span class="ruby-operator">==</span> <span class="ruby-constant">DEFAULT_GLOB</span>
  <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;  specs:\n&quot;</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-to_s">
            
              <b>to_s</b>()
            
            <a href="../../../classes/Bundler/Source/Git.html#method-i-to_s" name="method-i-to_s" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-to_s_source')" id="l_method-i-to_s_source">show</a>
                
              </p>
              <div id="method-i-to_s_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/bundler/source/git.rb, line 62</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">to_s</span>
  <span class="ruby-identifier">at</span> = <span class="ruby-keyword">if</span> <span class="ruby-identifier">local?</span>
    <span class="ruby-identifier">path</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">user_ref</span> = <span class="ruby-identifier">options</span>[<span class="ruby-string">&quot;ref&quot;</span>]
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">ref</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">/\A[a-z0-9]{4,}\z/i</span>
      <span class="ruby-identifier">shortref_for_display</span>(<span class="ruby-identifier">user_ref</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">user_ref</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">ref</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">rev</span> = <span class="ruby-keyword">begin</span>
          <span class="ruby-node">&quot;@#{shortref_for_display(revision)}&quot;</span>
        <span class="ruby-keyword">rescue</span> <span class="ruby-constant">GitError</span>
          <span class="ruby-keyword">nil</span>
        <span class="ruby-keyword">end</span>

  <span class="ruby-node">&quot;#{@safe_uri} (at #{at}#{rev})&quot;</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-unlock-21">
            
              <b>unlock!</b>()
            
            <a href="../../../classes/Bundler/Source/Git.html#method-i-unlock-21" name="method-i-unlock-21" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-unlock-21_source')" id="l_method-i-unlock-21_source">show</a>
                
              </p>
              <div id="method-i-unlock-21_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/bundler/source/git.rb, line 111</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">unlock!</span>
  <span class="ruby-identifier">git_proxy</span>.<span class="ruby-identifier">revision</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">options</span>[<span class="ruby-string">&quot;revision&quot;</span>] = <span class="ruby-keyword">nil</span>

  <span class="ruby-ivar">@unlocked</span> = <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
                    </div>

    </div>
  </body>
</html>
