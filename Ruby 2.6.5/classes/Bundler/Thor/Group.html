<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Bundler::Thor::Group</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="../../../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../../css/github.css" type="text/css" media="screen" />
<script src="../../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>
    <div class="banner">
        
        <h1>
            <span class="type">Class</span>
            Bundler::Thor::Group
            
                <span class="parent">&lt;
                    
                    <a href="../../Object.html">Object</a>
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../../files/lib/bundler/vendor/thor/lib/thor/group_rb.html">lib/bundler/vendor/thor/lib/thor/group.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<p>Bundler::Thor has a special class called <a
href="Group.html">Bundler::Thor::Group</a>. The main difference to
Bundler::Thor class is that it invokes all commands at once. It also
include some methods that allows invocations to be done at the class
method, which are not available to Bundler::Thor commands.</p>

    </div>
  


  


  
  


  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>B</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-banner">banner</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>D</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-desc">desc</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>H</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-help">help</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>I</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-invoke">invoke</a>,
              </li>
            
              
              <li>
                <a href="#method-c-invoke_from_option">invoke_from_option</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>P</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-printable_commands">printable_commands</a>,
              </li>
            
              
              <li>
                <a href="#method-c-printable_tasks">printable_tasks</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>R</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-remove_invocation">remove_invocation</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  
    <!-- Includes -->
    <div class="sectiontitle">Included Modules</div>
    <ul>
      
        <li>
          
            <a href="Base.html">
              Bundler::Thor::Base
            </a>
          
        </li>
      
    </ul>
  



  

    

    

    


    


    <!-- Methods -->
    
      <div class="sectiontitle">Class Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-c-desc">
            
              <b>desc</b>(description = nil)
            
            <a href="../../../classes/Bundler/Thor/Group.html#method-c-desc" name="method-c-desc" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>The description for this <a href="Group.html">Bundler::Thor::Group</a>. If
none is provided, but a source root exists, tries to find the USAGE one
folder above it, otherwise searches in the superclass.</p>

<h4 id="method-c-desc-label-Parameters">Parameters</h4>
<dl class="rdoc-list note-list"><dt>description&lt;String&gt;
<dd>
<p>The description for this <a href="Group.html">Bundler::Thor::Group</a>.</p>
</dd></dl>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-desc_source')" id="l_method-c-desc_source">show</a>
                
              </p>
              <div id="method-c-desc_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/bundler/vendor/thor/lib/thor/group.rb, line 16</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">desc</span>(<span class="ruby-identifier">description</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">description</span>
    <span class="ruby-ivar">@desc</span> = <span class="ruby-identifier">description</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-ivar">@desc</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">from_superclass</span>(<span class="ruby-value">:desc</span>, <span class="ruby-keyword">nil</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-help">
            
              <b>help</b>(shell)
            
            <a href="../../../classes/Bundler/Thor/Group.html#method-c-help" name="method-c-help" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Prints help information.</p>

<h4 id="method-c-help-label-Options">Options</h4>
<dl class="rdoc-list note-list"><dt>short
<dd>
<p>When true, shows only usage.</p>
</dd></dl>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-help_source')" id="l_method-c-help_source">show</a>
                
              </p>
              <div id="method-c-help_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/bundler/vendor/thor/lib/thor/group.rb, line 29</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">help</span>(<span class="ruby-identifier">shell</span>)
  <span class="ruby-identifier">shell</span>.<span class="ruby-identifier">say</span> <span class="ruby-string">&quot;Usage:&quot;</span>
  <span class="ruby-identifier">shell</span>.<span class="ruby-identifier">say</span> <span class="ruby-node">&quot;  #{banner}\n&quot;</span>
  <span class="ruby-identifier">shell</span>.<span class="ruby-identifier">say</span>
  <span class="ruby-identifier">class_options_help</span>(<span class="ruby-identifier">shell</span>)
  <span class="ruby-identifier">shell</span>.<span class="ruby-identifier">say</span> <span class="ruby-identifier">desc</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">desc</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-invoke">
            
              <b>invoke</b>(*names, &amp;block)
            
            <a href="../../../classes/Bundler/Thor/Group.html#method-c-invoke" name="method-c-invoke" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Invoke the given namespace or class given. It adds an instance method that
will invoke the klass and command. You can give a block to configure how it
will be invoked.</p>

<p>The namespace/class given will have its options showed on the help usage.
Check <a
href="Group.html#method-c-invoke_from_option">::invoke_from_option</a> for
more information.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-invoke_source')" id="l_method-c-invoke_source">show</a>
                
              </p>
              <div id="method-c-invoke_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/bundler/vendor/thor/lib/thor/group.rb, line 56</span>
    <span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">invoke</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">names</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
      <span class="ruby-identifier">options</span> = <span class="ruby-identifier">names</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">names</span>.<span class="ruby-identifier">pop</span> <span class="ruby-operator">:</span> {}
      <span class="ruby-identifier">verbose</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value">:verbose</span>, <span class="ruby-keyword">true</span>)

      <span class="ruby-identifier">names</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">invocations</span>[<span class="ruby-identifier">name</span>] = <span class="ruby-keyword">false</span>
        <span class="ruby-identifier">invocation_blocks</span>[<span class="ruby-identifier">name</span>] = <span class="ruby-identifier">block</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>

        <span class="ruby-identifier">class_eval</span> <span class="ruby-string">&quot;          def _invoke_#{name.to_s.gsub(/\W/, &#39;_&#39;)}
            klass, command = self.class.prepare_for_invocation(nil, #{name.inspect})

            if klass
              say_status :invoke, #{name.inspect}, #{verbose.inspect}
              block = self.class.invocation_blocks[#{name.inspect}]
              _invoke_for_class_method klass, command, &amp;block
            else
              say_status :error, %(#{name.inspect} [not found]), :red
            end
          end
&quot;</span>, <span class="ruby-keyword">__FILE__</span>, <span class="ruby-keyword">__LINE__</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-invoke_from_option">
            
              <b>invoke_from_option</b>(*names, &amp;block)
            
            <a href="../../../classes/Bundler/Thor/Group.html#method-c-invoke_from_option" name="method-c-invoke_from_option" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Invoke a thor class based on the value supplied by the user to the given
option named “name”. A class option must be created before this method is
invoked for each name given.</p>

<h4 id="method-c-invoke_from_option-label-Examples">Examples</h4>

<pre><code>class GemGenerator &lt; Bundler::Thor::Group
  class_option :test_framework, :type =&gt; :string
  invoke_from_option :test_framework
end
</code></pre>

<h4 id="method-c-invoke_from_option-label-Boolean+options">Boolean options</h4>

<p>In some cases, you want to invoke a thor class if some option is true or
false. This is automatically handled by invoke_from_option. Then the option
name is used to invoke the generator.</p>

<h4 id="method-c-invoke_from_option-label-Preparing+for+invocation">Preparing for invocation</h4>

<p>In some cases you want to customize how a specified hook is going to be
invoked. You can do that by overwriting the class method
prepare_for_invocation. The class method must necessarily return a klass
and an optional command.</p>

<h4 id="method-c-invoke_from_option-label-Custom+invocations">Custom invocations</h4>

<p>You can also supply a block to customize how the option is going to be
invoked. The block receives two parameters, an instance of the current
class and the klass to be invoked.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-invoke_from_option_source')" id="l_method-c-invoke_from_option_source">show</a>
                
              </p>
              <div id="method-c-invoke_from_option_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/bundler/vendor/thor/lib/thor/group.rb, line 110</span>
    <span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">invoke_from_option</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">names</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
      <span class="ruby-identifier">options</span> = <span class="ruby-identifier">names</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">names</span>.<span class="ruby-identifier">pop</span> <span class="ruby-operator">:</span> {}
      <span class="ruby-identifier">verbose</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value">:verbose</span>, <span class="ruby-value">:white</span>)

      <span class="ruby-identifier">names</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span>
        <span class="ruby-keyword">unless</span> <span class="ruby-identifier">class_options</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-identifier">name</span>)
          <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-node">&quot;You have to define the option #{name.inspect} &quot;</span>                                <span class="ruby-string">&quot;before setting invoke_from_option.&quot;</span>
        <span class="ruby-keyword">end</span>

        <span class="ruby-identifier">invocations</span>[<span class="ruby-identifier">name</span>] = <span class="ruby-keyword">true</span>
        <span class="ruby-identifier">invocation_blocks</span>[<span class="ruby-identifier">name</span>] = <span class="ruby-identifier">block</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>

        <span class="ruby-identifier">class_eval</span> <span class="ruby-string">&quot;          def _invoke_from_option_#{name.to_s.gsub(/\W/, &#39;_&#39;)}
            return unless options[#{name.inspect}]

            value = options[#{name.inspect}]
            value = #{name.inspect} if TrueClass === value
            klass, command = self.class.prepare_for_invocation(#{name.inspect}, value)

            if klass
              say_status :invoke, value, #{verbose.inspect}
              block = self.class.invocation_blocks[#{name.inspect}]
              _invoke_for_class_method klass, command, &amp;block
            else
              say_status :error, %(\#{value} [not found]), :red
            end
          end
&quot;</span>, <span class="ruby-keyword">__FILE__</span>, <span class="ruby-keyword">__LINE__</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-printable_commands">
            
              <b>printable_commands</b>(*)
            
            <a href="../../../classes/Bundler/Thor/Group.html#method-c-printable_commands" name="method-c-printable_commands" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns commands ready to be printed.</p>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="Group.html#method-c-printable_tasks">printable_tasks</a>
            </div>
          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-printable_commands_source')" id="l_method-c-printable_commands_source">show</a>
                
              </p>
              <div id="method-c-printable_commands_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/bundler/vendor/thor/lib/thor/group.rb, line 199</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">printable_commands</span>(<span class="ruby-operator">*</span>)
  <span class="ruby-identifier">item</span> = []
  <span class="ruby-identifier">item</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">banner</span>
  <span class="ruby-identifier">item</span> <span class="ruby-operator">&lt;&lt;</span> (<span class="ruby-identifier">desc</span> <span class="ruby-operator">?</span> <span class="ruby-node">&quot;# #{desc.gsub(/\s+/m, &#39; &#39;)}&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-string">&quot;&quot;</span>)
  [<span class="ruby-identifier">item</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-printable_tasks">
            
              <b>printable_tasks</b>(*)
            
            <a href="../../../classes/Bundler/Thor/Group.html#method-c-printable_tasks" name="method-c-printable_tasks" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="Group.html#method-c-printable_commands">printable_commands</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-remove_invocation">
            
              <b>remove_invocation</b>(*names)
            
            <a href="../../../classes/Bundler/Thor/Group.html#method-c-remove_invocation" name="method-c-remove_invocation" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Remove a previously added invocation.</p>

<h4 id="method-c-remove_invocation-label-Examples">Examples</h4>

<pre><code>remove_invocation :test_framework
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-remove_invocation_source')" id="l_method-c-remove_invocation_source">show</a>
                
              </p>
              <div id="method-c-remove_invocation_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/bundler/vendor/thor/lib/thor/group.rb, line 149</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">remove_invocation</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">names</span>)
  <span class="ruby-identifier">names</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">remove_command</span>(<span class="ruby-identifier">name</span>)
    <span class="ruby-identifier">remove_class_option</span>(<span class="ruby-identifier">name</span>)
    <span class="ruby-identifier">invocations</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">name</span>)
    <span class="ruby-identifier">invocation_blocks</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">name</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
              
      <div class="sectiontitle">Class Protected methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-c-banner">
            
              <b>banner</b>()
            
            <a href="../../../classes/Bundler/Thor/Group.html#method-c-banner" name="method-c-banner" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>The banner for this class. You can customize it if you are invoking the
thor class by another ways which is not the Bundler::Thor::Runner.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-banner_source')" id="l_method-c-banner_source">show</a>
                
              </p>
              <div id="method-c-banner_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/bundler/vendor/thor/lib/thor/group.rb, line 238</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">banner</span>
  <span class="ruby-node">&quot;#{basename} #{self_command.formatted_usage(self, false)}&quot;</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
                        </div>

    </div>
  </body>
</html>
