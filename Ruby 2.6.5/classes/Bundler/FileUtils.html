<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Bundler::FileUtils</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="../../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../css/github.css" type="text/css" media="screen" />
<script src="../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>
    <div class="banner">
        
        <h1>
            <span class="type">Module</span>
            Bundler::FileUtils
            
        </h1>
        <ul class="files">
            
            <li><a href="../../files/lib/bundler/vendor/fileutils/lib/fileutils_rb.html">lib/bundler/vendor/fileutils/lib/fileutils.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<p>frozen_string_literal: true</p>

<h1 id="module-Bundler::FileUtils-label-fileutils.rb">fileutils.rb</h1>

<p>Copyright © 2000-2007 Minero Aoki</p>

<p>This program is free software. You can distribute/modify this program under
the same terms of ruby.</p>

<h2 id="module-Bundler::FileUtils-label-module+Bundler-3A-3AFileUtils">module <a href="FileUtils.html">Bundler::FileUtils</a></h2>

<p>Namespace for several file utility methods for copying, moving, removing,
etc.</p>

<h3 id="module-Bundler::FileUtils-label-Module+Functions"><a href="../Module.html">Module</a> Functions</h3>

<pre><code>require &#39;bundler/vendor/fileutils/lib/fileutils&#39;

Bundler::FileUtils.cd(dir, options)
Bundler::FileUtils.cd(dir, options) {|dir| block }
Bundler::FileUtils.pwd()
Bundler::FileUtils.mkdir(dir, options)
Bundler::FileUtils.mkdir(list, options)
Bundler::FileUtils.mkdir_p(dir, options)
Bundler::FileUtils.mkdir_p(list, options)
Bundler::FileUtils.rmdir(dir, options)
Bundler::FileUtils.rmdir(list, options)
Bundler::FileUtils.ln(target, link, options)
Bundler::FileUtils.ln(targets, dir, options)
Bundler::FileUtils.ln_s(target, link, options)
Bundler::FileUtils.ln_s(targets, dir, options)
Bundler::FileUtils.ln_sf(target, link, options)
Bundler::FileUtils.cp(src, dest, options)
Bundler::FileUtils.cp(list, dir, options)
Bundler::FileUtils.cp_r(src, dest, options)
Bundler::FileUtils.cp_r(list, dir, options)
Bundler::FileUtils.mv(src, dest, options)
Bundler::FileUtils.mv(list, dir, options)
Bundler::FileUtils.rm(list, options)
Bundler::FileUtils.rm_r(list, options)
Bundler::FileUtils.rm_rf(list, options)
Bundler::FileUtils.install(src, dest, options)
Bundler::FileUtils.chmod(mode, list, options)
Bundler::FileUtils.chmod_R(mode, list, options)
Bundler::FileUtils.chown(user, group, list, options)
Bundler::FileUtils.chown_R(user, group, list, options)
Bundler::FileUtils.touch(list, options)
</code></pre>

<p>The <code>options</code> parameter is a hash of options, taken from the
list <code>:force</code>, <code>:noop</code>, <code>:preserve</code>, and
<code>:verbose</code>. <code>:noop</code> means that no changes are made. 
The other three are obvious. Each method documents the options that it
honours.</p>

<p>All methods that have the concept of a “source” file or directory can take
either one file or a list of files in that argument.  See the method
documentation for examples.</p>

<p>There are some `low level&#39; methods, which do not accept any option:</p>

<pre><code>Bundler::FileUtils.copy_entry(src, dest, preserve = false, dereference = false)
Bundler::FileUtils.copy_file(src, dest, preserve = false, dereference = true)
Bundler::FileUtils.copy_stream(srcstream, deststream)
Bundler::FileUtils.remove_entry(path, force = false)
Bundler::FileUtils.remove_entry_secure(path, force = false)
Bundler::FileUtils.remove_file(path, force = false)
Bundler::FileUtils.compare_file(path_a, path_b)
Bundler::FileUtils.compare_stream(stream_a, stream_b)
Bundler::FileUtils.uptodate?(file, cmp_list)
</code></pre>

<h2 id="module-Bundler::FileUtils-label-module+Bundler-3A-3AFileUtils-3A-3AVerbose">module <a href="FileUtils/Verbose.html">Bundler::FileUtils::Verbose</a></h2>

<p>This module has all methods of <a
href="FileUtils.html">Bundler::FileUtils</a> module, but it outputs
messages before acting.  This equates to passing the <code>:verbose</code>
flag to methods in <a href="FileUtils.html">Bundler::FileUtils</a>.</p>

<h2 id="module-Bundler::FileUtils-label-module+Bundler-3A-3AFileUtils-3A-3ANoWrite">module <a href="FileUtils/NoWrite.html">Bundler::FileUtils::NoWrite</a></h2>

<p>This module has all methods of <a
href="FileUtils.html">Bundler::FileUtils</a> module, but never changes
files/directories.  This equates to passing the <code>:noop</code> flag to
methods in <a href="FileUtils.html">Bundler::FileUtils</a>.</p>

<h2 id="module-Bundler::FileUtils-label-module+Bundler-3A-3AFileUtils-3A-3ADryRun">module <a href="FileUtils/DryRun.html">Bundler::FileUtils::DryRun</a></h2>

<p>This module has all methods of <a
href="FileUtils.html">Bundler::FileUtils</a> module, but never changes
files/directories.  This equates to passing the <code>:noop</code> and
<code>:verbose</code> flags to methods in <a
href="FileUtils.html">Bundler::FileUtils</a>.</p>

    </div>
  


  


  
  


  
    <!-- Namespace -->
    <div class="sectiontitle">Namespace</div>
    <ul>
      
        <li>
          <span class="type">MODULE</span>
          <a href="FileUtils/DryRun.html">Bundler::FileUtils::DryRun</a>
        </li>
      
        <li>
          <span class="type">MODULE</span>
          <a href="FileUtils/LowMethods.html">Bundler::FileUtils::LowMethods</a>
        </li>
      
        <li>
          <span class="type">MODULE</span>
          <a href="FileUtils/NoWrite.html">Bundler::FileUtils::NoWrite</a>
        </li>
      
        <li>
          <span class="type">MODULE</span>
          <a href="FileUtils/StreamUtils_.html">Bundler::FileUtils::StreamUtils_</a>
        </li>
      
        <li>
          <span class="type">MODULE</span>
          <a href="FileUtils/Verbose.html">Bundler::FileUtils::Verbose</a>
        </li>
      
    </ul>
  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>C</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-cd">cd</a>,
              </li>
            
              
              <li>
                <a href="#method-c-chdir">chdir</a>,
              </li>
            
              
              <li>
                <a href="#method-c-chmod">chmod</a>,
              </li>
            
              
              <li>
                <a href="#method-c-chmod_R">chmod_R</a>,
              </li>
            
              
              <li>
                <a href="#method-c-chown">chown</a>,
              </li>
            
              
              <li>
                <a href="#method-c-chown_R">chown_R</a>,
              </li>
            
              
              <li>
                <a href="#method-c-cmp">cmp</a>,
              </li>
            
              
              <li>
                <a href="#method-c-compare_file">compare_file</a>,
              </li>
            
              
              <li>
                <a href="#method-c-compare_stream">compare_stream</a>,
              </li>
            
              
              <li>
                <a href="#method-c-copy">copy</a>,
              </li>
            
              
              <li>
                <a href="#method-c-copy_entry">copy_entry</a>,
              </li>
            
              
              <li>
                <a href="#method-c-copy_file">copy_file</a>,
              </li>
            
              
              <li>
                <a href="#method-c-copy_stream">copy_stream</a>,
              </li>
            
              
              <li>
                <a href="#method-c-cp">cp</a>,
              </li>
            
              
              <li>
                <a href="#method-c-cp_r">cp_r</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>G</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-getwd">getwd</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>I</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-identical-3F">identical?</a>,
              </li>
            
              
              <li>
                <a href="#method-c-install">install</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>L</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-link">link</a>,
              </li>
            
              
              <li>
                <a href="#method-c-ln">ln</a>,
              </li>
            
              
              <li>
                <a href="#method-c-ln_s">ln_s</a>,
              </li>
            
              
              <li>
                <a href="#method-c-ln_sf">ln_sf</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>M</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-makedirs">makedirs</a>,
              </li>
            
              
              <li>
                <a href="#method-c-mkdir">mkdir</a>,
              </li>
            
              
              <li>
                <a href="#method-c-mkdir_p">mkdir_p</a>,
              </li>
            
              
              <li>
                <a href="#method-c-mkpath">mkpath</a>,
              </li>
            
              
              <li>
                <a href="#method-c-move">move</a>,
              </li>
            
              
              <li>
                <a href="#method-c-mv">mv</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>P</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-pwd">pwd</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>R</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-remove">remove</a>,
              </li>
            
              
              <li>
                <a href="#method-c-remove_dir">remove_dir</a>,
              </li>
            
              
              <li>
                <a href="#method-c-remove_entry">remove_entry</a>,
              </li>
            
              
              <li>
                <a href="#method-c-remove_entry_secure">remove_entry_secure</a>,
              </li>
            
              
              <li>
                <a href="#method-c-remove_file">remove_file</a>,
              </li>
            
              
              <li>
                <a href="#method-c-rm">rm</a>,
              </li>
            
              
              <li>
                <a href="#method-c-rm_f">rm_f</a>,
              </li>
            
              
              <li>
                <a href="#method-c-rm_r">rm_r</a>,
              </li>
            
              
              <li>
                <a href="#method-c-rm_rf">rm_rf</a>,
              </li>
            
              
              <li>
                <a href="#method-c-rmdir">rmdir</a>,
              </li>
            
              
              <li>
                <a href="#method-c-rmtree">rmtree</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>S</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-safe_unlink">safe_unlink</a>,
              </li>
            
              
              <li>
                <a href="#method-c-symlink">symlink</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>T</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-touch">touch</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>U</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-uptodate-3F">uptodate?</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  
    <!-- Includes -->
    <div class="sectiontitle">Included Modules</div>
    <ul>
      
        <li>
          
            <a href="FileUtils/StreamUtils_.html">
              Bundler::FileUtils::StreamUtils_
            </a>
          
        </li>
      
    </ul>
  



  

    

    

    
      <!-- Section constants -->
      <div class="sectiontitle">Constants</div>
      <table border='0' cellpadding='5'>
        
          <tr valign='top'>
            <td class="attr-name">OPT_TABLE</td>
            <td>=</td>
            <td class="attr-value">{}</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"><p>This hash table holds command options.</p></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">LOW_METHODS</td>
            <td>=</td>
            <td class="attr-value">singleton_methods(false) - collect_method(:noop).map(&amp;:intern)</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">METHODS</td>
            <td>=</td>
            <td class="attr-value">singleton_methods() - [:private_module_function,
:commands, :options, :have_option?, :options_of, :collect_method]</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
      </table>
    


    


    <!-- Methods -->
    
      <div class="sectiontitle">Class Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-c-cd">
            
              <b>cd</b>(dir, verbose: nil)
            
            <a href="../../classes/Bundler/FileUtils.html#method-c-cd" name="method-c-cd" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Changes the current directory to the directory <code>dir</code>.</p>

<p>If this method is called with block, resumes to the old working directory
after the block execution finished.</p>

<pre><code>Bundler::FileUtils.cd(&#39;/&#39;, :verbose =&gt; true)   # chdir and report it

Bundler::FileUtils.cd(&#39;/&#39;) do  # chdir
  # ...               # do something
end                   # return to original directory
</code></pre>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="FileUtils.html#method-i-chdir">chdir</a>
            </div>
          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-cd_source')" id="l_method-c-cd_source">show</a>
                
              </p>
              <div id="method-c-cd_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/bundler/vendor/fileutils/lib/fileutils.rb, line 118</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">cd</span>(<span class="ruby-identifier">dir</span>, <span class="ruby-identifier">verbose</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>) <span class="ruby-comment"># :yield: dir</span>
  <span class="ruby-identifier">fu_output_message</span> <span class="ruby-node">&quot;cd #{dir}&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">verbose</span>
  <span class="ruby-constant">Dir</span>.<span class="ruby-identifier">chdir</span>(<span class="ruby-identifier">dir</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">fu_output_message</span> <span class="ruby-string">&#39;cd -&#39;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">verbose</span> <span class="ruby-keyword">and</span> <span class="ruby-identifier">block</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-chdir">
            
              <b>chdir</b>(dir, verbose: nil)
            
            <a href="../../classes/Bundler/FileUtils.html#method-c-chdir" name="method-c-chdir" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="FileUtils.html#method-i-cd">cd</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-chmod">
            
              <b>chmod</b>(mode, list, noop: nil, verbose: nil)
            
            <a href="../../classes/Bundler/FileUtils.html#method-c-chmod" name="method-c-chmod" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Changes permission bits on the named files (in <code>list</code>) to the
bit pattern represented by <code>mode</code>.</p>

<p><code>mode</code> is the symbolic and absolute mode can be used.</p>

<p>Absolute mode is</p>

<pre><code>Bundler::FileUtils.chmod 0755, &#39;somecommand&#39;
Bundler::FileUtils.chmod 0644, %w(my.rb your.rb his.rb her.rb)
Bundler::FileUtils.chmod 0755, &#39;/usr/bin/ruby&#39;, :verbose =&gt; true
</code></pre>

<p>Symbolic mode is</p>

<pre><code>Bundler::FileUtils.chmod &quot;u=wrx,go=rx&quot;, &#39;somecommand&#39;
Bundler::FileUtils.chmod &quot;u=wr,go=rr&quot;, %w(my.rb your.rb his.rb her.rb)
Bundler::FileUtils.chmod &quot;u=wrx,go=rx&quot;, &#39;/usr/bin/ruby&#39;, :verbose =&gt; true
</code></pre>
<dl class="rdoc-list note-list"><dt>“a” 
<dd>
<p>is user, group, other mask.</p>
</dd><dt>“u” 
<dd>
<p>is user&#39;s mask.</p>
</dd><dt>“g” 
<dd>
<p>is group&#39;s mask.</p>
</dd><dt>“o” 
<dd>
<p>is other&#39;s mask.</p>
</dd><dt>“w” 
<dd>
<p>is write permission.</p>
</dd><dt>“r” 
<dd>
<p>is read permission.</p>
</dd><dt>“x” 
<dd>
<p>is execute permission.</p>
</dd><dt>“X” 
<dd>
<p>is execute permission for directories only, must be used in conjunction
with “+”</p>
</dd><dt>“s” 
<dd>
<p>is uid, gid.</p>
</dd><dt>“t” 
<dd>
<p>is sticky bit.</p>
</dd><dt>“+” 
<dd>
<p>is added to a class given the specified mode.</p>
</dd><dt>“-” 
<dd>
<p>Is removed from a given class given mode.</p>
</dd><dt>“=” 
<dd>
<p>Is the exact nature of the class will be given a specified mode.</p>
</dd></dl>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-chmod_source')" id="l_method-c-chmod_source">show</a>
                
              </p>
              <div id="method-c-chmod_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/bundler/vendor/fileutils/lib/fileutils.rb, line 914</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">chmod</span>(<span class="ruby-identifier">mode</span>, <span class="ruby-identifier">list</span>, <span class="ruby-identifier">noop</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">verbose</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">list</span> = <span class="ruby-identifier">fu_list</span>(<span class="ruby-identifier">list</span>)
  <span class="ruby-identifier">fu_output_message</span> <span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&#39;chmod %s %s&#39;</span>, <span class="ruby-identifier">mode_to_s</span>(<span class="ruby-identifier">mode</span>), <span class="ruby-identifier">list</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&#39; &#39;</span>)) <span class="ruby-keyword">if</span> <span class="ruby-identifier">verbose</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">noop</span>
  <span class="ruby-identifier">list</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span><span class="ruby-operator">|</span>
    <span class="ruby-constant">Entry_</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>).<span class="ruby-identifier">chmod</span>(<span class="ruby-identifier">fu_mode</span>(<span class="ruby-identifier">mode</span>, <span class="ruby-identifier">path</span>))
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-chmod_R">
            
              <b>chmod_R</b>(mode, list, noop: nil, verbose: nil, force: nil)
            
            <a href="../../classes/Bundler/FileUtils.html#method-c-chmod_R" name="method-c-chmod_R" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Changes permission bits on the named files (in <code>list</code>) to the
bit pattern represented by <code>mode</code>.</p>

<pre><code>Bundler::FileUtils.chmod_R 0700, &quot;/tmp/app.#{$$}&quot;
Bundler::FileUtils.chmod_R &quot;u=wrx&quot;, &quot;/tmp/app.#{$$}&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-chmod_R_source')" id="l_method-c-chmod_R_source">show</a>
                
              </p>
              <div id="method-c-chmod_R_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/bundler/vendor/fileutils/lib/fileutils.rb, line 931</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">chmod_R</span>(<span class="ruby-identifier">mode</span>, <span class="ruby-identifier">list</span>, <span class="ruby-identifier">noop</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">verbose</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">force</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">list</span> = <span class="ruby-identifier">fu_list</span>(<span class="ruby-identifier">list</span>)
  <span class="ruby-identifier">fu_output_message</span> <span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&#39;chmod -R%s %s %s&#39;</span>,
                            (<span class="ruby-identifier">force</span> <span class="ruby-operator">?</span> <span class="ruby-string">&#39;f&#39;</span> <span class="ruby-operator">:</span> <span class="ruby-string">&#39;&#39;</span>),
                            <span class="ruby-identifier">mode_to_s</span>(<span class="ruby-identifier">mode</span>), <span class="ruby-identifier">list</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&#39; &#39;</span>)) <span class="ruby-keyword">if</span> <span class="ruby-identifier">verbose</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">noop</span>
  <span class="ruby-identifier">list</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">root</span><span class="ruby-operator">|</span>
    <span class="ruby-constant">Entry_</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">root</span>).<span class="ruby-identifier">traverse</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">ent</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">begin</span>
        <span class="ruby-identifier">ent</span>.<span class="ruby-identifier">chmod</span>(<span class="ruby-identifier">fu_mode</span>(<span class="ruby-identifier">mode</span>, <span class="ruby-identifier">ent</span>.<span class="ruby-identifier">path</span>))
      <span class="ruby-keyword">rescue</span>
        <span class="ruby-identifier">raise</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">force</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-chown">
            
              <b>chown</b>(user, group, list, noop: nil, verbose: nil)
            
            <a href="../../classes/Bundler/FileUtils.html#method-c-chown" name="method-c-chown" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Changes owner and group on the named files (in <code>list</code>) to the
user <code>user</code> and the group <code>group</code>.  <code>user</code>
and <code>group</code> may be an ID (Integer/String) or a name (String). If
<code>user</code> or <code>group</code> is nil, this method does not change
the attribute.</p>

<pre><code>Bundler::FileUtils.chown &#39;root&#39;, &#39;staff&#39;, &#39;/usr/local/bin/ruby&#39;
Bundler::FileUtils.chown nil, &#39;bin&#39;, Dir.glob(&#39;/usr/bin/*&#39;), :verbose =&gt; true
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-chown_source')" id="l_method-c-chown_source">show</a>
                
              </p>
              <div id="method-c-chown_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/bundler/vendor/fileutils/lib/fileutils.rb, line 959</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">chown</span>(<span class="ruby-identifier">user</span>, <span class="ruby-identifier">group</span>, <span class="ruby-identifier">list</span>, <span class="ruby-identifier">noop</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">verbose</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">list</span> = <span class="ruby-identifier">fu_list</span>(<span class="ruby-identifier">list</span>)
  <span class="ruby-identifier">fu_output_message</span> <span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&#39;chown %s %s&#39;</span>,
                            (<span class="ruby-identifier">group</span> <span class="ruby-operator">?</span> <span class="ruby-node">&quot;#{user}:#{group}&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">user</span> <span class="ruby-operator">||</span> <span class="ruby-string">&#39;:&#39;</span>),
                            <span class="ruby-identifier">list</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&#39; &#39;</span>)) <span class="ruby-keyword">if</span> <span class="ruby-identifier">verbose</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">noop</span>
  <span class="ruby-identifier">uid</span> = <span class="ruby-identifier">fu_get_uid</span>(<span class="ruby-identifier">user</span>)
  <span class="ruby-identifier">gid</span> = <span class="ruby-identifier">fu_get_gid</span>(<span class="ruby-identifier">group</span>)
  <span class="ruby-identifier">list</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span><span class="ruby-operator">|</span>
    <span class="ruby-constant">Entry_</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>).<span class="ruby-identifier">chown</span> <span class="ruby-identifier">uid</span>, <span class="ruby-identifier">gid</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-chown_R">
            
              <b>chown_R</b>(user, group, list, noop: nil, verbose: nil, force: nil)
            
            <a href="../../classes/Bundler/FileUtils.html#method-c-chown_R" name="method-c-chown_R" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Changes owner and group on the named files (in <code>list</code>) to the
user <code>user</code> and the group <code>group</code> recursively.
<code>user</code> and <code>group</code> may be an ID (Integer/String) or a
name (String).  If <code>user</code> or <code>group</code> is nil, this
method does not change the attribute.</p>

<pre><code>Bundler::FileUtils.chown_R &#39;www&#39;, &#39;www&#39;, &#39;/var/www/htdocs&#39;
Bundler::FileUtils.chown_R &#39;cvs&#39;, &#39;cvs&#39;, &#39;/var/cvs&#39;, :verbose =&gt; true
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-chown_R_source')" id="l_method-c-chown_R_source">show</a>
                
              </p>
              <div id="method-c-chown_R_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/bundler/vendor/fileutils/lib/fileutils.rb, line 983</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">chown_R</span>(<span class="ruby-identifier">user</span>, <span class="ruby-identifier">group</span>, <span class="ruby-identifier">list</span>, <span class="ruby-identifier">noop</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">verbose</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">force</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">list</span> = <span class="ruby-identifier">fu_list</span>(<span class="ruby-identifier">list</span>)
  <span class="ruby-identifier">fu_output_message</span> <span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&#39;chown -R%s %s %s&#39;</span>,
                            (<span class="ruby-identifier">force</span> <span class="ruby-operator">?</span> <span class="ruby-string">&#39;f&#39;</span> <span class="ruby-operator">:</span> <span class="ruby-string">&#39;&#39;</span>),
                            (<span class="ruby-identifier">group</span> <span class="ruby-operator">?</span> <span class="ruby-node">&quot;#{user}:#{group}&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">user</span> <span class="ruby-operator">||</span> <span class="ruby-string">&#39;:&#39;</span>),
                            <span class="ruby-identifier">list</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&#39; &#39;</span>)) <span class="ruby-keyword">if</span> <span class="ruby-identifier">verbose</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">noop</span>
  <span class="ruby-identifier">uid</span> = <span class="ruby-identifier">fu_get_uid</span>(<span class="ruby-identifier">user</span>)
  <span class="ruby-identifier">gid</span> = <span class="ruby-identifier">fu_get_gid</span>(<span class="ruby-identifier">group</span>)
  <span class="ruby-identifier">list</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">root</span><span class="ruby-operator">|</span>
    <span class="ruby-constant">Entry_</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">root</span>).<span class="ruby-identifier">traverse</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">ent</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">begin</span>
        <span class="ruby-identifier">ent</span>.<span class="ruby-identifier">chown</span> <span class="ruby-identifier">uid</span>, <span class="ruby-identifier">gid</span>
      <span class="ruby-keyword">rescue</span>
        <span class="ruby-identifier">raise</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">force</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-cmp">
            
              <b>cmp</b>(a, b)
            
            <a href="../../classes/Bundler/FileUtils.html#method-c-cmp" name="method-c-cmp" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="FileUtils.html#method-i-compare_file">compare_file</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-compare_file">
            
              <b>compare_file</b>(a, b)
            
            <a href="../../classes/Bundler/FileUtils.html#method-c-compare_file" name="method-c-compare_file" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns true if the contents of a file <code>a</code> and a file
<code>b</code> are identical.</p>

<pre><code>Bundler::FileUtils.compare_file(&#39;somefile&#39;, &#39;somefile&#39;)       #=&gt; true
Bundler::FileUtils.compare_file(&#39;/dev/null&#39;, &#39;/dev/urandom&#39;)  #=&gt; false
</code></pre>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="FileUtils.html#method-i-identical-3F">identical?</a>, <a href="FileUtils.html#method-i-cmp">cmp</a>
            </div>
          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-compare_file_source')" id="l_method-c-compare_file_source">show</a>
                
              </p>
              <div id="method-c-compare_file_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/bundler/vendor/fileutils/lib/fileutils.rb, line 725</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">compare_file</span>(<span class="ruby-identifier">a</span>, <span class="ruby-identifier">b</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span> <span class="ruby-keyword">unless</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">size</span>(<span class="ruby-identifier">a</span>) <span class="ruby-operator">==</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">size</span>(<span class="ruby-identifier">b</span>)
  <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-identifier">a</span>, <span class="ruby-string">&#39;rb&#39;</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">fa</span><span class="ruby-operator">|</span>
    <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-identifier">b</span>, <span class="ruby-string">&#39;rb&#39;</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">fb</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">return</span> <span class="ruby-identifier">compare_stream</span>(<span class="ruby-identifier">fa</span>, <span class="ruby-identifier">fb</span>)
    }
  }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-compare_stream">
            
              <b>compare_stream</b>(a, b)
            
            <a href="../../classes/Bundler/FileUtils.html#method-c-compare_stream" name="method-c-compare_stream" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns true if the contents of a stream <code>a</code> and <code>b</code>
are identical.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-compare_stream_source')" id="l_method-c-compare_stream_source">show</a>
                
              </p>
              <div id="method-c-compare_stream_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/bundler/vendor/fileutils/lib/fileutils.rb, line 743</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">compare_stream</span>(<span class="ruby-identifier">a</span>, <span class="ruby-identifier">b</span>)
  <span class="ruby-identifier">bsize</span> = <span class="ruby-identifier">fu_stream_blksize</span>(<span class="ruby-identifier">a</span>, <span class="ruby-identifier">b</span>)
  <span class="ruby-identifier">sa</span> = <span class="ruby-constant">String</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">capacity</span><span class="ruby-operator">:</span> <span class="ruby-identifier">bsize</span>)
  <span class="ruby-identifier">sb</span> = <span class="ruby-constant">String</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">capacity</span><span class="ruby-operator">:</span> <span class="ruby-identifier">bsize</span>)
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">a</span>.<span class="ruby-identifier">read</span>(<span class="ruby-identifier">bsize</span>, <span class="ruby-identifier">sa</span>)
    <span class="ruby-identifier">b</span>.<span class="ruby-identifier">read</span>(<span class="ruby-identifier">bsize</span>, <span class="ruby-identifier">sb</span>)
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">true</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">sa</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">sb</span>.<span class="ruby-identifier">empty?</span>
  <span class="ruby-keyword">end</span> <span class="ruby-keyword">while</span> <span class="ruby-identifier">sa</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">sb</span>
  <span class="ruby-keyword">false</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-copy">
            
              <b>copy</b>(src, dest, preserve: nil, noop: nil, verbose: nil)
            
            <a href="../../classes/Bundler/FileUtils.html#method-c-copy" name="method-c-copy" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="FileUtils.html#method-i-cp">cp</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-copy_entry">
            
              <b>copy_entry</b>(src, dest, preserve = false, dereference_root = false, remove_destination = false)
            
            <a href="../../classes/Bundler/FileUtils.html#method-c-copy_entry" name="method-c-copy_entry" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Copies a file system entry <code>src</code> to <code>dest</code>. If
<code>src</code> is a directory, this method copies its contents
recursively. This method preserves file types, c.f. symlink, directory…
(FIFO, device files and etc. are not supported yet)</p>

<p>Both of <code>src</code> and <code>dest</code> must be a path name.
<code>src</code> must exist, <code>dest</code> must not exist.</p>

<p>If <code>preserve</code> is true, this method preserves owner, group, and
modified time.  Permissions are copied regardless <code>preserve</code>.</p>

<p>If <code>dereference_root</code> is true, this method dereference tree
root.</p>

<p>If <code>remove_destination</code> is true, this method removes each
destination file before copy.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-copy_entry_source')" id="l_method-c-copy_entry_source">show</a>
                
              </p>
              <div id="method-c-copy_entry_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/bundler/vendor/fileutils/lib/fileutils.rb, line 412</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">copy_entry</span>(<span class="ruby-identifier">src</span>, <span class="ruby-identifier">dest</span>, <span class="ruby-identifier">preserve</span> = <span class="ruby-keyword">false</span>, <span class="ruby-identifier">dereference_root</span> = <span class="ruby-keyword">false</span>, <span class="ruby-identifier">remove_destination</span> = <span class="ruby-keyword">false</span>)
  <span class="ruby-constant">Entry_</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">src</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">dereference_root</span>).<span class="ruby-identifier">wrap_traverse</span>(<span class="ruby-identifier">proc</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">ent</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">destent</span> = <span class="ruby-constant">Entry_</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">dest</span>, <span class="ruby-identifier">ent</span>.<span class="ruby-identifier">rel</span>, <span class="ruby-keyword">false</span>)
    <span class="ruby-constant">File</span>.<span class="ruby-identifier">unlink</span> <span class="ruby-identifier">destent</span>.<span class="ruby-identifier">path</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">remove_destination</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">file?</span>(<span class="ruby-identifier">destent</span>.<span class="ruby-identifier">path</span>)
    <span class="ruby-identifier">ent</span>.<span class="ruby-identifier">copy</span> <span class="ruby-identifier">destent</span>.<span class="ruby-identifier">path</span>
  <span class="ruby-keyword">end</span>, <span class="ruby-identifier">proc</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">ent</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">destent</span> = <span class="ruby-constant">Entry_</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">dest</span>, <span class="ruby-identifier">ent</span>.<span class="ruby-identifier">rel</span>, <span class="ruby-keyword">false</span>)
    <span class="ruby-identifier">ent</span>.<span class="ruby-identifier">copy_metadata</span> <span class="ruby-identifier">destent</span>.<span class="ruby-identifier">path</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">preserve</span>
  <span class="ruby-keyword">end</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-copy_file">
            
              <b>copy_file</b>(src, dest, preserve = false, dereference = true)
            
            <a href="../../classes/Bundler/FileUtils.html#method-c-copy_file" name="method-c-copy_file" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Copies file contents of <code>src</code> to <code>dest</code>. Both of
<code>src</code> and <code>dest</code> must be a path name.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-copy_file_source')" id="l_method-c-copy_file_source">show</a>
                
              </p>
              <div id="method-c-copy_file_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/bundler/vendor/fileutils/lib/fileutils.rb, line 428</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">copy_file</span>(<span class="ruby-identifier">src</span>, <span class="ruby-identifier">dest</span>, <span class="ruby-identifier">preserve</span> = <span class="ruby-keyword">false</span>, <span class="ruby-identifier">dereference</span> = <span class="ruby-keyword">true</span>)
  <span class="ruby-identifier">ent</span> = <span class="ruby-constant">Entry_</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">src</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">dereference</span>)
  <span class="ruby-identifier">ent</span>.<span class="ruby-identifier">copy_file</span> <span class="ruby-identifier">dest</span>
  <span class="ruby-identifier">ent</span>.<span class="ruby-identifier">copy_metadata</span> <span class="ruby-identifier">dest</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">preserve</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-copy_stream">
            
              <b>copy_stream</b>(src, dest)
            
            <a href="../../classes/Bundler/FileUtils.html#method-c-copy_stream" name="method-c-copy_stream" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Copies stream <code>src</code> to <code>dest</code>. <code>src</code> must
respond to read(n) and <code>dest</code> must respond to write(str).</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-copy_stream_source')" id="l_method-c-copy_stream_source">show</a>
                
              </p>
              <div id="method-c-copy_stream_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/bundler/vendor/fileutils/lib/fileutils.rb, line 440</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">copy_stream</span>(<span class="ruby-identifier">src</span>, <span class="ruby-identifier">dest</span>)
  <span class="ruby-constant">IO</span>.<span class="ruby-identifier">copy_stream</span>(<span class="ruby-identifier">src</span>, <span class="ruby-identifier">dest</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-cp">
            
              <b>cp</b>(src, dest, preserve: nil, noop: nil, verbose: nil)
            
            <a href="../../classes/Bundler/FileUtils.html#method-c-cp" name="method-c-cp" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Copies a file content <code>src</code> to <code>dest</code>.  If
<code>dest</code> is a directory, copies <code>src</code> to
<code>dest/src</code>.</p>

<p>If <code>src</code> is a list of files, then <code>dest</code> must be a
directory.</p>

<pre><code>Bundler::FileUtils.cp &#39;eval.c&#39;, &#39;eval.c.org&#39;
Bundler::FileUtils.cp %w(cgi.rb complex.rb date.rb), &#39;/usr/lib/ruby/1.6&#39;
Bundler::FileUtils.cp %w(cgi.rb complex.rb date.rb), &#39;/usr/lib/ruby/1.6&#39;, :verbose =&gt; true
Bundler::FileUtils.cp &#39;symlink&#39;, &#39;dest&#39;   # copy content, &quot;dest&quot; is not a symlink
</code></pre>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="FileUtils.html#method-i-copy">copy</a>
            </div>
          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-cp_source')" id="l_method-c-cp_source">show</a>
                
              </p>
              <div id="method-c-cp_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/bundler/vendor/fileutils/lib/fileutils.rb, line 353</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">cp</span>(<span class="ruby-identifier">src</span>, <span class="ruby-identifier">dest</span>, <span class="ruby-identifier">preserve</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">noop</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">verbose</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">fu_output_message</span> <span class="ruby-node">&quot;cp#{preserve ? &#39; -p&#39; : &#39;&#39;} #{[src,dest].flatten.join &#39; &#39;}&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">verbose</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">noop</span>
  <span class="ruby-identifier">fu_each_src_dest</span>(<span class="ruby-identifier">src</span>, <span class="ruby-identifier">dest</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">s</span>, <span class="ruby-identifier">d</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">copy_file</span> <span class="ruby-identifier">s</span>, <span class="ruby-identifier">d</span>, <span class="ruby-identifier">preserve</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-cp_r">
            
              <b>cp_r</b>(src, dest, preserve: nil, noop: nil, verbose: nil, dereference_root: true, remove_destination: nil)
            
            <a href="../../classes/Bundler/FileUtils.html#method-c-cp_r" name="method-c-cp_r" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Copies <code>src</code> to <code>dest</code>. If <code>src</code> is a
directory, this method copies all its contents recursively. If
<code>dest</code> is a directory, copies <code>src</code> to
<code>dest/src</code>.</p>

<p><code>src</code> can be a list of files.</p>

<pre><code># Installing Ruby library &quot;mylib&quot; under the site_ruby
Bundler::FileUtils.rm_r site_ruby + &#39;/mylib&#39;, :force
Bundler::FileUtils.cp_r &#39;lib/&#39;, site_ruby + &#39;/mylib&#39;

# Examples of copying several files to target directory.
Bundler::FileUtils.cp_r %w(mail.rb field.rb debug/), site_ruby + &#39;/tmail&#39;
Bundler::FileUtils.cp_r Dir.glob(&#39;*.rb&#39;), &#39;/home/foo/lib/ruby&#39;, :noop =&gt; true, :verbose =&gt; true

# If you want to copy all contents of a directory instead of the
# directory itself, c.f. src/x -&gt; dest/x, src/y -&gt; dest/y,
# use following code.
Bundler::FileUtils.cp_r &#39;src/.&#39;, &#39;dest&#39;     # cp_r(&#39;src&#39;, &#39;dest&#39;) makes dest/src,
                                   # but this doesn&#39;t.
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-cp_r_source')" id="l_method-c-cp_r_source">show</a>
                
              </p>
              <div id="method-c-cp_r_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/bundler/vendor/fileutils/lib/fileutils.rb, line 386</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">cp_r</span>(<span class="ruby-identifier">src</span>, <span class="ruby-identifier">dest</span>, <span class="ruby-identifier">preserve</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">noop</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">verbose</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>,
         <span class="ruby-identifier">dereference_root</span><span class="ruby-operator">:</span> <span class="ruby-keyword">true</span>, <span class="ruby-identifier">remove_destination</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">fu_output_message</span> <span class="ruby-node">&quot;cp -r#{preserve ? &#39;p&#39; : &#39;&#39;}#{remove_destination ? &#39; --remove-destination&#39; : &#39;&#39;} #{[src,dest].flatten.join &#39; &#39;}&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">verbose</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">noop</span>
  <span class="ruby-identifier">fu_each_src_dest</span>(<span class="ruby-identifier">src</span>, <span class="ruby-identifier">dest</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">s</span>, <span class="ruby-identifier">d</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">copy_entry</span> <span class="ruby-identifier">s</span>, <span class="ruby-identifier">d</span>, <span class="ruby-identifier">preserve</span>, <span class="ruby-identifier">dereference_root</span>, <span class="ruby-identifier">remove_destination</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-getwd">
            
              <b>getwd</b>()
            
            <a href="../../classes/Bundler/FileUtils.html#method-c-getwd" name="method-c-getwd" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="FileUtils.html#method-i-pwd">pwd</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-identical-3F">
            
              <b>identical?</b>(a, b)
            
            <a href="../../classes/Bundler/FileUtils.html#method-c-identical-3F" name="method-c-identical-3F" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="FileUtils.html#method-i-compare_file">compare_file</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-install">
            
              <b>install</b>(src, dest, mode: nil, owner: nil, group: nil, preserve: nil, noop: nil, verbose: nil)
            
            <a href="../../classes/Bundler/FileUtils.html#method-c-install" name="method-c-install" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>If <code>src</code> is not same as <code>dest</code>, copies it and changes
the permission mode to <code>mode</code>.  If <code>dest</code> is a
directory, destination is <code>dest</code>/<code>src</code>. This method
removes destination before copy.</p>

<pre><code>Bundler::FileUtils.install &#39;ruby&#39;, &#39;/usr/local/bin/ruby&#39;, :mode =&gt; 0755, :verbose =&gt; true
Bundler::FileUtils.install &#39;lib.rb&#39;, &#39;/usr/local/lib/ruby/site_ruby&#39;, :verbose =&gt; true
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-install_source')" id="l_method-c-install_source">show</a>
                
              </p>
              <div id="method-c-install_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/bundler/vendor/fileutils/lib/fileutils.rb, line 764</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">install</span>(<span class="ruby-identifier">src</span>, <span class="ruby-identifier">dest</span>, <span class="ruby-identifier">mode</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">owner</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">group</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">preserve</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>,
            <span class="ruby-identifier">noop</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">verbose</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">verbose</span>
    <span class="ruby-identifier">msg</span> = <span class="ruby-operator">+</span><span class="ruby-string">&quot;install -c&quot;</span>
    <span class="ruby-identifier">msg</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&#39; -p&#39;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">preserve</span>
    <span class="ruby-identifier">msg</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&#39; -m &#39;</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">mode_to_s</span>(<span class="ruby-identifier">mode</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">mode</span>
    <span class="ruby-identifier">msg</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot; -o #{owner}&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">owner</span>
    <span class="ruby-identifier">msg</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot; -g #{group}&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">group</span>
    <span class="ruby-identifier">msg</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&#39; &#39;</span> <span class="ruby-operator">&lt;&lt;</span> [<span class="ruby-identifier">src</span>,<span class="ruby-identifier">dest</span>].<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&#39; &#39;</span>)
    <span class="ruby-identifier">fu_output_message</span> <span class="ruby-identifier">msg</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">noop</span>
  <span class="ruby-identifier">uid</span> = <span class="ruby-identifier">fu_get_uid</span>(<span class="ruby-identifier">owner</span>)
  <span class="ruby-identifier">gid</span> = <span class="ruby-identifier">fu_get_gid</span>(<span class="ruby-identifier">group</span>)
  <span class="ruby-identifier">fu_each_src_dest</span>(<span class="ruby-identifier">src</span>, <span class="ruby-identifier">dest</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">s</span>, <span class="ruby-identifier">d</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">st</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">stat</span>(<span class="ruby-identifier">s</span>)
    <span class="ruby-keyword">unless</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-identifier">d</span>) <span class="ruby-keyword">and</span> <span class="ruby-identifier">compare_file</span>(<span class="ruby-identifier">s</span>, <span class="ruby-identifier">d</span>)
      <span class="ruby-identifier">remove_file</span> <span class="ruby-identifier">d</span>, <span class="ruby-keyword">true</span>
      <span class="ruby-identifier">copy_file</span> <span class="ruby-identifier">s</span>, <span class="ruby-identifier">d</span>
      <span class="ruby-constant">File</span>.<span class="ruby-identifier">utime</span> <span class="ruby-identifier">st</span>.<span class="ruby-identifier">atime</span>, <span class="ruby-identifier">st</span>.<span class="ruby-identifier">mtime</span>, <span class="ruby-identifier">d</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">preserve</span>
      <span class="ruby-constant">File</span>.<span class="ruby-identifier">chmod</span> <span class="ruby-identifier">fu_mode</span>(<span class="ruby-identifier">mode</span>, <span class="ruby-identifier">st</span>), <span class="ruby-identifier">d</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">mode</span>
      <span class="ruby-constant">File</span>.<span class="ruby-identifier">chown</span> <span class="ruby-identifier">uid</span>, <span class="ruby-identifier">gid</span>, <span class="ruby-identifier">d</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">uid</span> <span class="ruby-keyword">or</span> <span class="ruby-identifier">gid</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-link">
            
              <b>link</b>(src, dest, force: nil, noop: nil, verbose: nil)
            
            <a href="../../classes/Bundler/FileUtils.html#method-c-link" name="method-c-link" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="FileUtils.html#method-i-ln">ln</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-ln">
            
              <b>Bundler::FileUtils.ln(target, link, force: nil, noop: nil, verbose: nil)<br />Bundler::FileUtils.ln(target,  dir, force: nil, noop: nil, verbose: nil)<br />Bundler::FileUtils.ln(targets, dir, force: nil, noop: nil, verbose: nil)
</b>
            
            <a href="../../classes/Bundler/FileUtils.html#method-c-ln" name="method-c-ln" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>In the first form, creates a hard link <code>link</code> which points to
<code>target</code>. If <code>link</code> already exists, raises
Errno::EEXIST. But if the :force option is set, overwrites
<code>link</code>.</p>

<pre><code>Bundler::FileUtils.ln &#39;gcc&#39;, &#39;cc&#39;, verbose: true
Bundler::FileUtils.ln &#39;/usr/bin/emacs21&#39;, &#39;/usr/bin/emacs&#39;
</code></pre>

<p>In the second form, creates a link <code>dir/target</code> pointing to
<code>target</code>. In the third form, creates several hard links in the
directory <code>dir</code>, pointing to each item in <code>targets</code>.
If <code>dir</code> is not a directory, raises Errno::ENOTDIR.</p>

<pre><code>Bundler::FileUtils.cd &#39;/sbin&#39;
Bundler::FileUtils.ln %w(cp mv mkdir), &#39;/bin&#39;   # Now /sbin/cp and /bin/cp are linked.
</code></pre>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="FileUtils.html#method-i-link">link</a>
            </div>
          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-ln_source')" id="l_method-c-ln_source">show</a>
                
              </p>
              <div id="method-c-ln_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/bundler/vendor/fileutils/lib/fileutils.rb, line 283</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">ln</span>(<span class="ruby-identifier">src</span>, <span class="ruby-identifier">dest</span>, <span class="ruby-identifier">force</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">noop</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">verbose</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">fu_output_message</span> <span class="ruby-node">&quot;ln#{force ? &#39; -f&#39; : &#39;&#39;} #{[src,dest].flatten.join &#39; &#39;}&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">verbose</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">noop</span>
  <span class="ruby-identifier">fu_each_src_dest0</span>(<span class="ruby-identifier">src</span>, <span class="ruby-identifier">dest</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">s</span>,<span class="ruby-identifier">d</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">remove_file</span> <span class="ruby-identifier">d</span>, <span class="ruby-keyword">true</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">force</span>
    <span class="ruby-constant">File</span>.<span class="ruby-identifier">link</span> <span class="ruby-identifier">s</span>, <span class="ruby-identifier">d</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-ln_s">
            
              <b>Bundler::FileUtils.ln_s(target, link, force: nil, noop: nil, verbose: nil)<br />Bundler::FileUtils.ln_s(target,  dir, force: nil, noop: nil, verbose: nil)<br />Bundler::FileUtils.ln_s(targets, dir, force: nil, noop: nil, verbose: nil)
</b>
            
            <a href="../../classes/Bundler/FileUtils.html#method-c-ln_s" name="method-c-ln_s" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>In the first form, creates a symbolic link <code>link</code> which points
to <code>target</code>. If <code>link</code> already exists, raises
Errno::EEXIST. But if the :force option is set, overwrites
<code>link</code>.</p>

<pre><code>Bundler::FileUtils.ln_s &#39;/usr/bin/ruby&#39;, &#39;/usr/local/bin/ruby&#39;
Bundler::FileUtils.ln_s &#39;verylongsourcefilename.c&#39;, &#39;c&#39;, force: true
</code></pre>

<p>In the second form, creates a link <code>dir/target</code> pointing to
<code>target</code>. In the third form, creates several symbolic links in
the directory <code>dir</code>, pointing to each item in
<code>targets</code>. If <code>dir</code> is not a directory, raises
Errno::ENOTDIR.</p>

<pre><code>Bundler::FileUtils.ln_s Dir.glob(&#39;/bin/*.rb&#39;), &#39;/home/foo/bin&#39;
</code></pre>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="FileUtils.html#method-i-symlink">symlink</a>
            </div>
          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-ln_s_source')" id="l_method-c-ln_s_source">show</a>
                
              </p>
              <div id="method-c-ln_s_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/bundler/vendor/fileutils/lib/fileutils.rb, line 316</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">ln_s</span>(<span class="ruby-identifier">src</span>, <span class="ruby-identifier">dest</span>, <span class="ruby-identifier">force</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">noop</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">verbose</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">fu_output_message</span> <span class="ruby-node">&quot;ln -s#{force ? &#39;f&#39; : &#39;&#39;} #{[src,dest].flatten.join &#39; &#39;}&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">verbose</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">noop</span>
  <span class="ruby-identifier">fu_each_src_dest0</span>(<span class="ruby-identifier">src</span>, <span class="ruby-identifier">dest</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">s</span>,<span class="ruby-identifier">d</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">remove_file</span> <span class="ruby-identifier">d</span>, <span class="ruby-keyword">true</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">force</span>
    <span class="ruby-constant">File</span>.<span class="ruby-identifier">symlink</span> <span class="ruby-identifier">s</span>, <span class="ruby-identifier">d</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-ln_sf">
            
              <b>Bundler::FileUtils.ln_sf(*args)
</b>
            
            <a href="../../classes/Bundler/FileUtils.html#method-c-ln_sf" name="method-c-ln_sf" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Same as</p>

<pre><code>Bundler::FileUtils.ln_s(*args, force: true)
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-ln_sf_source')" id="l_method-c-ln_sf_source">show</a>
                
              </p>
              <div id="method-c-ln_sf_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/bundler/vendor/fileutils/lib/fileutils.rb, line 337</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">ln_sf</span>(<span class="ruby-identifier">src</span>, <span class="ruby-identifier">dest</span>, <span class="ruby-identifier">noop</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">verbose</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">ln_s</span> <span class="ruby-identifier">src</span>, <span class="ruby-identifier">dest</span>, <span class="ruby-identifier">force</span><span class="ruby-operator">:</span> <span class="ruby-keyword">true</span>, <span class="ruby-identifier">noop</span><span class="ruby-operator">:</span> <span class="ruby-identifier">noop</span>, <span class="ruby-identifier">verbose</span><span class="ruby-operator">:</span> <span class="ruby-identifier">verbose</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-makedirs">
            
              <b>makedirs</b>(list, mode: nil, noop: nil, verbose: nil)
            
            <a href="../../classes/Bundler/FileUtils.html#method-c-makedirs" name="method-c-makedirs" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="FileUtils.html#method-i-mkdir_p">mkdir_p</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-mkdir">
            
              <b>mkdir</b>(list, mode: nil, noop: nil, verbose: nil)
            
            <a href="../../classes/Bundler/FileUtils.html#method-c-mkdir" name="method-c-mkdir" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Creates one or more directories.</p>

<pre><code>Bundler::FileUtils.mkdir &#39;test&#39;
Bundler::FileUtils.mkdir %w( tmp data )
Bundler::FileUtils.mkdir &#39;notexist&#39;, :noop =&gt; true  # Does not really create.
Bundler::FileUtils.mkdir &#39;tmp&#39;, :mode =&gt; 0700
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-mkdir_source')" id="l_method-c-mkdir_source">show</a>
                
              </p>
              <div id="method-c-mkdir_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/bundler/vendor/fileutils/lib/fileutils.rb, line 160</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">mkdir</span>(<span class="ruby-identifier">list</span>, <span class="ruby-identifier">mode</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">noop</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">verbose</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">list</span> = <span class="ruby-identifier">fu_list</span>(<span class="ruby-identifier">list</span>)
  <span class="ruby-identifier">fu_output_message</span> <span class="ruby-node">&quot;mkdir #{mode ? (&#39;-m %03o &#39; % mode) : &#39;&#39;}#{list.join &#39; &#39;}&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">verbose</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">noop</span>

  <span class="ruby-identifier">list</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">dir</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">fu_mkdir</span> <span class="ruby-identifier">dir</span>, <span class="ruby-identifier">mode</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-mkdir_p">
            
              <b>mkdir_p</b>(list, mode: nil, noop: nil, verbose: nil)
            
            <a href="../../classes/Bundler/FileUtils.html#method-c-mkdir_p" name="method-c-mkdir_p" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Creates a directory and all its parent directories. For example,</p>

<pre><code>Bundler::FileUtils.mkdir_p &#39;/usr/local/lib/ruby&#39;
</code></pre>

<p>causes to make following directories, if it does not exist.</p>
<ul><li>
<p>/usr</p>
</li><li>
<p>/usr/local</p>
</li><li>
<p>/usr/local/lib</p>
</li><li>
<p>/usr/local/lib/ruby</p>
</li></ul>

<p>You can pass several directories at a time in a list.</p>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="FileUtils.html#method-i-mkpath">mkpath</a>, <a href="FileUtils.html#method-i-makedirs">makedirs</a>
            </div>
          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-mkdir_p_source')" id="l_method-c-mkdir_p_source">show</a>
                
              </p>
              <div id="method-c-mkdir_p_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/bundler/vendor/fileutils/lib/fileutils.rb, line 186</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">mkdir_p</span>(<span class="ruby-identifier">list</span>, <span class="ruby-identifier">mode</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">noop</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">verbose</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">list</span> = <span class="ruby-identifier">fu_list</span>(<span class="ruby-identifier">list</span>)
  <span class="ruby-identifier">fu_output_message</span> <span class="ruby-node">&quot;mkdir -p #{mode ? (&#39;-m %03o &#39; % mode) : &#39;&#39;}#{list.join &#39; &#39;}&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">verbose</span>
  <span class="ruby-keyword">return</span> <span class="ruby-operator">*</span><span class="ruby-identifier">list</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">noop</span>

  <span class="ruby-identifier">list</span>.<span class="ruby-identifier">map</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">path</span><span class="ruby-operator">|</span> <span class="ruby-identifier">remove_trailing_slash</span>(<span class="ruby-identifier">path</span>)}.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span><span class="ruby-operator">|</span>
    <span class="ruby-comment"># optimize for the most common case</span>
    <span class="ruby-keyword">begin</span>
      <span class="ruby-identifier">fu_mkdir</span> <span class="ruby-identifier">path</span>, <span class="ruby-identifier">mode</span>
      <span class="ruby-keyword">next</span>
    <span class="ruby-keyword">rescue</span> <span class="ruby-constant">SystemCallError</span>
      <span class="ruby-keyword">next</span> <span class="ruby-keyword">if</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">directory?</span>(<span class="ruby-identifier">path</span>)
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">stack</span> = []
    <span class="ruby-keyword">until</span> <span class="ruby-identifier">path</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">stack</span>.<span class="ruby-identifier">last</span>   <span class="ruby-comment"># dirname(&quot;/&quot;)==&quot;/&quot;, dirname(&quot;C:/&quot;)==&quot;C:/&quot;</span>
      <span class="ruby-identifier">stack</span>.<span class="ruby-identifier">push</span> <span class="ruby-identifier">path</span>
      <span class="ruby-identifier">path</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">dirname</span>(<span class="ruby-identifier">path</span>)
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">stack</span>.<span class="ruby-identifier">pop</span>                 <span class="ruby-comment"># root directory should exist</span>
    <span class="ruby-identifier">stack</span>.<span class="ruby-identifier">reverse_each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">dir</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">begin</span>
        <span class="ruby-identifier">fu_mkdir</span> <span class="ruby-identifier">dir</span>, <span class="ruby-identifier">mode</span>
      <span class="ruby-keyword">rescue</span> <span class="ruby-constant">SystemCallError</span>
        <span class="ruby-identifier">raise</span> <span class="ruby-keyword">unless</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">directory?</span>(<span class="ruby-identifier">dir</span>)
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">return</span> <span class="ruby-operator">*</span><span class="ruby-identifier">list</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-mkpath">
            
              <b>mkpath</b>(list, mode: nil, noop: nil, verbose: nil)
            
            <a href="../../classes/Bundler/FileUtils.html#method-c-mkpath" name="method-c-mkpath" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="FileUtils.html#method-i-mkdir_p">mkdir_p</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-move">
            
              <b>move</b>(src, dest, force: nil, noop: nil, verbose: nil, secure: nil)
            
            <a href="../../classes/Bundler/FileUtils.html#method-c-move" name="method-c-move" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="FileUtils.html#method-i-mv">mv</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-mv">
            
              <b>mv</b>(src, dest, force: nil, noop: nil, verbose: nil, secure: nil)
            
            <a href="../../classes/Bundler/FileUtils.html#method-c-mv" name="method-c-mv" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Moves file(s) <code>src</code> to <code>dest</code>.  If <code>file</code>
and <code>dest</code> exist on the different disk partition, the file is
copied then the original file is removed.</p>

<pre><code>Bundler::FileUtils.mv &#39;badname.rb&#39;, &#39;goodname.rb&#39;
Bundler::FileUtils.mv &#39;stuff.rb&#39;, &#39;/notexist/lib/ruby&#39;, :force =&gt; true  # no error

Bundler::FileUtils.mv %w(junk.txt dust.txt), &#39;/home/foo/.trash/&#39;
Bundler::FileUtils.mv Dir.glob(&#39;test*.rb&#39;), &#39;test&#39;, :noop =&gt; true, :verbose =&gt; true
</code></pre>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="FileUtils.html#method-i-move">move</a>
            </div>
          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-mv_source')" id="l_method-c-mv_source">show</a>
                
              </p>
              <div id="method-c-mv_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/bundler/vendor/fileutils/lib/fileutils.rb, line 455</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">mv</span>(<span class="ruby-identifier">src</span>, <span class="ruby-identifier">dest</span>, <span class="ruby-identifier">force</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">noop</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">verbose</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">secure</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">fu_output_message</span> <span class="ruby-node">&quot;mv#{force ? &#39; -f&#39; : &#39;&#39;} #{[src,dest].flatten.join &#39; &#39;}&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">verbose</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">noop</span>
  <span class="ruby-identifier">fu_each_src_dest</span>(<span class="ruby-identifier">src</span>, <span class="ruby-identifier">dest</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">s</span>, <span class="ruby-identifier">d</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">destent</span> = <span class="ruby-constant">Entry_</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">d</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-keyword">true</span>)
    <span class="ruby-keyword">begin</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">destent</span>.<span class="ruby-identifier">exist?</span>
        <span class="ruby-keyword">if</span> <span class="ruby-identifier">destent</span>.<span class="ruby-identifier">directory?</span>
          <span class="ruby-identifier">raise</span> <span class="ruby-constant">Errno</span><span class="ruby-operator">::</span><span class="ruby-constant">EEXIST</span>, <span class="ruby-identifier">d</span>
        <span class="ruby-keyword">else</span>
          <span class="ruby-identifier">destent</span>.<span class="ruby-identifier">remove_file</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">rename_cannot_overwrite_file?</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">begin</span>
        <span class="ruby-constant">File</span>.<span class="ruby-identifier">rename</span> <span class="ruby-identifier">s</span>, <span class="ruby-identifier">d</span>
      <span class="ruby-keyword">rescue</span> <span class="ruby-constant">Errno</span><span class="ruby-operator">::</span><span class="ruby-constant">EXDEV</span>
        <span class="ruby-identifier">copy_entry</span> <span class="ruby-identifier">s</span>, <span class="ruby-identifier">d</span>, <span class="ruby-keyword">true</span>
        <span class="ruby-keyword">if</span> <span class="ruby-identifier">secure</span>
          <span class="ruby-identifier">remove_entry_secure</span> <span class="ruby-identifier">s</span>, <span class="ruby-identifier">force</span>
        <span class="ruby-keyword">else</span>
          <span class="ruby-identifier">remove_entry</span> <span class="ruby-identifier">s</span>, <span class="ruby-identifier">force</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">rescue</span> <span class="ruby-constant">SystemCallError</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">force</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-pwd">
            
              <b>pwd</b>()
            
            <a href="../../classes/Bundler/FileUtils.html#method-c-pwd" name="method-c-pwd" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns the name of the current directory.</p>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="FileUtils.html#method-i-getwd">getwd</a>
            </div>
          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-pwd_source')" id="l_method-c-pwd_source">show</a>
                
              </p>
              <div id="method-c-pwd_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/bundler/vendor/fileutils/lib/fileutils.rb, line 98</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">pwd</span>
  <span class="ruby-constant">Dir</span>.<span class="ruby-identifier">pwd</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-remove">
            
              <b>remove</b>(list, force: nil, noop: nil, verbose: nil)
            
            <a href="../../classes/Bundler/FileUtils.html#method-c-remove" name="method-c-remove" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="FileUtils.html#method-i-rm">rm</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-remove_dir">
            
              <b>remove_dir</b>(path, force = false)
            
            <a href="../../classes/Bundler/FileUtils.html#method-c-remove_dir" name="method-c-remove_dir" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Removes a directory <code>dir</code> and its contents recursively. This
method ignores <a href="../StandardError.html">StandardError</a> if
<code>force</code> is true.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-remove_dir_source')" id="l_method-c-remove_dir_source">show</a>
                
              </p>
              <div id="method-c-remove_dir_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/bundler/vendor/fileutils/lib/fileutils.rb, line 714</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">remove_dir</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">force</span> = <span class="ruby-keyword">false</span>)
  <span class="ruby-identifier">remove_entry</span> <span class="ruby-identifier">path</span>, <span class="ruby-identifier">force</span>   <span class="ruby-comment"># FIXME?? check if it is a directory</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-remove_entry">
            
              <b>remove_entry</b>(path, force = false)
            
            <a href="../../classes/Bundler/FileUtils.html#method-c-remove_entry" name="method-c-remove_entry" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>This method removes a file system entry <code>path</code>.
<code>path</code> might be a regular file, a directory, or something. If
<code>path</code> is a directory, remove it recursively.</p>

<p>See also remove_entry_secure.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-remove_entry_source')" id="l_method-c-remove_entry_source">show</a>
                
              </p>
              <div id="method-c-remove_entry_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/bundler/vendor/fileutils/lib/fileutils.rb, line 686</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">remove_entry</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">force</span> = <span class="ruby-keyword">false</span>)
  <span class="ruby-constant">Entry_</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>).<span class="ruby-identifier">postorder_traverse</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">ent</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">begin</span>
      <span class="ruby-identifier">ent</span>.<span class="ruby-identifier">remove</span>
    <span class="ruby-keyword">rescue</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">force</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">rescue</span>
  <span class="ruby-identifier">raise</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">force</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-remove_entry_secure">
            
              <b>remove_entry_secure</b>(path, force = false)
            
            <a href="../../classes/Bundler/FileUtils.html#method-c-remove_entry_secure" name="method-c-remove_entry_secure" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>This method removes a file system entry <code>path</code>. 
<code>path</code> shall be a regular file, a directory, or something.  If
<code>path</code> is a directory, remove it recursively.  This method is
required to avoid TOCTTOU (time-of-check-to-time-of-use) local security
vulnerability of rm_r. rm_r causes security hole when:</p>
<ul><li>
<p>Parent directory is world writable (including /tmp).</p>
</li><li>
<p>Removing directory tree includes world writable directory.</p>
</li><li>
<p>The system has symbolic link.</p>
</li></ul>

<p>To avoid this security hole, this method applies special preprocess. If
<code>path</code> is a directory, this method chown(2) and chmod(2) all
removing directories.  This requires the current process is the owner of
the removing whole directory tree, or is the super user (root).</p>

<p>WARNING: You must ensure that <strong>ALL</strong> parent directories
cannot be moved by other untrusted users.  For example, parent directories
should not be owned by untrusted users, and should not be world writable
except when the sticky bit set.</p>

<p>WARNING: Only the owner of the removing directory tree, or Unix super user
(root) should invoke this method.  Otherwise this method does not work.</p>

<p>For details of this security vulnerability, see Perl&#39;s case:</p>
<ul><li>
<p><a
href="http://www.cve.mitre.org/cgi-bin/cvename.cgi?name=CAN-2005-0448">www.cve.mitre.org/cgi-bin/cvename.cgi?name=CAN-2005-0448</a></p>
</li><li>
<p><a
href="http://www.cve.mitre.org/cgi-bin/cvename.cgi?name=CAN-2004-0452">www.cve.mitre.org/cgi-bin/cvename.cgi?name=CAN-2004-0452</a></p>
</li></ul>

<p>For fileutils.rb, this vulnerability is reported in [ruby-dev:26100].</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-remove_entry_secure_source')" id="l_method-c-remove_entry_secure_source">show</a>
                
              </p>
              <div id="method-c-remove_entry_secure_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/bundler/vendor/fileutils/lib/fileutils.rb, line 609</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">remove_entry_secure</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">force</span> = <span class="ruby-keyword">false</span>)
  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">fu_have_symlink?</span>
    <span class="ruby-identifier">remove_entry</span> <span class="ruby-identifier">path</span>, <span class="ruby-identifier">force</span>
    <span class="ruby-keyword">return</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">fullpath</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-identifier">path</span>)
  <span class="ruby-identifier">st</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">lstat</span>(<span class="ruby-identifier">fullpath</span>)
  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">st</span>.<span class="ruby-identifier">directory?</span>
    <span class="ruby-constant">File</span>.<span class="ruby-identifier">unlink</span> <span class="ruby-identifier">fullpath</span>
    <span class="ruby-keyword">return</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-comment"># is a directory.</span>
  <span class="ruby-identifier">parent_st</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">stat</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">dirname</span>(<span class="ruby-identifier">fullpath</span>))
  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">parent_st</span>.<span class="ruby-identifier">world_writable?</span>
    <span class="ruby-identifier">remove_entry</span> <span class="ruby-identifier">path</span>, <span class="ruby-identifier">force</span>
    <span class="ruby-keyword">return</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">parent_st</span>.<span class="ruby-identifier">sticky?</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-node">&quot;parent directory is world writable, Bundler::FileUtils#remove_entry_secure does not work; abort: #{path.inspect} (parent directory mode #{&#39;%o&#39; % parent_st.mode})&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-comment"># freeze tree root</span>
  <span class="ruby-identifier">euid</span> = <span class="ruby-constant">Process</span>.<span class="ruby-identifier">euid</span>
  <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-identifier">fullpath</span> <span class="ruby-operator">+</span> <span class="ruby-string">&#39;/.&#39;</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">unless</span> <span class="ruby-identifier">fu_stat_identical_entry?</span>(<span class="ruby-identifier">st</span>, <span class="ruby-identifier">f</span>.<span class="ruby-identifier">stat</span>)
      <span class="ruby-comment"># symlink (TOC-to-TOU attack?)</span>
      <span class="ruby-constant">File</span>.<span class="ruby-identifier">unlink</span> <span class="ruby-identifier">fullpath</span>
      <span class="ruby-keyword">return</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">f</span>.<span class="ruby-identifier">chown</span> <span class="ruby-identifier">euid</span>, <span class="ruby-number">-1</span>
    <span class="ruby-identifier">f</span>.<span class="ruby-identifier">chmod</span> <span class="ruby-number">0700</span>
    <span class="ruby-keyword">unless</span> <span class="ruby-identifier">fu_stat_identical_entry?</span>(<span class="ruby-identifier">st</span>, <span class="ruby-constant">File</span>.<span class="ruby-identifier">lstat</span>(<span class="ruby-identifier">fullpath</span>))
      <span class="ruby-comment"># TOC-to-TOU attack?</span>
      <span class="ruby-constant">File</span>.<span class="ruby-identifier">unlink</span> <span class="ruby-identifier">fullpath</span>
      <span class="ruby-keyword">return</span>
    <span class="ruby-keyword">end</span>
  }
  <span class="ruby-comment"># ---- tree root is frozen ----</span>
  <span class="ruby-identifier">root</span> = <span class="ruby-constant">Entry_</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>)
  <span class="ruby-identifier">root</span>.<span class="ruby-identifier">preorder_traverse</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">ent</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">ent</span>.<span class="ruby-identifier">directory?</span>
      <span class="ruby-identifier">ent</span>.<span class="ruby-identifier">chown</span> <span class="ruby-identifier">euid</span>, <span class="ruby-number">-1</span>
      <span class="ruby-identifier">ent</span>.<span class="ruby-identifier">chmod</span> <span class="ruby-number">0700</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">root</span>.<span class="ruby-identifier">postorder_traverse</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">ent</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">begin</span>
      <span class="ruby-identifier">ent</span>.<span class="ruby-identifier">remove</span>
    <span class="ruby-keyword">rescue</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">force</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">rescue</span>
  <span class="ruby-identifier">raise</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">force</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-remove_file">
            
              <b>remove_file</b>(path, force = false)
            
            <a href="../../classes/Bundler/FileUtils.html#method-c-remove_file" name="method-c-remove_file" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Removes a file <code>path</code>. This method ignores <a
href="../StandardError.html">StandardError</a> if <code>force</code> is
true.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-remove_file_source')" id="l_method-c-remove_file_source">show</a>
                
              </p>
              <div id="method-c-remove_file_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/bundler/vendor/fileutils/lib/fileutils.rb, line 703</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">remove_file</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">force</span> = <span class="ruby-keyword">false</span>)
  <span class="ruby-constant">Entry_</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>).<span class="ruby-identifier">remove_file</span>
<span class="ruby-keyword">rescue</span>
  <span class="ruby-identifier">raise</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">force</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-rm">
            
              <b>rm</b>(list, force: nil, noop: nil, verbose: nil)
            
            <a href="../../classes/Bundler/FileUtils.html#method-c-rm" name="method-c-rm" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Remove file(s) specified in <code>list</code>.  This method cannot remove
directories. All StandardErrors are ignored when the :force option is set.</p>

<pre><code>Bundler::FileUtils.rm %w( junk.txt dust.txt )
Bundler::FileUtils.rm Dir.glob(&#39;*.so&#39;)
Bundler::FileUtils.rm &#39;NotExistFile&#39;, :force =&gt; true   # never raises exception
</code></pre>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="FileUtils.html#method-i-remove">remove</a>
            </div>
          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-rm_source')" id="l_method-c-rm_source">show</a>
                
              </p>
              <div id="method-c-rm_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/bundler/vendor/fileutils/lib/fileutils.rb, line 501</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">rm</span>(<span class="ruby-identifier">list</span>, <span class="ruby-identifier">force</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">noop</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">verbose</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">list</span> = <span class="ruby-identifier">fu_list</span>(<span class="ruby-identifier">list</span>)
  <span class="ruby-identifier">fu_output_message</span> <span class="ruby-node">&quot;rm#{force ? &#39; -f&#39; : &#39;&#39;} #{list.join &#39; &#39;}&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">verbose</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">noop</span>

  <span class="ruby-identifier">list</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">remove_file</span> <span class="ruby-identifier">path</span>, <span class="ruby-identifier">force</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-rm_f">
            
              <b>rm_f</b>(list, noop: nil, verbose: nil)
            
            <a href="../../classes/Bundler/FileUtils.html#method-c-rm_f" name="method-c-rm_f" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Equivalent to</p>

<pre><code>Bundler::FileUtils.rm(list, :force =&gt; true)
</code></pre>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="FileUtils.html#method-i-safe_unlink">safe_unlink</a>
            </div>
          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-rm_f_source')" id="l_method-c-rm_f_source">show</a>
                
              </p>
              <div id="method-c-rm_f_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/bundler/vendor/fileutils/lib/fileutils.rb, line 520</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">rm_f</span>(<span class="ruby-identifier">list</span>, <span class="ruby-identifier">noop</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">verbose</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">rm</span> <span class="ruby-identifier">list</span>, <span class="ruby-identifier">force</span><span class="ruby-operator">:</span> <span class="ruby-keyword">true</span>, <span class="ruby-identifier">noop</span><span class="ruby-operator">:</span> <span class="ruby-identifier">noop</span>, <span class="ruby-identifier">verbose</span><span class="ruby-operator">:</span> <span class="ruby-identifier">verbose</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-rm_r">
            
              <b>rm_r</b>(list, force: nil, noop: nil, verbose: nil, secure: nil)
            
            <a href="../../classes/Bundler/FileUtils.html#method-c-rm_r" name="method-c-rm_r" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>remove files <code>list[0]</code> <code>list[1]</code>… If
<code>list[n]</code> is a directory, removes its all contents recursively.
This method ignores <a href="../StandardError.html">StandardError</a> when
:force option is set.</p>

<pre><code>Bundler::FileUtils.rm_r Dir.glob(&#39;/tmp/*&#39;)
Bundler::FileUtils.rm_r &#39;some_dir&#39;, :force =&gt; true
</code></pre>

<p>WARNING: This method causes local vulnerability if one of parent
directories or removing directory tree are world writable (including /tmp,
whose permission is 1777), and the current process has strong privilege
such as Unix super user (root), and the system has symbolic link.  For
secure removing, read the documentation of remove_entry_secure carefully,
and set :secure option to true. Default is :secure=&gt;false.</p>

<p>NOTE: This method calls remove_entry_secure if :secure option is set. See
also remove_entry_secure.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-rm_r_source')" id="l_method-c-rm_r_source">show</a>
                
              </p>
              <div id="method-c-rm_r_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/bundler/vendor/fileutils/lib/fileutils.rb, line 547</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">rm_r</span>(<span class="ruby-identifier">list</span>, <span class="ruby-identifier">force</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">noop</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">verbose</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">secure</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">list</span> = <span class="ruby-identifier">fu_list</span>(<span class="ruby-identifier">list</span>)
  <span class="ruby-identifier">fu_output_message</span> <span class="ruby-node">&quot;rm -r#{force ? &#39;f&#39; : &#39;&#39;} #{list.join &#39; &#39;}&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">verbose</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">noop</span>
  <span class="ruby-identifier">list</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">secure</span>
      <span class="ruby-identifier">remove_entry_secure</span> <span class="ruby-identifier">path</span>, <span class="ruby-identifier">force</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">remove_entry</span> <span class="ruby-identifier">path</span>, <span class="ruby-identifier">force</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-rm_rf">
            
              <b>rm_rf</b>(list, noop: nil, verbose: nil, secure: nil)
            
            <a href="../../classes/Bundler/FileUtils.html#method-c-rm_rf" name="method-c-rm_rf" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Equivalent to</p>

<pre><code>Bundler::FileUtils.rm_r(list, :force =&gt; true)
</code></pre>

<p>WARNING: This method causes local vulnerability. Read the documentation of
rm_r first.</p>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="FileUtils.html#method-i-rmtree">rmtree</a>
            </div>
          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-rm_rf_source')" id="l_method-c-rm_rf_source">show</a>
                
              </p>
              <div id="method-c-rm_rf_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/bundler/vendor/fileutils/lib/fileutils.rb, line 569</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">rm_rf</span>(<span class="ruby-identifier">list</span>, <span class="ruby-identifier">noop</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">verbose</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">secure</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">rm_r</span> <span class="ruby-identifier">list</span>, <span class="ruby-identifier">force</span><span class="ruby-operator">:</span> <span class="ruby-keyword">true</span>, <span class="ruby-identifier">noop</span><span class="ruby-operator">:</span> <span class="ruby-identifier">noop</span>, <span class="ruby-identifier">verbose</span><span class="ruby-operator">:</span> <span class="ruby-identifier">verbose</span>, <span class="ruby-identifier">secure</span><span class="ruby-operator">:</span> <span class="ruby-identifier">secure</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-rmdir">
            
              <b>rmdir</b>(list, parents: nil, noop: nil, verbose: nil)
            
            <a href="../../classes/Bundler/FileUtils.html#method-c-rmdir" name="method-c-rmdir" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Removes one or more directories.</p>

<pre><code>Bundler::FileUtils.rmdir &#39;somedir&#39;
Bundler::FileUtils.rmdir %w(somedir anydir otherdir)
# Does not really remove directory; outputs message.
Bundler::FileUtils.rmdir &#39;somedir&#39;, :verbose =&gt; true, :noop =&gt; true
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-rmdir_source')" id="l_method-c-rmdir_source">show</a>
                
              </p>
              <div id="method-c-rmdir_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/bundler/vendor/fileutils/lib/fileutils.rb, line 243</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">rmdir</span>(<span class="ruby-identifier">list</span>, <span class="ruby-identifier">parents</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">noop</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">verbose</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">list</span> = <span class="ruby-identifier">fu_list</span>(<span class="ruby-identifier">list</span>)
  <span class="ruby-identifier">fu_output_message</span> <span class="ruby-node">&quot;rmdir #{parents ? &#39;-p &#39; : &#39;&#39;}#{list.join &#39; &#39;}&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">verbose</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">noop</span>
  <span class="ruby-identifier">list</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">dir</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">begin</span>
      <span class="ruby-constant">Dir</span>.<span class="ruby-identifier">rmdir</span>(<span class="ruby-identifier">dir</span> = <span class="ruby-identifier">remove_trailing_slash</span>(<span class="ruby-identifier">dir</span>))
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">parents</span>
        <span class="ruby-keyword">until</span> (<span class="ruby-identifier">parent</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">dirname</span>(<span class="ruby-identifier">dir</span>)) <span class="ruby-operator">==</span> <span class="ruby-string">&#39;.&#39;</span> <span class="ruby-keyword">or</span> <span class="ruby-identifier">parent</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">dir</span>
          <span class="ruby-identifier">dir</span> = <span class="ruby-identifier">parent</span>
          <span class="ruby-constant">Dir</span>.<span class="ruby-identifier">rmdir</span>(<span class="ruby-identifier">dir</span>)
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">rescue</span> <span class="ruby-constant">Errno</span><span class="ruby-operator">::</span><span class="ruby-constant">ENOTEMPTY</span>, <span class="ruby-constant">Errno</span><span class="ruby-operator">::</span><span class="ruby-constant">EEXIST</span>, <span class="ruby-constant">Errno</span><span class="ruby-operator">::</span><span class="ruby-constant">ENOENT</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-rmtree">
            
              <b>rmtree</b>(list, noop: nil, verbose: nil, secure: nil)
            
            <a href="../../classes/Bundler/FileUtils.html#method-c-rmtree" name="method-c-rmtree" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="FileUtils.html#method-i-rm_rf">rm_rf</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-safe_unlink">
            
              <b>safe_unlink</b>(list, noop: nil, verbose: nil)
            
            <a href="../../classes/Bundler/FileUtils.html#method-c-safe_unlink" name="method-c-safe_unlink" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="FileUtils.html#method-i-rm_f">rm_f</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-symlink">
            
              <b>symlink</b>(src, dest, force: nil, noop: nil, verbose: nil)
            
            <a href="../../classes/Bundler/FileUtils.html#method-c-symlink" name="method-c-symlink" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="FileUtils.html#method-i-ln_s">ln_s</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-touch">
            
              <b>touch</b>(list, noop: nil, verbose: nil, mtime: nil, nocreate: nil)
            
            <a href="../../classes/Bundler/FileUtils.html#method-c-touch" name="method-c-touch" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Updates modification time (mtime) and access time (atime) of file(s) in
<code>list</code>.  Files are created if they don&#39;t exist.</p>

<pre><code>Bundler::FileUtils.touch &#39;timestamp&#39;
Bundler::FileUtils.touch Dir.glob(&#39;*.c&#39;);  system &#39;make&#39;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-touch_source')" id="l_method-c-touch_source">show</a>
                
              </p>
              <div id="method-c-touch_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/bundler/vendor/fileutils/lib/fileutils.rb, line 1042</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">touch</span>(<span class="ruby-identifier">list</span>, <span class="ruby-identifier">noop</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">verbose</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">mtime</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">nocreate</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">list</span> = <span class="ruby-identifier">fu_list</span>(<span class="ruby-identifier">list</span>)
  <span class="ruby-identifier">t</span> = <span class="ruby-identifier">mtime</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">verbose</span>
    <span class="ruby-identifier">fu_output_message</span> <span class="ruby-node">&quot;touch #{nocreate ? &#39;-c &#39; : &#39;&#39;}#{t ? t.strftime(&#39;-t %Y%m%d%H%M.%S &#39;) : &#39;&#39;}#{list.join &#39; &#39;}&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">noop</span>
  <span class="ruby-identifier">list</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">created</span> = <span class="ruby-identifier">nocreate</span>
    <span class="ruby-keyword">begin</span>
      <span class="ruby-constant">File</span>.<span class="ruby-identifier">utime</span>(<span class="ruby-identifier">t</span>, <span class="ruby-identifier">t</span>, <span class="ruby-identifier">path</span>)
    <span class="ruby-keyword">rescue</span> <span class="ruby-constant">Errno</span><span class="ruby-operator">::</span><span class="ruby-constant">ENOENT</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">created</span>
      <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-identifier">path</span>, <span class="ruby-string">&#39;a&#39;</span>) {
        ;
      }
      <span class="ruby-identifier">created</span> = <span class="ruby-keyword">true</span>
      <span class="ruby-keyword">retry</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">t</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-uptodate-3F">
            
              <b>uptodate?</b>(new, old_list)
            
            <a href="../../classes/Bundler/FileUtils.html#method-c-uptodate-3F" name="method-c-uptodate-3F" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns true if <code>new</code> is newer than all <code>old_list</code>.
Non-existent files are older than any file.</p>

<pre><code>Bundler::FileUtils.uptodate?(&#39;hello.o&#39;, %w(hello.c hello.h)) or \
    system &#39;make hello.o&#39;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-uptodate-3F_source')" id="l_method-c-uptodate-3F_source">show</a>
                
              </p>
              <div id="method-c-uptodate-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/bundler/vendor/fileutils/lib/fileutils.rb, line 135</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">uptodate?</span>(<span class="ruby-identifier">new</span>, <span class="ruby-identifier">old_list</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span> <span class="ruby-keyword">unless</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-identifier">new</span>)
  <span class="ruby-identifier">new_time</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">mtime</span>(<span class="ruby-identifier">new</span>)
  <span class="ruby-identifier">old_list</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">old</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">if</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-identifier">old</span>)
      <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">new_time</span> <span class="ruby-operator">&gt;</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">mtime</span>(<span class="ruby-identifier">old</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
                        </div>

    </div>
  </body>
</html>
