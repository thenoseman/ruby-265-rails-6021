<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>OpenSSL::PKey</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="../../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../css/github.css" type="text/css" media="screen" />
<script src="../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>
    <div class="banner">
        
        <h1>
            <span class="type">Module</span>
            OpenSSL::PKey
            
        </h1>
        <ul class="files">
            
            <li><a href="../../files/ext/openssl/lib/openssl/pkey_rb.html">ext/openssl/lib/openssl/pkey.rb</a></li>
            
            <li><a href="../../files/ext/openssl/lib/openssl/ssl_rb.html">ext/openssl/lib/openssl/ssl.rb</a></li>
            
            <li><a href="../../files/ext/openssl/ossl_c.html">ext/openssl/ossl.c</a></li>
            
            <li><a href="../../files/lib/bundler/fetcher_rb.html">lib/bundler/fetcher.rb</a></li>
            
            <li><a href="../../files/lib/drb/ssl_rb.html">lib/drb/ssl.rb</a></li>
            
            <li><a href="../../files/lib/webrick/ssl_rb.html">lib/webrick/ssl.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<p>frozen_string_literal: false</p>

<h2 id="module-OpenSSL::PKey-label-Asymmetric+Public+Key+Algorithms">Asymmetric Public Key Algorithms</h2>

<p>Asymmetric public key algorithms solve the problem of establishing and
sharing secret keys to en-/decrypt messages. The key in such an algorithm
consists of two parts: a public key that may be distributed to others and a
private key that needs to remain secret.</p>

<p>Messages encrypted with a public key can only be decrypted by recipients
that are in possession of the associated private key. Since public key
algorithms are considerably slower than symmetric key algorithms (cf. <a
href="Cipher.html">OpenSSL::Cipher</a>) they are often used to establish a
symmetric key shared between two parties that are in possession of each
other&#39;s public key.</p>

<p>Asymmetric algorithms offer a lot of nice features that are used in a lot
of different areas. A very common application is the creation and
validation of digital signatures. To sign a document, the signatory
generally uses a message digest algorithm (cf. <a
href="Digest.html">OpenSSL::Digest</a>) to compute a digest of the document
that is then encrypted (i.e. signed) using the private key. Anyone in
possession of the public key may then verify the signature by computing the
message digest of the original document on their own, decrypting the
signature using the signatory&#39;s public key and comparing the result to
the message digest they previously computed. The signature is valid if and
only if the decrypted signature is equal to this message digest.</p>

<p>The <a href="PKey/PKey.html">PKey</a> module offers support for three
popular public/private key algorithms:</p>
<ul><li>
<p><a href="PKey/RSA.html">RSA</a> (OpenSSL::PKey::RSA)</p>
</li><li>
<p><a href="PKey/DSA.html">DSA</a> (OpenSSL::PKey::DSA)</p>
</li><li>
<p>Elliptic Curve Cryptography (OpenSSL::PKey::EC)</p>
</li></ul>

<p>Each of these implementations is in fact a sub-class of the abstract <a
href="PKey/PKey.html">PKey</a> class which offers the interface for
supporting digital signatures in the form of <a
href="PKey/PKey.html#method-i-sign">OpenSSL::PKey::PKey#sign</a> and <a
href="PKey/PKey.html#method-i-verify">OpenSSL::PKey::PKey#verify</a>.</p>

<h2 id="module-OpenSSL::PKey-label-Diffie-Hellman+Key+Exchange">Diffie-Hellman Key Exchange</h2>

<p>Finally <a href="PKey/PKey.html">PKey</a> also features <a
href="PKey/DH.html">OpenSSL::PKey::DH</a>, an implementation of the
Diffie-Hellman key exchange protocol based on discrete logarithms in finite
fields, the same basis that <a href="PKey/DSA.html">DSA</a> is built on.
The Diffie-Hellman protocol can be used to exchange (symmetric) keys over
insecure channels without needing any prior joint knowledge between the
participating parties. As the security of <a href="PKey/DH.html">DH</a>
demands relatively long “public keys” (i.e. the part that is overtly
transmitted between participants) <a href="PKey/DH.html">DH</a> tends to be
quite slow. If security or speed is your primary concern, <a
href="PKey/EC.html">OpenSSL::PKey::EC</a> offers another implementation of
the Diffie-Hellman protocol.</p>

    </div>
  


  


  
  


  
    <!-- Namespace -->
    <div class="sectiontitle">Namespace</div>
    <ul>
      
        <li>
          <span class="type">CLASS</span>
          <a href="PKey/DH.html">OpenSSL::PKey::DH</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="PKey/DHError.html">OpenSSL::PKey::DHError</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="PKey/DSA.html">OpenSSL::PKey::DSA</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="PKey/DSAError.html">OpenSSL::PKey::DSAError</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="PKey/EC.html">OpenSSL::PKey::EC</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="PKey/ECError.html">OpenSSL::PKey::ECError</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="PKey/PKey.html">OpenSSL::PKey::PKey</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="PKey/PKeyError.html">OpenSSL::PKey::PKeyError</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="PKey/RSA.html">OpenSSL::PKey::RSA</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="PKey/RSAError.html">OpenSSL::PKey::RSAError</a>
        </li>
      
    </ul>
  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>R</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-read">read</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  



  

    

    

    


    


    <!-- Methods -->
    
      <div class="sectiontitle">Class Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-c-read">
            
              <b>OpenSSL::PKey.read(string [, pwd ]) &rarr; PKey<br />OpenSSL::PKey.read(io [, pwd ]) &rarr; PKey
</b>
            
            <a href="../../classes/OpenSSL/PKey.html#method-c-read" name="method-c-read" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Reads a DER or PEM encoded string from <em>string</em> or <em>io</em> and
returns an instance of the appropriate <a href="PKey/PKey.html">PKey</a>
class.</p>

<h3 id="method-c-read-label-Parameters">Parameters</h3>
<ul><li>
<p>_string+ is a DER- or PEM-encoded string containing an arbitrary private or
public key.</p>
</li><li>
<p><em>io</em> is an instance of <a href="../IO.html">IO</a> containing a DER-
or PEM-encoded arbitrary private or public key.</p>
</li><li>
<p><em>pwd</em> is an optional password in case <em>string</em> or <em>io</em>
is an encrypted PEM resource.</p>
</li></ul>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-read_source')" id="l_method-c-read_source">show</a>
                
              </p>
              <div id="method-c-read_source" class="dyn-source">
                <pre>static VALUE
ossl_pkey_new_from_data(int argc, VALUE *argv, VALUE self)
{
    EVP_PKEY *pkey;
    BIO *bio;
    VALUE data, pass;

    rb_scan_args(argc, argv, &quot;11&quot;, &amp;data, &amp;pass);
    pass = ossl_pem_passwd_value(pass);

    bio = ossl_obj2bio(&amp;data);
    if (!(pkey = d2i_PrivateKey_bio(bio, NULL))) {
        OSSL_BIO_reset(bio);
        if (!(pkey = PEM_read_bio_PrivateKey(bio, NULL, ossl_pem_passwd_cb, (void *)pass))) {
            OSSL_BIO_reset(bio);
            if (!(pkey = d2i_PUBKEY_bio(bio, NULL))) {
                OSSL_BIO_reset(bio);
                pkey = PEM_read_bio_PUBKEY(bio, NULL, ossl_pem_passwd_cb, (void *)pass);
            }
        }
    }

    BIO_free(bio);
    if (!pkey)
        ossl_raise(ePKeyError, &quot;Could not parse PKey&quot;);

    return ossl_pkey_new(pkey);
}</pre>
              </div>
            </div>
            
          </div>
                        </div>

    </div>
  </body>
</html>
