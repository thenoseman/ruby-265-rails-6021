<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>ARGF</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../css/github.css" type="text/css" media="screen" />
<script src="../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>
    <div class="banner">
        
        <h1>
            <span class="type">Class</span>
            ARGF
            
                <span class="parent">&lt;
                    
                    <a href="Object.html">Object</a>
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../files/io_c.html">io.c</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<p><code>ARGF</code> is a stream designed for use in scripts that process
files given as command-line arguments or passed in via STDIN.</p>

<p>The arguments passed to your script are stored in the <code>ARGV</code> <a
href="Array.html">Array</a>, one argument per element. <code>ARGF</code>
assumes that any arguments that aren&#39;t filenames have been removed from
<code>ARGV</code>. For example:</p>

<pre><code>$ ruby argf.rb --verbose file1 file2

ARGV  #=&gt; [&quot;--verbose&quot;, &quot;file1&quot;, &quot;file2&quot;]
option = ARGV.shift #=&gt; &quot;--verbose&quot;
ARGV  #=&gt; [&quot;file1&quot;, &quot;file2&quot;]</code></pre>

<p>You can now use <code>ARGF</code> to work with a concatenation of each of
these named files. For instance, <code>ARGF.read</code> will return the
contents of <em>file1</em> followed by the contents of <em>file2</em>.</p>

<p>After a file in <code>ARGV</code> has been read <code>ARGF</code> removes
it from the <a href="Array.html">Array</a>. Thus, after all files have been
read <code>ARGV</code> will be empty.</p>

<p>You can manipulate <code>ARGV</code> yourself to control what
<code>ARGF</code> operates on. If you remove a file from <code>ARGV</code>,
it is ignored by <code>ARGF</code>; if you add files to <code>ARGV</code>,
they are treated as if they were named on the command line. For example:</p>

<pre><code>ARGV.replace [&quot;file1&quot;]
ARGF.readlines # Returns the contents of file1 as an Array
ARGV           #=&gt; []
ARGV.replace [&quot;file2&quot;, &quot;file3&quot;]
ARGF.read      # Returns the contents of file2 and file3
</code></pre>

<p>If <code>ARGV</code> is empty, <code>ARGF</code> acts as if it contained
STDIN, i.e. the data piped to your script. For example:</p>

<pre><code>$ echo &quot;glark&quot; | ruby -e &#39;p ARGF.read&#39;
&quot;glark\n&quot;</code></pre>

    </div>
  


  


  
  


  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>A</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-argv">argv</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>B</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-binmode">binmode</a>,
              </li>
            
              
              <li>
                <a href="#method-i-binmode-3F">binmode?</a>,
              </li>
            
              
              <li>
                <a href="#method-i-bytes">bytes</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>C</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-chars">chars</a>,
              </li>
            
              
              <li>
                <a href="#method-i-close">close</a>,
              </li>
            
              
              <li>
                <a href="#method-i-closed-3F">closed?</a>,
              </li>
            
              
              <li>
                <a href="#method-i-codepoints">codepoints</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>E</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-each">each</a>,
              </li>
            
              
              <li>
                <a href="#method-i-each_byte">each_byte</a>,
              </li>
            
              
              <li>
                <a href="#method-i-each_char">each_char</a>,
              </li>
            
              
              <li>
                <a href="#method-i-each_codepoint">each_codepoint</a>,
              </li>
            
              
              <li>
                <a href="#method-i-each_line">each_line</a>,
              </li>
            
              
              <li>
                <a href="#method-i-eof">eof</a>,
              </li>
            
              
              <li>
                <a href="#method-i-eof-3F">eof?</a>,
              </li>
            
              
              <li>
                <a href="#method-i-external_encoding">external_encoding</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>F</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-file">file</a>,
              </li>
            
              
              <li>
                <a href="#method-i-filename">filename</a>,
              </li>
            
              
              <li>
                <a href="#method-i-fileno">fileno</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>G</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-getbyte">getbyte</a>,
              </li>
            
              
              <li>
                <a href="#method-i-getc">getc</a>,
              </li>
            
              
              <li>
                <a href="#method-i-gets">gets</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>I</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-inplace_mode">inplace_mode</a>,
              </li>
            
              
              <li>
                <a href="#method-i-inplace_mode-3D">inplace_mode=</a>,
              </li>
            
              
              <li>
                <a href="#method-i-inspect">inspect</a>,
              </li>
            
              
              <li>
                <a href="#method-i-internal_encoding">internal_encoding</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>L</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-lineno">lineno</a>,
              </li>
            
              
              <li>
                <a href="#method-i-lineno-3D">lineno=</a>,
              </li>
            
              
              <li>
                <a href="#method-i-lines">lines</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>P</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-path">path</a>,
              </li>
            
              
              <li>
                <a href="#method-i-pos">pos</a>,
              </li>
            
              
              <li>
                <a href="#method-i-pos-3D">pos=</a>,
              </li>
            
              
              <li>
                <a href="#method-i-print">print</a>,
              </li>
            
              
              <li>
                <a href="#method-i-printf">printf</a>,
              </li>
            
              
              <li>
                <a href="#method-i-putc">putc</a>,
              </li>
            
              
              <li>
                <a href="#method-i-puts">puts</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>R</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-read">read</a>,
              </li>
            
              
              <li>
                <a href="#method-i-read_nonblock">read_nonblock</a>,
              </li>
            
              
              <li>
                <a href="#method-i-readbyte">readbyte</a>,
              </li>
            
              
              <li>
                <a href="#method-i-readchar">readchar</a>,
              </li>
            
              
              <li>
                <a href="#method-i-readline">readline</a>,
              </li>
            
              
              <li>
                <a href="#method-i-readlines">readlines</a>,
              </li>
            
              
              <li>
                <a href="#method-i-readpartial">readpartial</a>,
              </li>
            
              
              <li>
                <a href="#method-i-rewind">rewind</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>S</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-seek">seek</a>,
              </li>
            
              
              <li>
                <a href="#method-i-set_encoding">set_encoding</a>,
              </li>
            
              
              <li>
                <a href="#method-i-skip">skip</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>T</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-tell">tell</a>,
              </li>
            
              
              <li>
                <a href="#method-i-to_a">to_a</a>,
              </li>
            
              
              <li>
                <a href="#method-i-to_i">to_i</a>,
              </li>
            
              
              <li>
                <a href="#method-i-to_io">to_io</a>,
              </li>
            
              
              <li>
                <a href="#method-i-to_s">to_s</a>,
              </li>
            
              
              <li>
                <a href="#method-i-to_write_io">to_write_io</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>W</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-write">write</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  
    <!-- Includes -->
    <div class="sectiontitle">Included Modules</div>
    <ul>
      
        <li>
          
            <a href="Enumerable.html">
              Enumerable
            </a>
          
        </li>
      
    </ul>
  



  

    

    

    


    


    <!-- Methods -->
        
      <div class="sectiontitle">Instance Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-i-argv">
            
              <b>ARGF.argv  &rarr; ARGV
</b>
            
            <a href="../classes/ARGF.html#method-i-argv" name="method-i-argv" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns the <code>ARGV</code> array, which contains the arguments passed to
your script, one per element.</p>

<p>For example:</p>

<pre><code>$ ruby argf.rb -v glark.txt

ARGF.argv   #=&gt; [&quot;-v&quot;, &quot;glark.txt&quot;]</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-argv_source')" id="l_method-i-argv_source">show</a>
                
              </p>
              <div id="method-i-argv_source" class="dyn-source">
                <pre>static VALUE
argf_argv(VALUE argf)
{
    return ARGF.argv;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-binmode">
            
              <b>ARGF.binmode  &rarr; ARGF
</b>
            
            <a href="../classes/ARGF.html#method-i-binmode" name="method-i-binmode" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Puts <code>ARGF</code> into binary mode. Once a stream is in binary mode,
it cannot be reset to non-binary mode. This option has the following
effects:</p>
<ul><li>
<p>Newline conversion is disabled.</p>
</li><li>
<p><a href="Encoding.html">Encoding</a> conversion is disabled.</p>
</li><li>
<p>Content is treated as ASCII-8BIT.</p>
</li></ul>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-binmode_source')" id="l_method-i-binmode_source">show</a>
                
              </p>
              <div id="method-i-binmode_source" class="dyn-source">
                <pre>static VALUE
argf_binmode_m(VALUE argf)
{
    ARGF.binmode = 1;
    next_argv();
    ARGF_FORWARD(0, 0);
    rb_io_ascii8bit_binmode(ARGF.current_file);
    return argf;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-binmode-3F">
            
              <b>ARGF.binmode?  &rarr; true or false
</b>
            
            <a href="../classes/ARGF.html#method-i-binmode-3F" name="method-i-binmode-3F" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns true if <code>ARGF</code> is being read in binary mode; false
otherwise. To enable binary mode use <code>ARGF.binmode</code>.</p>

<p>For example:</p>

<pre><code>ARGF.binmode?  #=&gt; false
ARGF.binmode
ARGF.binmode?  #=&gt; true
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-binmode-3F_source')" id="l_method-i-binmode-3F_source">show</a>
                
              </p>
              <div id="method-i-binmode-3F_source" class="dyn-source">
                <pre>static VALUE
argf_binmode_p(VALUE argf)
{
    return ARGF.binmode ? Qtrue : Qfalse;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-bytes">
            
              <b>bytes</b>()
            
            <a href="../classes/ARGF.html#method-i-bytes" name="method-i-bytes" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>This is a deprecated alias for <code>each_byte</code>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-bytes_source')" id="l_method-i-bytes_source">show</a>
                
              </p>
              <div id="method-i-bytes_source" class="dyn-source">
                <pre>static VALUE
argf_bytes(VALUE argf)
{
    rb_warn(&quot;ARGF#bytes is deprecated; use #each_byte instead&quot;);
    if (!rb_block_given_p())
        return rb_enumeratorize(argf, ID2SYM(rb_intern(&quot;each_byte&quot;)), 0, 0);
    return argf_each_byte(argf);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-chars">
            
              <b>chars</b>()
            
            <a href="../classes/ARGF.html#method-i-chars" name="method-i-chars" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>This is a deprecated alias for <code>each_char</code>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-chars_source')" id="l_method-i-chars_source">show</a>
                
              </p>
              <div id="method-i-chars_source" class="dyn-source">
                <pre>static VALUE
argf_chars(VALUE argf)
{
    rb_warn(&quot;ARGF#chars is deprecated; use #each_char instead&quot;);
    if (!rb_block_given_p())
        return rb_enumeratorize(argf, ID2SYM(rb_intern(&quot;each_char&quot;)), 0, 0);
    return argf_each_char(argf);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-close">
            
              <b>ARGF.close  &rarr; ARGF
</b>
            
            <a href="../classes/ARGF.html#method-i-close" name="method-i-close" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Closes the current file and skips to the next file in ARGV. If there are no
more files to open, just closes the current file. <code>STDIN</code> will
not be closed.</p>

<p>For example:</p>

<pre><code>$ ruby argf.rb foo bar

ARGF.filename  #=&gt; &quot;foo&quot;
ARGF.close
ARGF.filename  #=&gt; &quot;bar&quot;
ARGF.close</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-close_source')" id="l_method-i-close_source">show</a>
                
              </p>
              <div id="method-i-close_source" class="dyn-source">
                <pre>static VALUE
argf_close_m(VALUE argf)
{
    next_argv();
    argf_close(argf);
    if (ARGF.next_p != -1) {
        ARGF.next_p = 1;
    }
    ARGF.lineno = 0;
    return argf;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-closed-3F">
            
              <b>ARGF.closed?  &rarr; true or false
</b>
            
            <a href="../classes/ARGF.html#method-i-closed-3F" name="method-i-closed-3F" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns <em>true</em> if the current file has been closed; <em>false</em>
otherwise. Use <code>ARGF.close</code> to actually close the current file.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-closed-3F_source')" id="l_method-i-closed-3F_source">show</a>
                
              </p>
              <div id="method-i-closed-3F_source" class="dyn-source">
                <pre>static VALUE
argf_closed(VALUE argf)
{
    next_argv();
    ARGF_FORWARD(0, 0);
    return rb_io_closed(ARGF.current_file);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-codepoints">
            
              <b>codepoints</b>()
            
            <a href="../classes/ARGF.html#method-i-codepoints" name="method-i-codepoints" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>This is a deprecated alias for <code>each_codepoint</code>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-codepoints_source')" id="l_method-i-codepoints_source">show</a>
                
              </p>
              <div id="method-i-codepoints_source" class="dyn-source">
                <pre>static VALUE
argf_codepoints(VALUE argf)
{
    rb_warn(&quot;ARGF#codepoints is deprecated; use #each_codepoint instead&quot;);
    if (!rb_block_given_p())
        return rb_enumeratorize(argf, ID2SYM(rb_intern(&quot;each_codepoint&quot;)), 0, 0);
    return argf_each_codepoint(argf);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-each">
            
              <b>ARGF.each(sep=$/)             {|line| block }  &rarr; ARGF<br />ARGF.each(sep=$/, limit)      {|line| block }  &rarr; ARGF<br />ARGF.each(...)                                 &rarr; an_enumerator<br />ARGF.each_line(sep=$/)        {|line| block }  &rarr; ARGF<br />ARGF.each_line(sep=$/, limit) {|line| block }  &rarr; ARGF<br />ARGF.each_line(...)                            &rarr; an_enumerator</b>
            
            <a href="../classes/ARGF.html#method-i-each" name="method-i-each" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns an enumerator which iterates over each line (separated by
<em>sep</em>, which defaults to your platform&#39;s newline character) of
each file in <code>ARGV</code>. If a block is supplied, each line in turn
will be yielded to the block, otherwise an enumerator is returned. The
optional <em>limit</em> argument is an <code>Integer</code> specifying the
maximum length of each line; longer lines will be split according to this
limit.</p>

<p>This method allows you to treat the files supplied on the command line as a
single file consisting of the concatenation of each named file. After the
last line of the first file has been returned, the first line of the second
file is returned. The <code>ARGF.filename</code> and
<code>ARGF.lineno</code> methods can be used to determine the filename of
the current line and line number of the whole input, respectively.</p>

<p>For example, the following code prints out each line of each named file
prefixed with its line number, displaying the filename once per file:</p>

<pre><code>ARGF.each_line do |line|
  puts ARGF.filename if ARGF.file.lineno == 1
  puts &quot;#{ARGF.file.lineno}: #{line}&quot;
end
</code></pre>

<p>While the following code prints only the first file&#39;s name at first,
and the contents with line number counted through all named files.</p>

<pre><code>ARGF.each_line do |line|
  puts ARGF.filename if ARGF.lineno == 1
  puts &quot;#{ARGF.lineno}: #{line}&quot;
end
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-each_source')" id="l_method-i-each_source">show</a>
                
              </p>
              <div id="method-i-each_source" class="dyn-source">
                <pre>static VALUE
argf_each_line(int argc, VALUE *argv, VALUE argf)
{
    RETURN_ENUMERATOR(argf, argc, argv);
    FOREACH_ARGF() {
        argf_block_call_line(rb_intern(&quot;each_line&quot;), argc, argv, argf);
    }
    return argf;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-each_byte">
            
              <b>ARGF.bytes     {|byte| block }  &rarr; ARGF<br />ARGF.bytes                      &rarr; an_enumerator<br />ARGF.each_byte {|byte| block }  &rarr; ARGF<br />ARGF.each_byte                  &rarr; an_enumerator
</b>
            
            <a href="../classes/ARGF.html#method-i-each_byte" name="method-i-each_byte" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Iterates over each byte of each file in <code>ARGV</code>. A byte is
returned as an <code>Integer</code> in the range 0..255.</p>

<p>This method allows you to treat the files supplied on the command line as a
single file consisting of the concatenation of each named file. After the
last byte of the first file has been returned, the first byte of the second
file is returned. The <code>ARGF.filename</code> method can be used to
determine the filename of the current byte.</p>

<p>If no block is given, an enumerator is returned instead.</p>

<p>For example:</p>

<pre><code>ARGF.bytes.to_a  #=&gt; [35, 32, ... 95, 10]
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-each_byte_source')" id="l_method-i-each_byte_source">show</a>
                
              </p>
              <div id="method-i-each_byte_source" class="dyn-source">
                <pre>static VALUE
argf_each_byte(VALUE argf)
{
    RETURN_ENUMERATOR(argf, 0, 0);
    FOREACH_ARGF() {
        argf_block_call(rb_intern(&quot;each_byte&quot;), 0, 0, argf);
    }
    return argf;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-each_char">
            
              <b>ARGF.each_char {|char| block }  &rarr; ARGF<br />ARGF.each_char                  &rarr; an_enumerator
</b>
            
            <a href="../classes/ARGF.html#method-i-each_char" name="method-i-each_char" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Iterates over each character of each file in <code>ARGF</code>.</p>

<p>This method allows you to treat the files supplied on the command line as a
single file consisting of the concatenation of each named file. After the
last character of the first file has been returned, the first character of
the second file is returned. The <code>ARGF.filename</code> method can be
used to determine the name of the file in which the current character
appears.</p>

<p>If no block is given, an enumerator is returned instead.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-each_char_source')" id="l_method-i-each_char_source">show</a>
                
              </p>
              <div id="method-i-each_char_source" class="dyn-source">
                <pre>static VALUE
argf_each_char(VALUE argf)
{
    RETURN_ENUMERATOR(argf, 0, 0);
    FOREACH_ARGF() {
        argf_block_call(rb_intern(&quot;each_char&quot;), 0, 0, argf);
    }
    return argf;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-each_codepoint">
            
              <b>ARGF.each_codepoint {|codepoint| block }  &rarr; ARGF<br />ARGF.each_codepoint                       &rarr; an_enumerator
</b>
            
            <a href="../classes/ARGF.html#method-i-each_codepoint" name="method-i-each_codepoint" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Iterates over each codepoint of each file in <code>ARGF</code>.</p>

<p>This method allows you to treat the files supplied on the command line as a
single file consisting of the concatenation of each named file. After the
last codepoint of the first file has been returned, the first codepoint of
the second file is returned. The <code>ARGF.filename</code> method can be
used to determine the name of the file in which the current codepoint
appears.</p>

<p>If no block is given, an enumerator is returned instead.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-each_codepoint_source')" id="l_method-i-each_codepoint_source">show</a>
                
              </p>
              <div id="method-i-each_codepoint_source" class="dyn-source">
                <pre>static VALUE
argf_each_codepoint(VALUE argf)
{
    RETURN_ENUMERATOR(argf, 0, 0);
    FOREACH_ARGF() {
        argf_block_call(rb_intern(&quot;each_codepoint&quot;), 0, 0, argf);
    }
    return argf;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-each_line">
            
              <b>ARGF.each_line(sep=$/)        {|line| block }  &rarr; ARGF<br />ARGF.each_line(sep=$/, limit) {|line| block }  &rarr; ARGF<br />ARGF.each_line(...)                            &rarr; an_enumerator</b>
            
            <a href="../classes/ARGF.html#method-i-each_line" name="method-i-each_line" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns an enumerator which iterates over each line (separated by
<em>sep</em>, which defaults to your platform&#39;s newline character) of
each file in <code>ARGV</code>. If a block is supplied, each line in turn
will be yielded to the block, otherwise an enumerator is returned. The
optional <em>limit</em> argument is an <code>Integer</code> specifying the
maximum length of each line; longer lines will be split according to this
limit.</p>

<p>This method allows you to treat the files supplied on the command line as a
single file consisting of the concatenation of each named file. After the
last line of the first file has been returned, the first line of the second
file is returned. The <code>ARGF.filename</code> and
<code>ARGF.lineno</code> methods can be used to determine the filename of
the current line and line number of the whole input, respectively.</p>

<p>For example, the following code prints out each line of each named file
prefixed with its line number, displaying the filename once per file:</p>

<pre><code>ARGF.each_line do |line|
  puts ARGF.filename if ARGF.file.lineno == 1
  puts &quot;#{ARGF.file.lineno}: #{line}&quot;
end
</code></pre>

<p>While the following code prints only the first file&#39;s name at first,
and the contents with line number counted through all named files.</p>

<pre><code>ARGF.each_line do |line|
  puts ARGF.filename if ARGF.lineno == 1
  puts &quot;#{ARGF.lineno}: #{line}&quot;
end
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-each_line_source')" id="l_method-i-each_line_source">show</a>
                
              </p>
              <div id="method-i-each_line_source" class="dyn-source">
                <pre>static VALUE
argf_each_line(int argc, VALUE *argv, VALUE argf)
{
    RETURN_ENUMERATOR(argf, argc, argv);
    FOREACH_ARGF() {
        argf_block_call_line(rb_intern(&quot;each_line&quot;), argc, argv, argf);
    }
    return argf;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-eof">
            
              <b>ARGF.eof?  &rarr; true or false<br />ARGF.eof   &rarr; true or false</b>
            
            <a href="../classes/ARGF.html#method-i-eof" name="method-i-eof" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns true if the current file in <code>ARGF</code> is at end of file,
i.e. it has no data to read. The stream must be opened for reading or an
<code>IOError</code> will be raised.</p>

<pre><code>$ echo &quot;eof&quot; | ruby argf.rb

ARGF.eof?                 #=&gt; false
3.times { ARGF.readchar }
ARGF.eof?                 #=&gt; false
ARGF.readchar             #=&gt; &quot;\n&quot;
ARGF.eof?                 #=&gt; true</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-eof_source')" id="l_method-i-eof_source">show</a>
                
              </p>
              <div id="method-i-eof_source" class="dyn-source">
                <pre>static VALUE
argf_eof(VALUE argf)
{
    next_argv();
    if (RTEST(ARGF.current_file)) {
        if (ARGF.init_p == 0) return Qtrue;
        next_argv();
        ARGF_FORWARD(0, 0);
        if (rb_io_eof(ARGF.current_file)) {
            return Qtrue;
        }
    }
    return Qfalse;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-eof-3F">
            
              <b>ARGF.eof?  &rarr; true or false</b>
            
            <a href="../classes/ARGF.html#method-i-eof-3F" name="method-i-eof-3F" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns true if the current file in <code>ARGF</code> is at end of file,
i.e. it has no data to read. The stream must be opened for reading or an
<code>IOError</code> will be raised.</p>

<pre><code>$ echo &quot;eof&quot; | ruby argf.rb

ARGF.eof?                 #=&gt; false
3.times { ARGF.readchar }
ARGF.eof?                 #=&gt; false
ARGF.readchar             #=&gt; &quot;\n&quot;
ARGF.eof?                 #=&gt; true</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-eof-3F_source')" id="l_method-i-eof-3F_source">show</a>
                
              </p>
              <div id="method-i-eof-3F_source" class="dyn-source">
                <pre>static VALUE
argf_eof(VALUE argf)
{
    next_argv();
    if (RTEST(ARGF.current_file)) {
        if (ARGF.init_p == 0) return Qtrue;
        next_argv();
        ARGF_FORWARD(0, 0);
        if (rb_io_eof(ARGF.current_file)) {
            return Qtrue;
        }
    }
    return Qfalse;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-external_encoding">
            
              <b>ARGF.external_encoding   &rarr; encoding
</b>
            
            <a href="../classes/ARGF.html#method-i-external_encoding" name="method-i-external_encoding" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns the external encoding for files read from <code>ARGF</code> as an
<code>Encoding</code> object. The external encoding is the encoding of the
text as stored in a file. Contrast with
<code>ARGF.internal_encoding</code>, which is the encoding used to
represent this text within Ruby.</p>

<p>To set the external encoding use <code>ARGF.set_encoding</code>.</p>

<p>For example:</p>

<pre><code>ARGF.external_encoding  #=&gt;  #&lt;Encoding:UTF-8&gt;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-external_encoding_source')" id="l_method-i-external_encoding_source">show</a>
                
              </p>
              <div id="method-i-external_encoding_source" class="dyn-source">
                <pre>static VALUE
argf_external_encoding(VALUE argf)
{
    if (!RTEST(ARGF.current_file)) {
        return rb_enc_from_encoding(rb_default_external_encoding());
    }
    return rb_io_external_encoding(rb_io_check_io(ARGF.current_file));
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-file">
            
              <b>ARGF.file  &rarr; IO or File object
</b>
            
            <a href="../classes/ARGF.html#method-i-file" name="method-i-file" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns the current file as an <code>IO</code> or <code>File</code> object.
<code>$stdin</code> is returned when the current file is STDIN.</p>

<p>For example:</p>

<pre><code>$ echo &quot;foo&quot; &gt; foo
$ echo &quot;bar&quot; &gt; bar

$ ruby argf.rb foo bar

ARGF.file      #=&gt; #&lt;File:foo&gt;
ARGF.read(5)   #=&gt; &quot;foo\nb&quot;
ARGF.file      #=&gt; #&lt;File:bar&gt;</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-file_source')" id="l_method-i-file_source">show</a>
                
              </p>
              <div id="method-i-file_source" class="dyn-source">
                <pre>static VALUE
argf_file(VALUE argf)
{
    next_argv();
    return ARGF.current_file;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-filename">
            
              <b>ARGF.filename  &rarr; String</b>
            
            <a href="../classes/ARGF.html#method-i-filename" name="method-i-filename" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns the current filename. “-” is returned when the current file is
STDIN.</p>

<p>For example:</p>

<pre><code>$ echo &quot;foo&quot; &gt; foo
$ echo &quot;bar&quot; &gt; bar
$ echo &quot;glark&quot; &gt; glark

$ ruby argf.rb foo bar glark

ARGF.filename  #=&gt; &quot;foo&quot;
ARGF.read(5)   #=&gt; &quot;foo\nb&quot;
ARGF.filename  #=&gt; &quot;bar&quot;
ARGF.skip
ARGF.filename  #=&gt; &quot;glark&quot;</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-filename_source')" id="l_method-i-filename_source">show</a>
                
              </p>
              <div id="method-i-filename_source" class="dyn-source">
                <pre>static VALUE
argf_filename(VALUE argf)
{
    next_argv();
    return ARGF.filename;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-fileno">
            
              <b>ARGF.fileno    &rarr; integer</b>
            
            <a href="../classes/ARGF.html#method-i-fileno" name="method-i-fileno" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns an integer representing the numeric file descriptor for the current
file. Raises an <code>ArgumentError</code> if there isn&#39;t a current
file.</p>

<pre><code>ARGF.fileno    #=&gt; 3
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-fileno_source')" id="l_method-i-fileno_source">show</a>
                
              </p>
              <div id="method-i-fileno_source" class="dyn-source">
                <pre>static VALUE
argf_fileno(VALUE argf)
{
    if (!next_argv()) {
        rb_raise(rb_eArgError, &quot;no stream&quot;);
    }
    ARGF_FORWARD(0, 0);
    return rb_io_fileno(ARGF.current_file);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-getbyte">
            
              <b>ARGF.getbyte  &rarr; Integer or nil
</b>
            
            <a href="../classes/ARGF.html#method-i-getbyte" name="method-i-getbyte" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Gets the next 8-bit byte (0..255) from <code>ARGF</code>. Returns
<code>nil</code> if called at the end of the stream.</p>

<p>For example:</p>

<pre><code>$ echo &quot;foo&quot; &gt; file
$ ruby argf.rb file

ARGF.getbyte #=&gt; 102
ARGF.getbyte #=&gt; 111
ARGF.getbyte #=&gt; 111
ARGF.getbyte #=&gt; 10
ARGF.getbyte #=&gt; nil</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-getbyte_source')" id="l_method-i-getbyte_source">show</a>
                
              </p>
              <div id="method-i-getbyte_source" class="dyn-source">
                <pre>static VALUE
argf_getbyte(VALUE argf)
{
    VALUE ch;

  retry:
    if (!next_argv()) return Qnil;
    if (!RB_TYPE_P(ARGF.current_file, T_FILE)) {
        ch = rb_funcall3(ARGF.current_file, rb_intern(&quot;getbyte&quot;), 0, 0);
    }
    else {
        ch = rb_io_getbyte(ARGF.current_file);
    }
    if (NIL_P(ch) &amp;&amp; ARGF.next_p != -1) {
        argf_close(argf);
        ARGF.next_p = 1;
        goto retry;
    }

    return ch;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-getc">
            
              <b>ARGF.getc  &rarr; String or nil
</b>
            
            <a href="../classes/ARGF.html#method-i-getc" name="method-i-getc" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Reads the next character from <code>ARGF</code> and returns it as a
<code>String</code>. Returns <code>nil</code> at the end of the stream.</p>

<p><code>ARGF</code> treats the files named on the command line as a single
file created by concatenating their contents. After returning the last
character of the first file, it returns the first character of the second
file, and so on.</p>

<p>For example:</p>

<pre><code>$ echo &quot;foo&quot; &gt; file
$ ruby argf.rb file

ARGF.getc  #=&gt; &quot;f&quot;
ARGF.getc  #=&gt; &quot;o&quot;
ARGF.getc  #=&gt; &quot;o&quot;
ARGF.getc  #=&gt; &quot;\n&quot;
ARGF.getc  #=&gt; nil
ARGF.getc  #=&gt; nil</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-getc_source')" id="l_method-i-getc_source">show</a>
                
              </p>
              <div id="method-i-getc_source" class="dyn-source">
                <pre>static VALUE
argf_getc(VALUE argf)
{
    VALUE ch;

  retry:
    if (!next_argv()) return Qnil;
    if (ARGF_GENERIC_INPUT_P()) {
        ch = rb_funcall3(ARGF.current_file, rb_intern(&quot;getc&quot;), 0, 0);
    }
    else {
        ch = rb_io_getc(ARGF.current_file);
    }
    if (NIL_P(ch) &amp;&amp; ARGF.next_p != -1) {
        argf_close(argf);
        ARGF.next_p = 1;
        goto retry;
    }

    return ch;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-gets">
            
              <b>ARGF.gets(sep=$/ [, getline_args])     &rarr; string or nil<br />ARGF.gets(limit [, getline_args])      &rarr; string or nil<br />ARGF.gets(sep, limit [, getline_args]) &rarr; string or nil
</b>
            
            <a href="../classes/ARGF.html#method-i-gets" name="method-i-gets" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns the next line from the current file in <code>ARGF</code>.</p>

<p>By default lines are assumed to be separated by <code>$/</code>; to use a
different character as a separator, supply it as a <code>String</code> for
the <em>sep</em> argument.</p>

<p>The optional <em>limit</em> argument specifies how many characters of each
line to return. By default all characters are returned.</p>

<p>See <a href="IO.html#method-c-readlines">IO.readlines</a> for details about
getline_args.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-gets_source')" id="l_method-i-gets_source">show</a>
                
              </p>
              <div id="method-i-gets_source" class="dyn-source">
                <pre>static VALUE
argf_gets(int argc, VALUE *argv, VALUE argf)
{
    VALUE line;

    line = argf_getline(argc, argv, argf);
    rb_lastline_set(line);

    return line;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-inplace_mode">
            
              <b>ARGF.inplace_mode  &rarr; String
</b>
            
            <a href="../classes/ARGF.html#method-i-inplace_mode" name="method-i-inplace_mode" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns the file extension appended to the names of modified files under
in-place edit mode. This value can be set using
<code>ARGF.inplace_mode=</code> or passing the <code>-i</code> switch to
the Ruby binary.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-inplace_mode_source')" id="l_method-i-inplace_mode_source">show</a>
                
              </p>
              <div id="method-i-inplace_mode_source" class="dyn-source">
                <pre>static VALUE
argf_inplace_mode_get(VALUE argf)
{
    if (!ARGF.inplace) return Qnil;
    if (NIL_P(ARGF.inplace)) return rb_str_new(0, 0);
    return rb_str_dup(ARGF.inplace);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-inplace_mode-3D">
            
              <b>ARGF.inplace_mode = ext  &rarr; ARGF
</b>
            
            <a href="../classes/ARGF.html#method-i-inplace_mode-3D" name="method-i-inplace_mode-3D" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Sets the filename extension for in-place editing mode to the given <a
href="String.html">String</a>. Each file being edited has this value
appended to its filename. The modified file is saved under this new name.</p>

<p>For example:</p>

<pre><code>$ ruby argf.rb file.txt

ARGF.inplace_mode = &#39;.bak&#39;
ARGF.each_line do |line|
  print line.sub(&quot;foo&quot;,&quot;bar&quot;)
end</code></pre>

<p>Each line of <em>file.txt</em> has the first occurrence of “foo” replaced
with “bar”, then the new line is written out to <em>file.txt.bak</em>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-inplace_mode-3D_source')" id="l_method-i-inplace_mode-3D_source">show</a>
                
              </p>
              <div id="method-i-inplace_mode-3D_source" class="dyn-source">
                <pre>static VALUE
argf_inplace_mode_set(VALUE argf, VALUE val)
{
    if (rb_safe_level() &gt;= 1 &amp;&amp; OBJ_TAINTED(val))
        rb_insecure_operation();

    if (!RTEST(val)) {
        ARGF.inplace = Qfalse;
    }
    else if (StringValueCStr(val), !RSTRING_LEN(val)) {
        ARGF.inplace = Qnil;
    }
    else {
        ARGF.inplace = rb_str_new_frozen(val);
    }
    return argf;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-inspect">
            
              <b>inspect</b>()
            
            <a href="../classes/ARGF.html#method-i-inspect" name="method-i-inspect" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="ARGF.html#method-i-to_s">to_s</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-internal_encoding">
            
              <b>ARGF.internal_encoding   &rarr; encoding
</b>
            
            <a href="../classes/ARGF.html#method-i-internal_encoding" name="method-i-internal_encoding" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns the internal encoding for strings read from <code>ARGF</code> as an
<code>Encoding</code> object.</p>

<p>If <code>ARGF.set_encoding</code> has been called with two encoding names,
the second is returned. Otherwise, if
<code>Encoding.default_external</code> has been set, that value is
returned. Failing that, if a default external encoding was specified on the
command-line, that value is used. If the encoding is unknown,
<code>nil</code> is returned.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-internal_encoding_source')" id="l_method-i-internal_encoding_source">show</a>
                
              </p>
              <div id="method-i-internal_encoding_source" class="dyn-source">
                <pre>static VALUE
argf_internal_encoding(VALUE argf)
{
    if (!RTEST(ARGF.current_file)) {
        return rb_enc_from_encoding(rb_default_external_encoding());
    }
    return rb_io_internal_encoding(rb_io_check_io(ARGF.current_file));
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-lineno">
            
              <b>ARGF.lineno  &rarr; integer
</b>
            
            <a href="../classes/ARGF.html#method-i-lineno" name="method-i-lineno" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns the current line number of <a href="ARGF.html">ARGF</a> as a whole.
This value can be set manually with <code>ARGF.lineno=</code>.</p>

<p>For example:</p>

<pre><code>ARGF.lineno   #=&gt; 0
ARGF.readline #=&gt; &quot;This is line 1\n&quot;
ARGF.lineno   #=&gt; 1
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-lineno_source')" id="l_method-i-lineno_source">show</a>
                
              </p>
              <div id="method-i-lineno_source" class="dyn-source">
                <pre>static VALUE
argf_lineno(VALUE argf)
{
    return INT2FIX(ARGF.lineno);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-lineno-3D">
            
              <b>ARGF.lineno = integer  &rarr; integer
</b>
            
            <a href="../classes/ARGF.html#method-i-lineno-3D" name="method-i-lineno-3D" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Sets the line number of <code>ARGF</code> as a whole to the given
<code>Integer</code>.</p>

<p><code>ARGF</code> sets the line number automatically as you read data, so
normally you will not need to set it explicitly. To access the current line
number use <code>ARGF.lineno</code>.</p>

<p>For example:</p>

<pre><code>ARGF.lineno      #=&gt; 0
ARGF.readline    #=&gt; &quot;This is line 1\n&quot;
ARGF.lineno      #=&gt; 1
ARGF.lineno = 0  #=&gt; 0
ARGF.lineno      #=&gt; 0
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-lineno-3D_source')" id="l_method-i-lineno-3D_source">show</a>
                
              </p>
              <div id="method-i-lineno-3D_source" class="dyn-source">
                <pre>static VALUE
argf_set_lineno(VALUE argf, VALUE val)
{
    ARGF.lineno = NUM2INT(val);
    ARGF.last_lineno = ARGF.lineno;
    return Qnil;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-lines">
            
              <b>lines</b>(*args)
            
            <a href="../classes/ARGF.html#method-i-lines" name="method-i-lines" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>This is a deprecated alias for <code>each_line</code>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-lines_source')" id="l_method-i-lines_source">show</a>
                
              </p>
              <div id="method-i-lines_source" class="dyn-source">
                <pre>static VALUE
argf_lines(int argc, VALUE *argv, VALUE argf)
{
    rb_warn(&quot;ARGF#lines is deprecated; use #each_line instead&quot;);
    if (!rb_block_given_p())
        return rb_enumeratorize(argf, ID2SYM(rb_intern(&quot;each_line&quot;)), argc, argv);
    return argf_each_line(argc, argv, argf);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-path">
            
              <b>ARGF.path      &rarr; String</b>
            
            <a href="../classes/ARGF.html#method-i-path" name="method-i-path" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns the current filename. “-” is returned when the current file is
STDIN.</p>

<p>For example:</p>

<pre><code>$ echo &quot;foo&quot; &gt; foo
$ echo &quot;bar&quot; &gt; bar
$ echo &quot;glark&quot; &gt; glark

$ ruby argf.rb foo bar glark

ARGF.filename  #=&gt; &quot;foo&quot;
ARGF.read(5)   #=&gt; &quot;foo\nb&quot;
ARGF.filename  #=&gt; &quot;bar&quot;
ARGF.skip
ARGF.filename  #=&gt; &quot;glark&quot;</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-path_source')" id="l_method-i-path_source">show</a>
                
              </p>
              <div id="method-i-path_source" class="dyn-source">
                <pre>static VALUE
argf_filename(VALUE argf)
{
    next_argv();
    return ARGF.filename;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-pos">
            
              <b>ARGF.pos   &rarr; Integer</b>
            
            <a href="../classes/ARGF.html#method-i-pos" name="method-i-pos" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns the current offset (in bytes) of the current file in
<code>ARGF</code>.</p>

<pre><code>ARGF.pos    #=&gt; 0
ARGF.gets   #=&gt; &quot;This is line one\n&quot;
ARGF.pos    #=&gt; 17
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-pos_source')" id="l_method-i-pos_source">show</a>
                
              </p>
              <div id="method-i-pos_source" class="dyn-source">
                <pre>static VALUE
argf_tell(VALUE argf)
{
    if (!next_argv()) {
        rb_raise(rb_eArgError, &quot;no stream to tell&quot;);
    }
    ARGF_FORWARD(0, 0);
    return rb_io_tell(ARGF.current_file);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-pos-3D">
            
              <b>ARGF.pos = position  &rarr; Integer
</b>
            
            <a href="../classes/ARGF.html#method-i-pos-3D" name="method-i-pos-3D" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Seeks to the position given by <em>position</em> (in bytes) in
<code>ARGF</code>.</p>

<p>For example:</p>

<pre><code>ARGF.pos = 17
ARGF.gets   #=&gt; &quot;This is line two\n&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-pos-3D_source')" id="l_method-i-pos-3D_source">show</a>
                
              </p>
              <div id="method-i-pos-3D_source" class="dyn-source">
                <pre>static VALUE
argf_set_pos(VALUE argf, VALUE offset)
{
    if (!next_argv()) {
        rb_raise(rb_eArgError, &quot;no stream to set position&quot;);
    }
    ARGF_FORWARD(1, &amp;offset);
    return rb_io_set_pos(ARGF.current_file, offset);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-print">
            
              <b>ios.print               &rarr; nil<br />ios.print(obj, ...)     &rarr; nil
</b>
            
            <a href="../classes/ARGF.html#method-i-print" name="method-i-print" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Writes the given object(s) to <em>ios</em>. Returns <code>nil</code>.</p>

<p>The stream must be opened for writing. Each given object that isn&#39;t a
string will be converted by calling its <code>to_s</code> method. When
called without arguments, prints the contents of <code>$_</code>.</p>

<p>If the output field separator (<code>$,</code>) is not <code>nil</code>, it
is inserted between objects. If the output record separator
(<code>$\</code>) is not <code>nil</code>, it is appended to the output.</p>

<pre><code>$stdout.print(&quot;This is &quot;, 100, &quot; percent.\n&quot;)
</code></pre>

<p><em>produces:</em></p>

<pre><code>This is 100 percent.</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-print_source')" id="l_method-i-print_source">show</a>
                
              </p>
              <div id="method-i-print_source" class="dyn-source">
                <pre>VALUE
rb_io_print(int argc, const VALUE *argv, VALUE out)
{
    int i;
    VALUE line;

    /* if no argument given, print `$_&#39; */
    if (argc == 0) {
        argc = 1;
        line = rb_lastline_get();
        argv = &amp;line;
    }
    for (i=0; i&lt;argc; i++) {
        if (!NIL_P(rb_output_fs) &amp;&amp; i&gt;0) {
            rb_io_write(out, rb_output_fs);
        }
        rb_io_write(out, argv[i]);
    }
    if (argc &gt; 0 &amp;&amp; !NIL_P(rb_output_rs)) {
        rb_io_write(out, rb_output_rs);
    }

    return Qnil;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-printf">
            
              <b>ios.printf(format_string [, obj, ...])   &rarr; nil
</b>
            
            <a href="../classes/ARGF.html#method-i-printf" name="method-i-printf" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Formats and writes to <em>ios</em>, converting parameters under control of
the format string. See <code>Kernel#sprintf</code> for details.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-printf_source')" id="l_method-i-printf_source">show</a>
                
              </p>
              <div id="method-i-printf_source" class="dyn-source">
                <pre>VALUE
rb_io_printf(int argc, const VALUE *argv, VALUE out)
{
    rb_io_write(out, rb_f_sprintf(argc, argv));
    return Qnil;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-putc">
            
              <b>ios.putc(obj)    &rarr; obj
</b>
            
            <a href="../classes/ARGF.html#method-i-putc" name="method-i-putc" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>If <em>obj</em> is <code>Numeric</code>, write the character whose code is
the least-significant byte of <em>obj</em>. If <em>obj</em> is
<code>String</code>, write the first character of <em>obj</em> to
<em>ios</em>. Otherwise, raise <code>TypeError</code>.</p>

<pre><code>$stdout.putc &quot;A&quot;
$stdout.putc 65
</code></pre>

<p><em>produces:</em></p>

<pre><code>AA
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-putc_source')" id="l_method-i-putc_source">show</a>
                
              </p>
              <div id="method-i-putc_source" class="dyn-source">
                <pre>static VALUE
rb_io_putc(VALUE io, VALUE ch)
{
    VALUE str;
    if (RB_TYPE_P(ch, T_STRING)) {
        str = rb_str_substr(ch, 0, 1);
    }
    else {
        char c = NUM2CHR(ch);
        str = rb_str_new(&amp;c, 1);
    }
    rb_io_write(io, str);
    return ch;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-puts">
            
              <b>ios.puts(obj, ...)    &rarr; nil
</b>
            
            <a href="../classes/ARGF.html#method-i-puts" name="method-i-puts" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Writes the given object(s) to <em>ios</em>. Writes a newline after any that
do not already end with a newline sequence. Returns <code>nil</code>.</p>

<p>The stream must be opened for writing. If called with an array argument,
writes each element on a new line. Each given object that isn&#39;t a
string or array will be converted by calling its <code>to_s</code> method.
If called without arguments, outputs a single newline.</p>

<pre><code>$stdout.puts(&quot;this&quot;, &quot;is&quot;, [&quot;a&quot;, &quot;test&quot;])
</code></pre>

<p><em>produces:</em></p>

<pre><code>this
is
a
test
</code></pre>

<p>Note that <code>puts</code> always uses newlines and is not affected by the
output record separator (<code>$\</code>).</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-puts_source')" id="l_method-i-puts_source">show</a>
                
              </p>
              <div id="method-i-puts_source" class="dyn-source">
                <pre>VALUE
rb_io_puts(int argc, const VALUE *argv, VALUE out)
{
    int i, n;
    VALUE line, args[2];

    /* if no argument given, print newline. */
    if (argc == 0) {
        rb_io_write(out, rb_default_rs);
        return Qnil;
    }
    for (i=0; i&lt;argc; i++) {
        if (RB_TYPE_P(argv[i], T_STRING)) {
            line = argv[i];
            goto string;
        }
        if (rb_exec_recursive(io_puts_ary, argv[i], out)) {
            continue;
        }
        line = rb_obj_as_string(argv[i]);
      string:
        n = 0;
        args[n++] = line;
        if (RSTRING_LEN(line) == 0 ||
            !rb_str_end_with_asciichar(line, &#39;\n&#39;)) {
            args[n++] = rb_default_rs;
        }
        rb_io_writev(out, n, args);
    }

    return Qnil;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-read">
            
              <b>ARGF.read([length [, outbuf]])    &rarr; string, outbuf, or nil
</b>
            
            <a href="../classes/ARGF.html#method-i-read" name="method-i-read" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Reads <em>length</em> bytes from <a href="ARGF.html">ARGF</a>. The files
named on the command line are concatenated and treated as a single file by
this method, so when called without arguments the contents of this pseudo
file are returned in their entirety.</p>

<p><em>length</em> must be a non-negative integer or <code>nil</code>.</p>

<p>If <em>length</em> is a positive integer, <code>read</code> tries to read
<em>length</em> bytes without any conversion (binary mode). It returns
<code>nil</code> if an EOF is encountered before anything can be read.
Fewer than <em>length</em> bytes are returned if an EOF is encountered
during the read. In the case of an integer <em>length</em>, the resulting
string is always in ASCII-8BIT encoding.</p>

<p>If <em>length</em> is omitted or is <code>nil</code>, it reads until EOF
and the encoding conversion is applied, if applicable. A string is returned
even if EOF is encountered before any data is read.</p>

<p>If <em>length</em> is zero, it returns an empty string
(<code>&quot;&quot;</code>).</p>

<p>If the optional <em>outbuf</em> argument is present, it must reference a <a
href="String.html">String</a>, which will receive the data. The
<em>outbuf</em> will contain only the received data after the method call
even if it is not empty at the beginning.</p>

<p>For example:</p>

<pre><code>$ echo &quot;small&quot; &gt; small.txt
$ echo &quot;large&quot; &gt; large.txt
$ ./glark.rb small.txt large.txt

ARGF.read      #=&gt; &quot;small\nlarge&quot;
ARGF.read(200) #=&gt; &quot;small\nlarge&quot;
ARGF.read(2)   #=&gt; &quot;sm&quot;
ARGF.read(0)   #=&gt; &quot;&quot;</code></pre>

<p>Note that this method behaves like the fread() function in C. This means it
retries to invoke read(2) system calls to read data with the specified
length. If you need the behavior like a single read(2) system call,
consider <a href="ARGF.html#method-i-readpartial">#readpartial</a> or <a
href="ARGF.html#method-i-read_nonblock">#read_nonblock</a>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-read_source')" id="l_method-i-read_source">show</a>
                
              </p>
              <div id="method-i-read_source" class="dyn-source">
                <pre>static VALUE
argf_read(int argc, VALUE *argv, VALUE argf)
{
    VALUE tmp, str, length;
    long len = 0;

    rb_scan_args(argc, argv, &quot;02&quot;, &amp;length, &amp;str);
    if (!NIL_P(length)) {
        len = NUM2LONG(argv[0]);
    }
    if (!NIL_P(str)) {
        StringValue(str);
        rb_str_resize(str,0);
        argv[1] = Qnil;
    }

  retry:
    if (!next_argv()) {
        return str;
    }
    if (ARGF_GENERIC_INPUT_P()) {
        tmp = argf_forward(argc, argv, argf);
    }
    else {
        tmp = io_read(argc, argv, ARGF.current_file);
    }
    if (NIL_P(str)) str = tmp;
    else if (!NIL_P(tmp)) rb_str_append(str, tmp);
    if (NIL_P(tmp) || NIL_P(length)) {
        if (ARGF.next_p != -1) {
            argf_close(argf);
            ARGF.next_p = 1;
            goto retry;
        }
    }
    else if (argc &gt;= 1) {
        long slen = RSTRING_LEN(str);
        if (slen &lt; len) {
            len -= slen;
            argv[0] = INT2NUM(len);
            goto retry;
        }
    }
    return str;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-read_nonblock">
            
              <b>ARGF.read_nonblock(maxlen[, options])              &rarr; string<br />ARGF.read_nonblock(maxlen, outbuf[, options])      &rarr; outbuf
</b>
            
            <a href="../classes/ARGF.html#method-i-read_nonblock" name="method-i-read_nonblock" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Reads at most <em>maxlen</em> bytes from the <a href="ARGF.html">ARGF</a>
stream in non-blocking mode.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-read_nonblock_source')" id="l_method-i-read_nonblock_source">show</a>
                
              </p>
              <div id="method-i-read_nonblock_source" class="dyn-source">
                <pre>static VALUE
argf_read_nonblock(int argc, VALUE *argv, VALUE argf)
{
    VALUE opts;

    rb_scan_args(argc, argv, &quot;11:&quot;, NULL, NULL, &amp;opts);

    if (!NIL_P(opts))
        argc--;

    return argf_getpartial(argc, argv, argf, opts, 1);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-readbyte">
            
              <b>ARGF.readbyte  &rarr; Integer
</b>
            
            <a href="../classes/ARGF.html#method-i-readbyte" name="method-i-readbyte" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Reads the next 8-bit byte from <a href="ARGF.html">ARGF</a> and returns it
as an <code>Integer</code>. Raises an <code>EOFError</code> after the last
byte of the last file has been read.</p>

<p>For example:</p>

<pre><code>$ echo &quot;foo&quot; &gt; file
$ ruby argf.rb file

ARGF.readbyte  #=&gt; 102
ARGF.readbyte  #=&gt; 111
ARGF.readbyte  #=&gt; 111
ARGF.readbyte  #=&gt; 10
ARGF.readbyte  #=&gt; end of file reached (EOFError)</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-readbyte_source')" id="l_method-i-readbyte_source">show</a>
                
              </p>
              <div id="method-i-readbyte_source" class="dyn-source">
                <pre>static VALUE
argf_readbyte(VALUE argf)
{
    VALUE c;

    NEXT_ARGF_FORWARD(0, 0);
    c = argf_getbyte(argf);
    if (NIL_P(c)) {
        rb_eof_error();
    }
    return c;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-readchar">
            
              <b>ARGF.readchar  &rarr; String or nil
</b>
            
            <a href="../classes/ARGF.html#method-i-readchar" name="method-i-readchar" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Reads the next character from <code>ARGF</code> and returns it as a
<code>String</code>. Raises an <code>EOFError</code> after the last
character of the last file has been read.</p>

<p>For example:</p>

<pre><code>$ echo &quot;foo&quot; &gt; file
$ ruby argf.rb file

ARGF.readchar  #=&gt; &quot;f&quot;
ARGF.readchar  #=&gt; &quot;o&quot;
ARGF.readchar  #=&gt; &quot;o&quot;
ARGF.readchar  #=&gt; &quot;\n&quot;
ARGF.readchar  #=&gt; end of file reached (EOFError)</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-readchar_source')" id="l_method-i-readchar_source">show</a>
                
              </p>
              <div id="method-i-readchar_source" class="dyn-source">
                <pre>static VALUE
argf_readchar(VALUE argf)
{
    VALUE ch;

  retry:
    if (!next_argv()) rb_eof_error();
    if (!RB_TYPE_P(ARGF.current_file, T_FILE)) {
        ch = rb_funcall3(ARGF.current_file, rb_intern(&quot;getc&quot;), 0, 0);
    }
    else {
        ch = rb_io_getc(ARGF.current_file);
    }
    if (NIL_P(ch) &amp;&amp; ARGF.next_p != -1) {
        argf_close(argf);
        ARGF.next_p = 1;
        goto retry;
    }

    return ch;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-readline">
            
              <b>ARGF.readline(sep=$/)     &rarr; string<br />ARGF.readline(limit)      &rarr; string<br />ARGF.readline(sep, limit) &rarr; string
</b>
            
            <a href="../classes/ARGF.html#method-i-readline" name="method-i-readline" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns the next line from the current file in <code>ARGF</code>.</p>

<p>By default lines are assumed to be separated by <code>$/</code>; to use a
different character as a separator, supply it as a <code>String</code> for
the <em>sep</em> argument.</p>

<p>The optional <em>limit</em> argument specifies how many characters of each
line to return. By default all characters are returned.</p>

<p>An <code>EOFError</code> is raised at the end of the file.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-readline_source')" id="l_method-i-readline_source">show</a>
                
              </p>
              <div id="method-i-readline_source" class="dyn-source">
                <pre>static VALUE
argf_readline(int argc, VALUE *argv, VALUE argf)
{
    VALUE line;

    if (!next_argv()) rb_eof_error();
    ARGF_FORWARD(argc, argv);
    line = argf_gets(argc, argv, argf);
    if (NIL_P(line)) {
        rb_eof_error();
    }

    return line;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-readlines">
            
              <b>ARGF.readlines(sep=$/)     &rarr; array<br />ARGF.readlines(limit)      &rarr; array<br />ARGF.readlines(sep, limit) &rarr; array</b>
            
            <a href="../classes/ARGF.html#method-i-readlines" name="method-i-readlines" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Reads <code>ARGF</code>&#39;s current file in its entirety, returning an
<code>Array</code> of its lines, one line per element. Lines are assumed to
be separated by <em>sep</em>.</p>

<pre><code>lines = ARGF.readlines
lines[0]                #=&gt; &quot;This is line one\n&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-readlines_source')" id="l_method-i-readlines_source">show</a>
                
              </p>
              <div id="method-i-readlines_source" class="dyn-source">
                <pre>static VALUE
argf_readlines(int argc, VALUE *argv, VALUE argf)
{
    long lineno = ARGF.lineno;
    VALUE lines, ary;

    ary = rb_ary_new();
    while (next_argv()) {
        if (ARGF_GENERIC_INPUT_P()) {
            lines = rb_funcall3(ARGF.current_file, rb_intern(&quot;readlines&quot;), argc, argv);
        }
        else {
            lines = rb_io_readlines(argc, argv, ARGF.current_file);
            argf_close(argf);
        }
        ARGF.next_p = 1;
        rb_ary_concat(ary, lines);
        ARGF.lineno = lineno + RARRAY_LEN(ary);
        ARGF.last_lineno = ARGF.lineno;
    }
    ARGF.init_p = 0;
    return ary;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-readpartial">
            
              <b>ARGF.readpartial(maxlen)              &rarr; string<br />ARGF.readpartial(maxlen, outbuf)      &rarr; outbuf
</b>
            
            <a href="../classes/ARGF.html#method-i-readpartial" name="method-i-readpartial" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Reads at most <em>maxlen</em> bytes from the <a href="ARGF.html">ARGF</a>
stream.</p>

<p>If the optional <em>outbuf</em> argument is present, it must reference a <a
href="String.html">String</a>, which will receive the data. The
<em>outbuf</em> will contain only the received data after the method call
even if it is not empty at the beginning.</p>

<p>It raises <code>EOFError</code> on end of <a href="ARGF.html">ARGF</a>
stream. Since <a href="ARGF.html">ARGF</a> stream is a concatenation of
multiple files, internally EOF is occur for each file. <a
href="ARGF.html#method-i-readpartial">#readpartial</a> returns empty
strings for EOFs except the last one and raises <code>EOFError</code> for
the last one.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-readpartial_source')" id="l_method-i-readpartial_source">show</a>
                
              </p>
              <div id="method-i-readpartial_source" class="dyn-source">
                <pre>static VALUE
argf_readpartial(int argc, VALUE *argv, VALUE argf)
{
    return argf_getpartial(argc, argv, argf, Qnil, 0);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-rewind">
            
              <b>ARGF.rewind   &rarr; 0
</b>
            
            <a href="../classes/ARGF.html#method-i-rewind" name="method-i-rewind" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Positions the current file to the beginning of input, resetting
<code>ARGF.lineno</code> to zero.</p>

<pre><code>ARGF.readline   #=&gt; &quot;This is line one\n&quot;
ARGF.rewind     #=&gt; 0
ARGF.lineno     #=&gt; 0
ARGF.readline   #=&gt; &quot;This is line one\n&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-rewind_source')" id="l_method-i-rewind_source">show</a>
                
              </p>
              <div id="method-i-rewind_source" class="dyn-source">
                <pre>static VALUE
argf_rewind(VALUE argf)
{
    VALUE ret;
    int old_lineno;

    if (!next_argv()) {
        rb_raise(rb_eArgError, &quot;no stream to rewind&quot;);
    }
    ARGF_FORWARD(0, 0);
    old_lineno = RFILE(ARGF.current_file)-&gt;fptr-&gt;lineno;
    ret = rb_io_rewind(ARGF.current_file);
    if (!global_argf_p(argf)) {
        ARGF.last_lineno = ARGF.lineno -= old_lineno;
    }
    return ret;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-seek">
            
              <b>ARGF.seek(amount, whence=IO::SEEK_SET)  &rarr; 0
</b>
            
            <a href="../classes/ARGF.html#method-i-seek" name="method-i-seek" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Seeks to offset <em>amount</em> (an <code>Integer</code>) in the
<code>ARGF</code> stream according to the value of <em>whence</em>. See <a
href="IO.html#method-i-seek">IO#seek</a> for further details.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-seek_source')" id="l_method-i-seek_source">show</a>
                
              </p>
              <div id="method-i-seek_source" class="dyn-source">
                <pre>static VALUE
argf_seek_m(int argc, VALUE *argv, VALUE argf)
{
    if (!next_argv()) {
        rb_raise(rb_eArgError, &quot;no stream to seek&quot;);
    }
    ARGF_FORWARD(argc, argv);
    return rb_io_seek_m(argc, argv, ARGF.current_file);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-set_encoding">
            
              <b>ARGF.set_encoding(ext_enc)                &rarr; ARGF<br />ARGF.set_encoding("ext_enc:int_enc")      &rarr; ARGF<br />ARGF.set_encoding(ext_enc, int_enc)       &rarr; ARGF<br />ARGF.set_encoding("ext_enc:int_enc", opt) &rarr; ARGF<br />ARGF.set_encoding(ext_enc, int_enc, opt)  &rarr; ARGF
</b>
            
            <a href="../classes/ARGF.html#method-i-set_encoding" name="method-i-set_encoding" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>If single argument is specified, strings read from <a
href="ARGF.html">ARGF</a> are tagged with the encoding specified.</p>

<p>If two encoding names separated by a colon are given, e.g. “ascii:utf-8”,
the read string is converted from the first encoding (external encoding) to
the second encoding (internal encoding), then tagged with the second
encoding.</p>

<p>If two arguments are specified, they must be encoding objects or encoding
names. Again, the first specifies the external encoding; the second
specifies the internal encoding.</p>

<p>If the external encoding and the internal encoding are specified, the
optional <code>Hash</code> argument can be used to adjust the conversion
process. The structure of this hash is explained in the <a
href="String.html#method-i-encode">String#encode</a> documentation.</p>

<p>For example:</p>

<pre><code>ARGF.set_encoding(&#39;ascii&#39;)         # Tag the input as US-ASCII text
ARGF.set_encoding(Encoding::UTF_8) # Tag the input as UTF-8 text
ARGF.set_encoding(&#39;utf-8&#39;,&#39;ascii&#39;) # Transcode the input from US-ASCII
                                   # to UTF-8.
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-set_encoding_source')" id="l_method-i-set_encoding_source">show</a>
                
              </p>
              <div id="method-i-set_encoding_source" class="dyn-source">
                <pre>static VALUE
argf_set_encoding(int argc, VALUE *argv, VALUE argf)
{
    rb_io_t *fptr;

    if (!next_argv()) {
        rb_raise(rb_eArgError, &quot;no stream to set encoding&quot;);
    }
    rb_io_set_encoding(argc, argv, ARGF.current_file);
    GetOpenFile(ARGF.current_file, fptr);
    ARGF.encs = fptr-&gt;encs;
    return argf;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-skip">
            
              <b>ARGF.skip  &rarr; ARGF
</b>
            
            <a href="../classes/ARGF.html#method-i-skip" name="method-i-skip" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Sets the current file to the next file in ARGV. If there aren&#39;t any
more files it has no effect.</p>

<p>For example:</p>

<pre><code>$ ruby argf.rb foo bar
ARGF.filename  #=&gt; &quot;foo&quot;
ARGF.skip
ARGF.filename  #=&gt; &quot;bar&quot;</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-skip_source')" id="l_method-i-skip_source">show</a>
                
              </p>
              <div id="method-i-skip_source" class="dyn-source">
                <pre>static VALUE
argf_skip(VALUE argf)
{
    if (ARGF.init_p &amp;&amp; ARGF.next_p == 0) {
        argf_close(argf);
        ARGF.next_p = 1;
    }
    return argf;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-tell">
            
              <b>ARGF.tell  &rarr; Integer</b>
            
            <a href="../classes/ARGF.html#method-i-tell" name="method-i-tell" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns the current offset (in bytes) of the current file in
<code>ARGF</code>.</p>

<pre><code>ARGF.pos    #=&gt; 0
ARGF.gets   #=&gt; &quot;This is line one\n&quot;
ARGF.pos    #=&gt; 17
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-tell_source')" id="l_method-i-tell_source">show</a>
                
              </p>
              <div id="method-i-tell_source" class="dyn-source">
                <pre>static VALUE
argf_tell(VALUE argf)
{
    if (!next_argv()) {
        rb_raise(rb_eArgError, &quot;no stream to tell&quot;);
    }
    ARGF_FORWARD(0, 0);
    return rb_io_tell(ARGF.current_file);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-to_a">
            
              <b>ARGF.to_a(sep=$/)     &rarr; array<br />ARGF.to_a(limit)      &rarr; array<br />ARGF.to_a(sep, limit) &rarr; array</b>
            
            <a href="../classes/ARGF.html#method-i-to_a" name="method-i-to_a" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Reads <code>ARGF</code>&#39;s current file in its entirety, returning an
<code>Array</code> of its lines, one line per element. Lines are assumed to
be separated by <em>sep</em>.</p>

<pre><code>lines = ARGF.readlines
lines[0]                #=&gt; &quot;This is line one\n&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-to_a_source')" id="l_method-i-to_a_source">show</a>
                
              </p>
              <div id="method-i-to_a_source" class="dyn-source">
                <pre>static VALUE
argf_readlines(int argc, VALUE *argv, VALUE argf)
{
    long lineno = ARGF.lineno;
    VALUE lines, ary;

    ary = rb_ary_new();
    while (next_argv()) {
        if (ARGF_GENERIC_INPUT_P()) {
            lines = rb_funcall3(ARGF.current_file, rb_intern(&quot;readlines&quot;), argc, argv);
        }
        else {
            lines = rb_io_readlines(argc, argv, ARGF.current_file);
            argf_close(argf);
        }
        ARGF.next_p = 1;
        rb_ary_concat(ary, lines);
        ARGF.lineno = lineno + RARRAY_LEN(ary);
        ARGF.last_lineno = ARGF.lineno;
    }
    ARGF.init_p = 0;
    return ary;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-to_i">
            
              <b>ARGF.to_i      &rarr; integer</b>
            
            <a href="../classes/ARGF.html#method-i-to_i" name="method-i-to_i" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns an integer representing the numeric file descriptor for the current
file. Raises an <code>ArgumentError</code> if there isn&#39;t a current
file.</p>

<pre><code>ARGF.fileno    #=&gt; 3
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-to_i_source')" id="l_method-i-to_i_source">show</a>
                
              </p>
              <div id="method-i-to_i_source" class="dyn-source">
                <pre>static VALUE
argf_fileno(VALUE argf)
{
    if (!next_argv()) {
        rb_raise(rb_eArgError, &quot;no stream&quot;);
    }
    ARGF_FORWARD(0, 0);
    return rb_io_fileno(ARGF.current_file);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-to_io">
            
              <b>ARGF.to_io     &rarr; IO
</b>
            
            <a href="../classes/ARGF.html#method-i-to_io" name="method-i-to_io" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns an <code>IO</code> object representing the current file. This will
be a <code>File</code> object unless the current file is a stream such as
STDIN.</p>

<p>For example:</p>

<pre><code>ARGF.to_io    #=&gt; #&lt;File:glark.txt&gt;
ARGF.to_io    #=&gt; #&lt;IO:&lt;STDIN&gt;&gt;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-to_io_source')" id="l_method-i-to_io_source">show</a>
                
              </p>
              <div id="method-i-to_io_source" class="dyn-source">
                <pre>static VALUE
argf_to_io(VALUE argf)
{
    next_argv();
    ARGF_FORWARD(0, 0);
    return ARGF.current_file;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-to_s">
            
              <b>ARGF.to_s  &rarr; String
</b>
            
            <a href="../classes/ARGF.html#method-i-to_s" name="method-i-to_s" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns “ARGF”.</p>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="ARGF.html#method-i-inspect">inspect</a>
            </div>
          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-to_s_source')" id="l_method-i-to_s_source">show</a>
                
              </p>
              <div id="method-i-to_s_source" class="dyn-source">
                <pre>static VALUE
argf_to_s(VALUE argf)
{
    return rb_str_new2(&quot;ARGF&quot;);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-to_write_io">
            
              <b>ARGF.to_write_io  &rarr; io
</b>
            
            <a href="../classes/ARGF.html#method-i-to_write_io" name="method-i-to_write_io" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns <a href="IO.html">IO</a> instance tied to <em>ARGF</em> for writing
if inplace mode is enabled.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-to_write_io_source')" id="l_method-i-to_write_io_source">show</a>
                
              </p>
              <div id="method-i-to_write_io_source" class="dyn-source">
                <pre>static VALUE
argf_write_io(VALUE argf)
{
    if (!RTEST(ARGF.current_file)) {
        rb_raise(rb_eIOError, &quot;not opened for writing&quot;);
    }
    return GetWriteIO(ARGF.current_file);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-write">
            
              <b>ARGF.write(string)   &rarr; integer
</b>
            
            <a href="../classes/ARGF.html#method-i-write" name="method-i-write" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Writes <em>string</em> if inplace mode.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-write_source')" id="l_method-i-write_source">show</a>
                
              </p>
              <div id="method-i-write_source" class="dyn-source">
                <pre>static VALUE
argf_write(VALUE argf, VALUE str)
{
    return rb_io_write(argf_write_io(argf), str);
}</pre>
              </div>
            </div>
            
          </div>
                    </div>

    </div>
  </body>
</html>
