<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Gem</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../css/github.css" type="text/css" media="screen" />
<script src="../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>
    <div class="banner">
        
        <h1>
            <span class="type">Module</span>
            Gem
            
        </h1>
        <ul class="files">
            
            <li><a href="../files/lib/bundler/capistrano_rb.html">lib/bundler/capistrano.rb</a></li>
            
            <li><a href="../files/lib/bundler/cli_rb.html">lib/bundler/cli.rb</a></li>
            
            <li><a href="../files/lib/bundler/cli/add_rb.html">lib/bundler/cli/add.rb</a></li>
            
            <li><a href="../files/lib/bundler/cli/info_rb.html">lib/bundler/cli/info.rb</a></li>
            
            <li><a href="../files/lib/bundler/cli/inject_rb.html">lib/bundler/cli/inject.rb</a></li>
            
            <li><a href="../files/lib/bundler/cli/lock_rb.html">lib/bundler/cli/lock.rb</a></li>
            
            <li><a href="../files/lib/bundler/cli/outdated_rb.html">lib/bundler/cli/outdated.rb</a></li>
            
            <li><a href="../files/lib/bundler/cli/pristine_rb.html">lib/bundler/cli/pristine.rb</a></li>
            
            <li><a href="../files/lib/bundler/cli/show_rb.html">lib/bundler/cli/show.rb</a></li>
            
            <li><a href="../files/lib/bundler/compatibility_guard_rb.html">lib/bundler/compatibility_guard.rb</a></li>
            
            <li><a href="../files/lib/bundler/current_ruby_rb.html">lib/bundler/current_ruby.rb</a></li>
            
            <li><a href="../files/lib/bundler/definition_rb.html">lib/bundler/definition.rb</a></li>
            
            <li><a href="../files/lib/bundler/dep_proxy_rb.html">lib/bundler/dep_proxy.rb</a></li>
            
            <li><a href="../files/lib/bundler/deprecate_rb.html">lib/bundler/deprecate.rb</a></li>
            
            <li><a href="../files/lib/bundler/endpoint_specification_rb.html">lib/bundler/endpoint_specification.rb</a></li>
            
            <li><a href="../files/lib/bundler/env_rb.html">lib/bundler/env.rb</a></li>
            
            <li><a href="../files/lib/bundler/feature_flag_rb.html">lib/bundler/feature_flag.rb</a></li>
            
            <li><a href="../files/lib/bundler/fetcher/compact_index_rb.html">lib/bundler/fetcher/compact_index.rb</a></li>
            
            <li><a href="../files/lib/bundler/friendly_errors_rb.html">lib/bundler/friendly_errors.rb</a></li>
            
            <li><a href="../files/lib/bundler/gem_helpers_rb.html">lib/bundler/gem_helpers.rb</a></li>
            
            <li><a href="../files/lib/bundler/graph_rb.html">lib/bundler/graph.rb</a></li>
            
            <li><a href="../files/lib/bundler/index_rb.html">lib/bundler/index.rb</a></li>
            
            <li><a href="../files/lib/bundler/injector_rb.html">lib/bundler/injector.rb</a></li>
            
            <li><a href="../files/lib/bundler/installer_rb.html">lib/bundler/installer.rb</a></li>
            
            <li><a href="../files/lib/bundler/installer/standalone_rb.html">lib/bundler/installer/standalone.rb</a></li>
            
            <li><a href="../files/lib/bundler/lazy_specification_rb.html">lib/bundler/lazy_specification.rb</a></li>
            
            <li><a href="../files/lib/bundler/lockfile_parser_rb.html">lib/bundler/lockfile_parser.rb</a></li>
            
            <li><a href="../files/lib/bundler/match_platform_rb.html">lib/bundler/match_platform.rb</a></li>
            
            <li><a href="../files/lib/bundler/remote_specification_rb.html">lib/bundler/remote_specification.rb</a></li>
            
            <li><a href="../files/lib/bundler/resolver_rb.html">lib/bundler/resolver.rb</a></li>
            
            <li><a href="../files/lib/bundler/resolver/spec_group_rb.html">lib/bundler/resolver/spec_group.rb</a></li>
            
            <li><a href="../files/lib/bundler/ruby_version_rb.html">lib/bundler/ruby_version.rb</a></li>
            
            <li><a href="../files/lib/bundler/runtime_rb.html">lib/bundler/runtime.rb</a></li>
            
            <li><a href="../files/lib/bundler/shared_helpers_rb.html">lib/bundler/shared_helpers.rb</a></li>
            
            <li><a href="../files/lib/bundler/source_rb.html">lib/bundler/source.rb</a></li>
            
            <li><a href="../files/lib/bundler/source/git_rb.html">lib/bundler/source/git.rb</a></li>
            
            <li><a href="../files/lib/bundler/source/git/git_proxy_rb.html">lib/bundler/source/git/git_proxy.rb</a></li>
            
            <li><a href="../files/lib/bundler/source/metadata_rb.html">lib/bundler/source/metadata.rb</a></li>
            
            <li><a href="../files/lib/bundler/source/path_rb.html">lib/bundler/source/path.rb</a></li>
            
            <li><a href="../files/lib/bundler/stub_specification_rb.html">lib/bundler/stub_specification.rb</a></li>
            
            <li><a href="../files/lib/bundler/vendored_persistent_rb.html">lib/bundler/vendored_persistent.rb</a></li>
            
            <li><a href="../files/lib/bundler/version_ranges_rb.html">lib/bundler/version_ranges.rb</a></li>
            
            <li><a href="../files/lib/rdoc/rubygems_hook_rb.html">lib/rdoc/rubygems_hook.rb</a></li>
            
            <li><a href="../files/lib/rdoc/servlet_rb.html">lib/rdoc/servlet.rb</a></li>
            
            <li><a href="../files/lib/rubygems_rb.html">lib/rubygems.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<p>RubyGems is the Ruby standard for publishing and managing third party
libraries.</p>

<p>For user documentation, see:</p>
<ul><li>
<p><code>gem help</code> and <code>gem help [command]</code></p>
</li><li>
<p><a href="http://guides.rubygems.org/">RubyGems User Guide</a></p>
</li><li>
<p><a href="http://guides.rubygems.org/faqs">Frequently Asked Questions</a></p>
</li></ul>

<p>For gem developer documentation see:</p>
<ul><li>
<p><a href="http://guides.rubygems.org/make-your-own-gem">Creating Gems</a></p>
</li><li>
<p>Gem::Specification</p>
</li><li>
<p>Gem::Version for version dependency notes</p>
</li></ul>

<p>Further RubyGems documentation can be found at:</p>
<ul><li>
<p><a href="http://guides.rubygems.org">RubyGems Guides</a></p>
</li><li>
<p><a href="http://www.rubydoc.info/github/rubygems/rubygems">RubyGems API</a>
(also available from <code>gem server</code>)</p>
</li></ul>

<h2 id="module-Gem-label-RubyGems+Plugins">RubyGems Plugins</h2>

<p>As of RubyGems 1.3.2, RubyGems will load plugins installed in gems or
$LOAD_PATH.  Plugins must be named &#39;rubygems_plugin&#39; (.rb, .so,
etc) and placed at the root of your gem&#39;s require_path.  Plugins are
discovered via <a href="Gem.html#method-c-find_files">::find_files</a> and
then loaded.</p>

<p>For an example plugin, see the <a
href="https://github.com/seattlerb/graph">Graph gem</a> which adds a `gem
graph` command.</p>

<h2 id="module-Gem-label-RubyGems+Defaults-2C+Packaging">RubyGems Defaults, Packaging</h2>

<p>RubyGems defaults are stored in lib/rubygems/defaults.rb.  If you&#39;re
packaging RubyGems or implementing Ruby you can change RubyGems&#39;
defaults.</p>

<p>For RubyGems packagers, provide lib/rubygems/defaults/operating_system.rb
and override any defaults from lib/rubygems/defaults.rb.</p>

<p>For Ruby implementers, provide lib/rubygems/defaults/#{RUBY_ENGINE}.rb and
override any defaults from lib/rubygems/defaults.rb.</p>

<p>If you need RubyGems to perform extra work on install or uninstall, your
defaults override file can set pre/post install and uninstall hooks. See <a
href="Gem.html#method-c-pre_install">::pre_install</a>, <a
href="Gem.html#method-c-pre_uninstall">::pre_uninstall</a>, <a
href="Gem.html#method-c-post_install">::post_install</a>, <a
href="Gem.html#method-c-post_uninstall">::post_uninstall</a>.</p>

<h2 id="module-Gem-label-Bugs">Bugs</h2>

<p>You can submit bugs to the <a
href="https://github.com/rubygems/rubygems/issues">RubyGems bug tracker</a>
on GitHub</p>

<h2 id="module-Gem-label-Credits">Credits</h2>

<p>RubyGems is currently maintained by Eric Hodel.</p>

<p>RubyGems was originally developed at RubyConf 2003 by:</p>
<ul><li>
<p>Rich Kilmer  – rich(at)infoether.com</p>
</li><li>
<p>Chad Fowler  – chad(at)chadfowler.com</p>
</li><li>
<p>David Black  – dblack(at)wobblini.net</p>
</li><li>
<p>Paul Brannan – paul(at)atdesk.com</p>
</li><li>
<p>Jim Weirich   – jim(at)weirichhouse.org</p>
</li></ul>

<p>Contributors:</p>
<ul><li>
<p>Gavin Sinclair     – gsinclair(at)soyabean.com.au</p>
</li><li>
<p>George Marrows     – george.marrows(at)ntlworld.com</p>
</li><li>
<p>Dick Davies        – rasputnik(at)hellooperator.net</p>
</li><li>
<p>Mauricio Fernandez – batsman.geo(at)yahoo.com</p>
</li><li>
<p>Simon Strandgaard  – neoneye(at)adslhome.dk</p>
</li><li>
<p>Dave Glasser       – glasser(at)mit.edu</p>
</li><li>
<p>Paul Duncan        – pabs(at)pablotron.org</p>
</li><li>
<p>Ville Aine         – vaine(at)cs.helsinki.fi</p>
</li><li>
<p>Eric Hodel         – drbrain(at)segment7.net</p>
</li><li>
<p>Daniel Berger      – djberg96(at)gmail.com</p>
</li><li>
<p>Phil Hagelberg     – technomancy(at)gmail.com</p>
</li><li>
<p>Ryan Davis         – ryand-ruby(at)zenspider.com</p>
</li><li>
<p>Evan Phoenix       – evan(at)fallingsnow.net</p>
</li><li>
<p>Steve Klabnik      – steve(at)steveklabnik.com</p>
</li></ul>

<p>(If your name is missing, PLEASE let us know!)</p>

<h2 id="module-Gem-label-License">License</h2>

<p>See LICENSE.txt for permissions.</p>

<p>Thanks!</p>

<p>-The RubyGems Team</p>

    </div>
  


  


  
  


  
    <!-- Namespace -->
    <div class="sectiontitle">Namespace</div>
    <ul>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Gem/Dependency.html">Gem::Dependency</a>
        </li>
      
    </ul>
  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>B</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-bin_path">bin_path</a>,
              </li>
            
              
              <li>
                <a href="#method-c-binary_mode">binary_mode</a>,
              </li>
            
              
              <li>
                <a href="#method-c-bindir">bindir</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>C</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-clear_default_specs">clear_default_specs</a>,
              </li>
            
              
              <li>
                <a href="#method-c-clear_paths">clear_paths</a>,
              </li>
            
              
              <li>
                <a href="#method-c-config_file">config_file</a>,
              </li>
            
              
              <li>
                <a href="#method-c-configuration">configuration</a>,
              </li>
            
              
              <li>
                <a href="#method-c-configuration-3D">configuration=</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>D</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-datadir">datadir</a>,
              </li>
            
              
              <li>
                <a href="#method-c-deflate">deflate</a>,
              </li>
            
              
              <li>
                <a href="#method-c-detect_gemdeps">detect_gemdeps</a>,
              </li>
            
              
              <li>
                <a href="#method-c-dir">dir</a>,
              </li>
            
              
              <li>
                <a href="#method-c-done_installing">done_installing</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>E</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-ensure_default_gem_subdirectories">ensure_default_gem_subdirectories</a>,
              </li>
            
              
              <li>
                <a href="#method-c-ensure_gem_subdirectories">ensure_gem_subdirectories</a>,
              </li>
            
              
              <li>
                <a href="#method-c-env_requirement">env_requirement</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>F</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-find_files">find_files</a>,
              </li>
            
              
              <li>
                <a href="#method-c-find_latest_files">find_latest_files</a>,
              </li>
            
              
              <li>
                <a href="#method-c-find_unresolved_default_spec">find_unresolved_default_spec</a>,
              </li>
            
              
              <li>
                <a href="#method-c-finish_resolve">finish_resolve</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>G</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-gunzip">gunzip</a>,
              </li>
            
              
              <li>
                <a href="#method-c-gzip">gzip</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>H</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-host">host</a>,
              </li>
            
              
              <li>
                <a href="#method-c-host-3D">host=</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>I</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-inflate">inflate</a>,
              </li>
            
              
              <li>
                <a href="#method-c-install">install</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>L</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-latest_rubygems_version">latest_rubygems_version</a>,
              </li>
            
              
              <li>
                <a href="#method-c-latest_spec_for">latest_spec_for</a>,
              </li>
            
              
              <li>
                <a href="#method-c-latest_version_for">latest_version_for</a>,
              </li>
            
              
              <li>
                <a href="#method-c-load_env_plugins">load_env_plugins</a>,
              </li>
            
              
              <li>
                <a href="#method-c-load_path_insert_index">load_path_insert_index</a>,
              </li>
            
              
              <li>
                <a href="#method-c-load_plugins">load_plugins</a>,
              </li>
            
              
              <li>
                <a href="#method-c-load_yaml">load_yaml</a>,
              </li>
            
              
              <li>
                <a href="#method-c-location_of_caller">location_of_caller</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>M</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-marshal_version">marshal_version</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>N</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-needs">needs</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>P</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-path">path</a>,
              </li>
            
              
              <li>
                <a href="#method-c-paths">paths</a>,
              </li>
            
              
              <li>
                <a href="#method-c-paths-3D">paths=</a>,
              </li>
            
              
              <li>
                <a href="#method-c-platforms">platforms</a>,
              </li>
            
              
              <li>
                <a href="#method-c-platforms-3D">platforms=</a>,
              </li>
            
              
              <li>
                <a href="#method-c-post_build">post_build</a>,
              </li>
            
              
              <li>
                <a href="#method-c-post_install">post_install</a>,
              </li>
            
              
              <li>
                <a href="#method-c-post_reset">post_reset</a>,
              </li>
            
              
              <li>
                <a href="#method-c-post_uninstall">post_uninstall</a>,
              </li>
            
              
              <li>
                <a href="#method-c-pre_install">pre_install</a>,
              </li>
            
              
              <li>
                <a href="#method-c-pre_reset">pre_reset</a>,
              </li>
            
              
              <li>
                <a href="#method-c-pre_uninstall">pre_uninstall</a>,
              </li>
            
              
              <li>
                <a href="#method-c-prefix">prefix</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>R</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-read_binary">read_binary</a>,
              </li>
            
              
              <li>
                <a href="#method-c-refresh">refresh</a>,
              </li>
            
              
              <li>
                <a href="#method-c-register_default_spec">register_default_spec</a>,
              </li>
            
              
              <li>
                <a href="#method-c-remove_unresolved_default_spec">remove_unresolved_default_spec</a>,
              </li>
            
              
              <li>
                <a href="#method-c-ruby">ruby</a>,
              </li>
            
              
              <li>
                <a href="#method-c-ruby_api_version">ruby_api_version</a>,
              </li>
            
              
              <li>
                <a href="#method-c-ruby_version">ruby_version</a>,
              </li>
            
              
              <li>
                <a href="#method-c-rubygems_version">rubygems_version</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>S</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-sources">sources</a>,
              </li>
            
              
              <li>
                <a href="#method-c-sources-3D">sources=</a>,
              </li>
            
              
              <li>
                <a href="#method-c-spec_cache_dir">spec_cache_dir</a>,
              </li>
            
              
              <li>
                <a href="#method-c-suffix_pattern">suffix_pattern</a>,
              </li>
            
              
              <li>
                <a href="#method-c-suffixes">suffixes</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>T</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-time">time</a>,
              </li>
            
              
              <li>
                <a href="#method-c-try_activate">try_activate</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>U</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-ui">ui</a>,
              </li>
            
              
              <li>
                <a href="#method-c-use_gemdeps">use_gemdeps</a>,
              </li>
            
              
              <li>
                <a href="#method-c-use_paths">use_paths</a>,
              </li>
            
              
              <li>
                <a href="#method-c-user_home">user_home</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>W</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-win_platform-3F">win_platform?</a>,
              </li>
            
              
              <li>
                <a href="#method-c-write_binary">write_binary</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  



  

    

    

    
      <!-- Section constants -->
      <div class="sectiontitle">Constants</div>
      <table border='0' cellpadding='5'>
        
          <tr valign='top'>
            <td class="attr-name">VERSION</td>
            <td>=</td>
            <td class="attr-value">&quot;3.0.3&quot;.freeze</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">RUBYGEMS_DIR</td>
            <td>=</td>
            <td class="attr-value">File.dirname File.expand_path(__FILE__)</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">WIN_PATTERNS</td>
            <td>=</td>
            <td class="attr-value">[
/bccwin/i,
/cygwin/i,
/djgpp/i,
/mingw/i,
/mswin/i,
/wince/i,
].freeze</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"><p>An <a href="Array.html">Array</a> of Regexps that match windows Ruby
platforms.</p></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">GEM_DEP_FILES</td>
            <td>=</td>
            <td class="attr-value">%w[
gem.deps.rb
gems.rb
Gemfile
Isolate
].freeze</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">REPOSITORY_SUBDIRECTORIES</td>
            <td>=</td>
            <td class="attr-value">%w[
build_info
cache
doc
extensions
gems
specifications
].freeze</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"><p>Subdirectories in a gem repository</p></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">REPOSITORY_DEFAULT_GEM_SUBDIRECTORIES</td>
            <td>=</td>
            <td class="attr-value">%w[
gems
specifications/default
].freeze</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"><p>Subdirectories in a gem repository for default gems</p></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">READ_BINARY_ERRORS</td>
            <td>=</td>
            <td class="attr-value">begin
read_binary_errors = [Errno::EACCES, Errno::EROFS, Errno::ENOSYS]
read_binary_errors &lt;&lt; Errno::ENOTSUP if Errno.const_defined?(:ENOTSUP)
read_binary_errors
end.freeze</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"><p><a href="Exception.html">Exception</a> classes used in a <a
href="Gem.html#method-c-read_binary">::read_binary</a> <code>rescue</code>
statement. Not all of these are defined in Ruby 1.8.7, hence the need for
this convoluted setup.</p></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">WRITE_BINARY_ERRORS</td>
            <td>=</td>
            <td class="attr-value">begin
write_binary_errors = [Errno::ENOSYS]
write_binary_errors &lt;&lt; Errno::ENOTSUP if Errno.const_defined?(:ENOTSUP)
write_binary_errors
end.freeze</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"><p><a href="Exception.html">Exception</a> classes used in <a
href="Gem.html#method-c-write_binary">::write_binary</a>
<code>rescue</code> statement. Not all of these are defined in Ruby 1.8.7.</p></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">USE_BUNDLER_FOR_GEMDEPS</td>
            <td>=</td>
            <td class="attr-value">!ENV[&#39;DONT_USE_BUNDLER_FOR_GEMDEPS&#39;]</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">LOADED_SPECS_MUTEX</td>
            <td>=</td>
            <td class="attr-value">Mutex.new</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">MARSHAL_SPEC_DIR</td>
            <td>=</td>
            <td class="attr-value">&quot;quick/Marshal.#{Gem.marshal_version}/&quot;.freeze</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"><p>Location of <a href="Marshal.html">Marshal</a> quick gemspecs on remote
repositories</p></td>
            </tr>
          
        
      </table>
    


    
      <!-- Section attributes -->
      <div class="sectiontitle">Attributes</div>
      <table border='0' cellpadding='5'>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>done_installing_hooks</td>
            <td class='attr-desc'><p>The list of hooks to be run after Gem::DependencyInstaller installs a set
of gems</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>gemdeps</td>
            <td class='attr-desc'><p>GemDependencyAPI object, which is set when .use_gemdeps is called. This
contains all the information from the Gemfile.</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>loaded_specs</td>
            <td class='attr-desc'><p><a href="Hash.html">Hash</a> of loaded Gem::Specification keyed by name</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>post_build_hooks</td>
            <td class='attr-desc'><p>The list of hooks to be run after Gem::Installer#install extracts files and
builds extensions</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>post_install_hooks</td>
            <td class='attr-desc'><p>The list of hooks to be run after Gem::Installer#install completes
installation</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>post_reset_hooks</td>
            <td class='attr-desc'><p>The list of hooks to be run after Gem::Specification.reset is run.</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>post_uninstall_hooks</td>
            <td class='attr-desc'><p>The list of hooks to be run after Gem::Uninstaller#uninstall completes
installation</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>pre_install_hooks</td>
            <td class='attr-desc'><p>The list of hooks to be run before Gem::Installer#install does any work</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>pre_reset_hooks</td>
            <td class='attr-desc'><p>The list of hooks to be run before Gem::Specification.reset is run.</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>pre_uninstall_hooks</td>
            <td class='attr-desc'><p>The list of hooks to be run before Gem::Uninstaller#uninstall does any work</p></td>
          </tr>
        
      </table>
    


    <!-- Methods -->
    
      <div class="sectiontitle">Class Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-c-bin_path">
            
              <b>bin_path</b>(name, exec_name = nil, *requirements)
            
            <a href="../classes/Gem.html#method-c-bin_path" name="method-c-bin_path" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p><a href="Find.html">Find</a> the full path to the executable for gem
<code>name</code>.  If the <code>exec_name</code> is not given, an
exception will be raised, otherwise the specified executable&#39;s path is
returned.  <code>requirements</code> allows you to specify specific gem
versions.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-bin_path_source')" id="l_method-c-bin_path_source">show</a>
                
              </p>
              <div id="method-c-bin_path_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 253</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">bin_path</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">exec_name</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">requirements</span>)
  <span class="ruby-comment"># TODO: fails test_self_bin_path_bin_file_gone_in_latest</span>
  <span class="ruby-comment"># Gem::Specification.find_by_name(name, *requirements).bin_file exec_name</span>

  <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-string">&quot;you must supply exec_name&quot;</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">exec_name</span>

  <span class="ruby-identifier">requirements</span> = <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Requirement</span>.<span class="ruby-identifier">default</span> <span class="ruby-keyword">if</span>
    <span class="ruby-identifier">requirements</span>.<span class="ruby-identifier">empty?</span>

  <span class="ruby-identifier">find_spec_for_exe</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">exec_name</span>, <span class="ruby-identifier">requirements</span>).<span class="ruby-identifier">bin_file</span> <span class="ruby-identifier">exec_name</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-binary_mode">
            
              <b>binary_mode</b>()
            
            <a href="../classes/Gem.html#method-c-binary_mode" name="method-c-binary_mode" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>The mode needed to read a file as straight binary.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-binary_mode_source')" id="l_method-c-binary_mode_source">show</a>
                
              </p>
              <div id="method-c-binary_mode_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 313</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">binary_mode</span>
  <span class="ruby-string">&#39;rb&#39;</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-bindir">
            
              <b>bindir</b>(install_dir=Gem.dir)
            
            <a href="../classes/Gem.html#method-c-bindir" name="method-c-bindir" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>The path where gem executables are to be installed.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-bindir_source')" id="l_method-c-bindir_source">show</a>
                
              </p>
              <div id="method-c-bindir_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 320</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">bindir</span>(<span class="ruby-identifier">install_dir</span>=<span class="ruby-constant">Gem</span>.<span class="ruby-identifier">dir</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span> <span class="ruby-identifier">install_dir</span>, <span class="ruby-string">&#39;bin&#39;</span> <span class="ruby-keyword">unless</span>
    <span class="ruby-identifier">install_dir</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">==</span> <span class="ruby-constant">Gem</span>.<span class="ruby-identifier">default_dir</span>.<span class="ruby-identifier">to_s</span>
  <span class="ruby-constant">Gem</span>.<span class="ruby-identifier">default_bindir</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-clear_default_specs">
            
              <b>clear_default_specs</b>()
            
            <a href="../classes/Gem.html#method-c-clear_default_specs" name="method-c-clear_default_specs" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Clear default gem related variables. It is for test</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-clear_default_specs_source')" id="l_method-c-clear_default_specs_source">show</a>
                
              </p>
              <div id="method-c-clear_default_specs_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 1292</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">clear_default_specs</span>
  <span class="ruby-ivar">@path_to_default_spec_map</span>.<span class="ruby-identifier">clear</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-clear_paths">
            
              <b>clear_paths</b>()
            
            <a href="../classes/Gem.html#method-c-clear_paths" name="method-c-clear_paths" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Reset the <code>dir</code> and <code>path</code> values.  The next time
<code>dir</code> or <code>path</code> is requested, the values will be
calculated from scratch.  This is mainly used by the unit tests to provide
test isolation.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-clear_paths_source')" id="l_method-c-clear_paths_source">show</a>
                
              </p>
              <div id="method-c-clear_paths_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 331</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">clear_paths</span>
  <span class="ruby-ivar">@paths</span>         = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@user_home</span>     = <span class="ruby-keyword">nil</span>
  <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Specification</span>.<span class="ruby-identifier">reset</span>
  <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Security</span>.<span class="ruby-identifier">reset</span> <span class="ruby-keyword">if</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Security</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-config_file">
            
              <b>config_file</b>()
            
            <a href="../classes/Gem.html#method-c-config_file" name="method-c-config_file" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>The path to standard location of the user&#39;s .gemrc file.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-config_file_source')" id="l_method-c-config_file_source">show</a>
                
              </p>
              <div id="method-c-config_file_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 341</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">config_file</span>
  <span class="ruby-ivar">@config_file</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span> <span class="ruby-constant">Gem</span>.<span class="ruby-identifier">user_home</span>, <span class="ruby-string">&#39;.gemrc&#39;</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-configuration">
            
              <b>configuration</b>()
            
            <a href="../classes/Gem.html#method-c-configuration" name="method-c-configuration" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>The standard configuration object for gems.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-configuration_source')" id="l_method-c-configuration_source">show</a>
                
              </p>
              <div id="method-c-configuration_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 348</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">configuration</span>
  <span class="ruby-ivar">@configuration</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">ConfigFile</span>.<span class="ruby-identifier">new</span> []
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-configuration-3D">
            
              <b>configuration=</b>(config)
            
            <a href="../classes/Gem.html#method-c-configuration-3D" name="method-c-configuration-3D" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Use the given configuration object (which implements the ConfigFile
protocol) as the standard configuration object.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-configuration-3D_source')" id="l_method-c-configuration-3D_source">show</a>
                
              </p>
              <div id="method-c-configuration-3D_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 356</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">configuration=</span>(<span class="ruby-identifier">config</span>)
  <span class="ruby-ivar">@configuration</span> = <span class="ruby-identifier">config</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-datadir">
            
              <b>datadir</b>(gem_name)
            
            <a href="../classes/Gem.html#method-c-datadir" name="method-c-datadir" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>The path to the data directory specified by the gem name.  If the package
is not available as a gem, return nil.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-datadir_source')" id="l_method-c-datadir_source">show</a>
                
              </p>
              <div id="method-c-datadir_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 364</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">datadir</span>(<span class="ruby-identifier">gem_name</span>)
  <span class="ruby-identifier">spec</span> = <span class="ruby-ivar">@loaded_specs</span>[<span class="ruby-identifier">gem_name</span>]
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">nil?</span>
  <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">datadir</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-deflate">
            
              <b>deflate</b>(data)
            
            <a href="../classes/Gem.html#method-c-deflate" name="method-c-deflate" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>A <a href="Zlib/Deflate.html#method-c-deflate">Zlib::Deflate.deflate</a>
wrapper</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-deflate_source')" id="l_method-c-deflate_source">show</a>
                
              </p>
              <div id="method-c-deflate_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 373</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">deflate</span>(<span class="ruby-identifier">data</span>)
  <span class="ruby-identifier">require</span> <span class="ruby-string">&#39;zlib&#39;</span>
  <span class="ruby-constant">Zlib</span><span class="ruby-operator">::</span><span class="ruby-constant">Deflate</span>.<span class="ruby-identifier">deflate</span> <span class="ruby-identifier">data</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-detect_gemdeps">
            
              <b>detect_gemdeps</b>(path = nil)
            
            <a href="../classes/Gem.html#method-c-detect_gemdeps" name="method-c-detect_gemdeps" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>TODO remove with RubyGems 4.0</p>
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="Gem.html#method-c-use_gemdeps">use_gemdeps</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-dir">
            
              <b>dir</b>()
            
            <a href="../classes/Gem.html#method-c-dir" name="method-c-dir" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>The path where gems are to be installed.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-dir_source')" id="l_method-c-dir_source">show</a>
                
              </p>
              <div id="method-c-dir_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 423</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">dir</span>
  <span class="ruby-identifier">paths</span>.<span class="ruby-identifier">home</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-done_installing">
            
              <b>done_installing</b>(&amp;hook)
            
            <a href="../classes/Gem.html#method-c-done_installing" name="method-c-done_installing" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Adds a post-installs hook that will be passed a Gem::DependencyInstaller
and a list of installed specifications when
Gem::DependencyInstaller#install is complete</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-done_installing_source')" id="l_method-c-done_installing_source">show</a>
                
              </p>
              <div id="method-c-done_installing_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 782</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">done_installing</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">hook</span>)
  <span class="ruby-ivar">@done_installing_hooks</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">hook</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-ensure_default_gem_subdirectories">
            
              <b>ensure_default_gem_subdirectories</b>(dir = Gem.dir, mode = nil)
            
            <a href="../classes/Gem.html#method-c-ensure_default_gem_subdirectories" name="method-c-ensure_default_gem_subdirectories" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Quietly ensure the <a href="Gem.html">Gem</a> directory <code>dir</code>
contains all the proper subdirectories for handling default gems.  If we
can&#39;t create a directory due to a permission problem, then we will
silently continue.</p>

<p>If <code>mode</code> is given, missing directories are created with this
mode.</p>

<p>World-writable directories will never be created.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-ensure_default_gem_subdirectories_source')" id="l_method-c-ensure_default_gem_subdirectories_source">show</a>
                
              </p>
              <div id="method-c-ensure_default_gem_subdirectories_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 457</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">ensure_default_gem_subdirectories</span>(<span class="ruby-identifier">dir</span> = <span class="ruby-constant">Gem</span>.<span class="ruby-identifier">dir</span>, <span class="ruby-identifier">mode</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">ensure_subdirectories</span>(<span class="ruby-identifier">dir</span>, <span class="ruby-identifier">mode</span>, <span class="ruby-constant">REPOSITORY_DEFAULT_GEM_SUBDIRECTORIES</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-ensure_gem_subdirectories">
            
              <b>ensure_gem_subdirectories</b>(dir = Gem.dir, mode = nil)
            
            <a href="../classes/Gem.html#method-c-ensure_gem_subdirectories" name="method-c-ensure_gem_subdirectories" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Quietly ensure the <a href="Gem.html">Gem</a> directory <code>dir</code>
contains all the proper subdirectories.  If we can&#39;t create a directory
due to a permission problem, then we will silently continue.</p>

<p>If <code>mode</code> is given, missing directories are created with this
mode.</p>

<p>World-writable directories will never be created.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-ensure_gem_subdirectories_source')" id="l_method-c-ensure_gem_subdirectories_source">show</a>
                
              </p>
              <div id="method-c-ensure_gem_subdirectories_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 444</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">ensure_gem_subdirectories</span>(<span class="ruby-identifier">dir</span> = <span class="ruby-constant">Gem</span>.<span class="ruby-identifier">dir</span>, <span class="ruby-identifier">mode</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">ensure_subdirectories</span>(<span class="ruby-identifier">dir</span>, <span class="ruby-identifier">mode</span>, <span class="ruby-constant">REPOSITORY_SUBDIRECTORIES</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-env_requirement">
            
              <b>env_requirement</b>(gem_name)
            
            <a href="../classes/Gem.html#method-c-env_requirement" name="method-c-env_requirement" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-env_requirement_source')" id="l_method-c-env_requirement_source">show</a>
                
              </p>
              <div id="method-c-env_requirement_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 914</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">env_requirement</span>(<span class="ruby-identifier">gem_name</span>)
  <span class="ruby-ivar">@env_requirements_by_name</span> <span class="ruby-operator">||=</span> {}
  <span class="ruby-ivar">@env_requirements_by_name</span>[<span class="ruby-identifier">gem_name</span>] <span class="ruby-operator">||=</span> <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">req</span> = <span class="ruby-constant">ENV</span>[<span class="ruby-node">&quot;GEM_REQUIREMENT_#{gem_name.upcase}&quot;</span>] <span class="ruby-operator">||</span> <span class="ruby-string">&#39;&gt;= 0&#39;</span>.<span class="ruby-identifier">freeze</span>
    <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Requirement</span>.<span class="ruby-identifier">create</span>(<span class="ruby-identifier">req</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-find_files">
            
              <b>find_files</b>(glob, check_load_path=true)
            
            <a href="../classes/Gem.html#method-c-find_files" name="method-c-find_files" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns a list of paths matching <code>glob</code> that can be used by a
gem to pick up features from other gems.  For example:</p>

<pre><code>Gem.find_files(&#39;rdoc/discover&#39;).each do |path| load path end
</code></pre>

<p>if <code>check_load_path</code> is true (the default), then <a
href="Gem.html#method-c-find_files">::find_files</a> also searches
$LOAD_PATH for files as well as gems.</p>

<p>Note that <a href="Gem.html#method-c-find_files">::find_files</a> will
return all files even if they are from different versions of the same gem. 
See also <a
href="Gem.html#method-c-find_latest_files">::find_latest_files</a></p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-find_files_source')" id="l_method-c-find_files_source">show</a>
                
              </p>
              <div id="method-c-find_files_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 504</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">find_files</span>(<span class="ruby-identifier">glob</span>, <span class="ruby-identifier">check_load_path</span>=<span class="ruby-keyword">true</span>)
  <span class="ruby-identifier">files</span> = []

  <span class="ruby-identifier">files</span> = <span class="ruby-identifier">find_files_from_load_path</span> <span class="ruby-identifier">glob</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">check_load_path</span>

  <span class="ruby-identifier">gem_specifications</span> = <span class="ruby-ivar">@gemdeps</span> <span class="ruby-operator">?</span> <span class="ruby-constant">Gem</span>.<span class="ruby-identifier">loaded_specs</span>.<span class="ruby-identifier">values</span> <span class="ruby-operator">:</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Specification</span>.<span class="ruby-identifier">stubs</span>

  <span class="ruby-identifier">files</span>.<span class="ruby-identifier">concat</span> <span class="ruby-identifier">gem_specifications</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">spec</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">matches_for_glob</span>(<span class="ruby-node">&quot;#{glob}#{Gem.suffix_pattern}&quot;</span>)
  }.<span class="ruby-identifier">flatten</span>

  <span class="ruby-comment"># $LOAD_PATH might contain duplicate entries or reference</span>
  <span class="ruby-comment"># the spec dirs directly, so we prune.</span>
  <span class="ruby-identifier">files</span>.<span class="ruby-identifier">uniq!</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">check_load_path</span>

  <span class="ruby-keyword">return</span> <span class="ruby-identifier">files</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-find_latest_files">
            
              <b>find_latest_files</b>(glob, check_load_path=true)
            
            <a href="../classes/Gem.html#method-c-find_latest_files" name="method-c-find_latest_files" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns a list of paths matching <code>glob</code> from the latest gems
that can be used by a gem to pick up features from other gems.  For
example:</p>

<pre><code>Gem.find_latest_files(&#39;rdoc/discover&#39;).each do |path| load path end
</code></pre>

<p>if <code>check_load_path</code> is true (the default), then <a
href="Gem.html#method-c-find_latest_files">::find_latest_files</a> also
searches $LOAD_PATH for files as well as gems.</p>

<p>Unlike <a href="Gem.html#method-c-find_files">::find_files</a>, <a
href="Gem.html#method-c-find_latest_files">::find_latest_files</a> will
return only files from the latest version of a gem.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-find_latest_files_source')" id="l_method-c-find_latest_files_source">show</a>
                
              </p>
              <div id="method-c-find_latest_files_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 541</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">find_latest_files</span>(<span class="ruby-identifier">glob</span>, <span class="ruby-identifier">check_load_path</span>=<span class="ruby-keyword">true</span>)
  <span class="ruby-identifier">files</span> = []

  <span class="ruby-identifier">files</span> = <span class="ruby-identifier">find_files_from_load_path</span> <span class="ruby-identifier">glob</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">check_load_path</span>

  <span class="ruby-identifier">files</span>.<span class="ruby-identifier">concat</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Specification</span>.<span class="ruby-identifier">latest_specs</span>(<span class="ruby-keyword">true</span>).<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">spec</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">matches_for_glob</span>(<span class="ruby-node">&quot;#{glob}#{Gem.suffix_pattern}&quot;</span>)
  }.<span class="ruby-identifier">flatten</span>

  <span class="ruby-comment"># $LOAD_PATH might contain duplicate entries or reference</span>
  <span class="ruby-comment"># the spec dirs directly, so we prune.</span>
  <span class="ruby-identifier">files</span>.<span class="ruby-identifier">uniq!</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">check_load_path</span>

  <span class="ruby-keyword">return</span> <span class="ruby-identifier">files</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-find_unresolved_default_spec">
            
              <b>find_unresolved_default_spec</b>(path)
            
            <a href="../classes/Gem.html#method-c-find_unresolved_default_spec" name="method-c-find_unresolved_default_spec" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p><a href="Find.html">Find</a> a Gem::Specification of default gem from
<code>path</code></p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-find_unresolved_default_spec_source')" id="l_method-c-find_unresolved_default_spec_source">show</a>
                
              </p>
              <div id="method-c-find_unresolved_default_spec_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 1275</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">find_unresolved_default_spec</span>(<span class="ruby-identifier">path</span>)
  <span class="ruby-ivar">@path_to_default_spec_map</span>[<span class="ruby-identifier">path</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-finish_resolve">
            
              <b>finish_resolve</b>(request_set=Gem::RequestSet.new)
            
            <a href="../classes/Gem.html#method-c-finish_resolve" name="method-c-finish_resolve" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-finish_resolve_source')" id="l_method-c-finish_resolve_source">show</a>
                
              </p>
              <div id="method-c-finish_resolve_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 238</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">finish_resolve</span>(<span class="ruby-identifier">request_set</span>=<span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">RequestSet</span>.<span class="ruby-identifier">new</span>)
  <span class="ruby-identifier">request_set</span>.<span class="ruby-identifier">import</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Specification</span>.<span class="ruby-identifier">unresolved_deps</span>.<span class="ruby-identifier">values</span>
  <span class="ruby-identifier">request_set</span>.<span class="ruby-identifier">import</span> <span class="ruby-constant">Gem</span>.<span class="ruby-identifier">loaded_specs</span>.<span class="ruby-identifier">values</span>.<span class="ruby-identifier">map</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">s</span><span class="ruby-operator">|</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependency</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">s</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">s</span>.<span class="ruby-identifier">version</span>) }

  <span class="ruby-identifier">request_set</span>.<span class="ruby-identifier">resolve_current</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">s</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">s</span>.<span class="ruby-identifier">full_spec</span>.<span class="ruby-identifier">activate</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-gunzip">
            
              <b>gunzip</b>(data)
            
            <a href="../classes/Gem.html#method-c-gunzip" name="method-c-gunzip" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p><a href="Zlib/GzipReader.html">Zlib::GzipReader</a> wrapper that unzips
<code>data</code>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-gunzip_source')" id="l_method-c-gunzip_source">show</a>
                
              </p>
              <div id="method-c-gunzip_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 591</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">gunzip</span>(<span class="ruby-identifier">data</span>)
  <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Util</span>.<span class="ruby-identifier">gunzip</span> <span class="ruby-identifier">data</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-gzip">
            
              <b>gzip</b>(data)
            
            <a href="../classes/Gem.html#method-c-gzip" name="method-c-gzip" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p><a href="Zlib/GzipWriter.html">Zlib::GzipWriter</a> wrapper that zips
<code>data</code>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-gzip_source')" id="l_method-c-gzip_source">show</a>
                
              </p>
              <div id="method-c-gzip_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 603</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">gzip</span>(<span class="ruby-identifier">data</span>)
  <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Util</span>.<span class="ruby-identifier">gzip</span> <span class="ruby-identifier">data</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-host">
            
              <b>host</b>()
            
            <a href="../classes/Gem.html#method-c-host" name="method-c-host" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Get the default RubyGems API host. This is normally
<code>https://rubygems.org</code>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-host_source')" id="l_method-c-host_source">show</a>
                
              </p>
              <div id="method-c-host_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 643</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">host</span>
  <span class="ruby-comment"># TODO: move to utils</span>
  <span class="ruby-ivar">@host</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">DEFAULT_HOST</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-host-3D">
            
              <b>host=</b>(host)
            
            <a href="../classes/Gem.html#method-c-host-3D" name="method-c-host-3D" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p><a href="Set.html">Set</a> the default RubyGems API host.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-host-3D_source')" id="l_method-c-host-3D_source">show</a>
                
              </p>
              <div id="method-c-host-3D_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 650</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">host=</span>(<span class="ruby-identifier">host</span>)
  <span class="ruby-comment"># TODO: move to utils</span>
  <span class="ruby-ivar">@host</span> = <span class="ruby-identifier">host</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-inflate">
            
              <b>inflate</b>(data)
            
            <a href="../classes/Gem.html#method-c-inflate" name="method-c-inflate" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>A <a href="Zlib/Inflate.html#method-i-inflate">Zlib::Inflate#inflate</a>
wrapper</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-inflate_source')" id="l_method-c-inflate_source">show</a>
                
              </p>
              <div id="method-c-inflate_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 615</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">inflate</span>(<span class="ruby-identifier">data</span>)
  <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Util</span>.<span class="ruby-identifier">inflate</span> <span class="ruby-identifier">data</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-install">
            
              <b>install</b>(name, version = Gem::Requirement.default, *options)
            
            <a href="../classes/Gem.html#method-c-install" name="method-c-install" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Top level install helper method. Allows you to install gems interactively:</p>

<pre><code>% irb
&gt;&gt; Gem.install &quot;minitest&quot;
Fetching: minitest-3.0.1.gem (100%)
=&gt; [#&lt;Gem::Specification:0x1013b4528 @name=&quot;minitest&quot;, ...&gt;]</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-install_source')" id="l_method-c-install_source">show</a>
                
              </p>
              <div id="method-c-install_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 632</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">install</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">version</span> = <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Requirement</span>.<span class="ruby-identifier">default</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">options</span>)
  <span class="ruby-identifier">require</span> <span class="ruby-string">&quot;rubygems/dependency_installer&quot;</span>
  <span class="ruby-identifier">inst</span> = <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">DependencyInstaller</span>.<span class="ruby-identifier">new</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">options</span>)
  <span class="ruby-identifier">inst</span>.<span class="ruby-identifier">install</span> <span class="ruby-identifier">name</span>, <span class="ruby-identifier">version</span>
  <span class="ruby-identifier">inst</span>.<span class="ruby-identifier">installed_gems</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-latest_rubygems_version">
            
              <b>latest_rubygems_version</b>()
            
            <a href="../classes/Gem.html#method-c-latest_rubygems_version" name="method-c-latest_rubygems_version" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns the latest release version of RubyGems.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-latest_rubygems_version_source')" id="l_method-c-latest_rubygems_version_source">show</a>
                
              </p>
              <div id="method-c-latest_rubygems_version_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 939</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">latest_rubygems_version</span>
  <span class="ruby-identifier">latest_version_for</span>(<span class="ruby-string">&#39;rubygems-update&#39;</span>) <span class="ruby-keyword">or</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-string">&quot;Can&#39;t find &#39;rubygems-update&#39; in any repo. Check `gem source list`.&quot;</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-latest_spec_for">
            
              <b>latest_spec_for</b>(name)
            
            <a href="../classes/Gem.html#method-c-latest_spec_for" name="method-c-latest_spec_for" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns the latest release-version specification for the gem
<code>name</code>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-latest_spec_for_source')" id="l_method-c-latest_spec_for_source">show</a>
                
              </p>
              <div id="method-c-latest_spec_for_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 926</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">latest_spec_for</span>(<span class="ruby-identifier">name</span>)
  <span class="ruby-identifier">dependency</span>   = <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependency</span>.<span class="ruby-identifier">new</span> <span class="ruby-identifier">name</span>
  <span class="ruby-identifier">fetcher</span>      = <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">SpecFetcher</span>.<span class="ruby-identifier">fetcher</span>
  <span class="ruby-identifier">spec_tuples</span>, = <span class="ruby-identifier">fetcher</span>.<span class="ruby-identifier">spec_for_dependency</span> <span class="ruby-identifier">dependency</span>

  <span class="ruby-identifier">spec</span>, = <span class="ruby-identifier">spec_tuples</span>.<span class="ruby-identifier">first</span>

  <span class="ruby-identifier">spec</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-latest_version_for">
            
              <b>latest_version_for</b>(name)
            
            <a href="../classes/Gem.html#method-c-latest_version_for" name="method-c-latest_version_for" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns the version of the latest release-version of gem <code>name</code></p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-latest_version_for_source')" id="l_method-c-latest_version_for_source">show</a>
                
              </p>
              <div id="method-c-latest_version_for_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 947</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">latest_version_for</span>(<span class="ruby-identifier">name</span>)
  <span class="ruby-identifier">spec</span> = <span class="ruby-identifier">latest_spec_for</span> <span class="ruby-identifier">name</span>
  <span class="ruby-identifier">spec</span> <span class="ruby-keyword">and</span> <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">version</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-load_env_plugins">
            
              <b>load_env_plugins</b>()
            
            <a href="../classes/Gem.html#method-c-load_env_plugins" name="method-c-load_env_plugins" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p><a href="Find.html">Find</a> all &#39;rubygems_plugin&#39; files in
$LOAD_PATH and load them</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-load_env_plugins_source')" id="l_method-c-load_env_plugins_source">show</a>
                
              </p>
              <div id="method-c-load_env_plugins_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 1118</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">load_env_plugins</span>
  <span class="ruby-identifier">path</span> = <span class="ruby-string">&quot;rubygems_plugin&quot;</span>

  <span class="ruby-identifier">files</span> = []
  <span class="ruby-identifier">glob</span> = <span class="ruby-node">&quot;#{path}#{Gem.suffix_pattern}&quot;</span>
  <span class="ruby-identifier">$LOAD_PATH</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">load_path</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">globbed</span> = <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Util</span>.<span class="ruby-identifier">glob_files_in_dir</span>(<span class="ruby-identifier">glob</span>, <span class="ruby-identifier">load_path</span>)

    <span class="ruby-identifier">globbed</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">load_path_file</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">files</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">load_path_file</span> <span class="ruby-keyword">if</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">file?</span>(<span class="ruby-identifier">load_path_file</span>.<span class="ruby-identifier">untaint</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">load_plugin_files</span> <span class="ruby-identifier">files</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-load_path_insert_index">
            
              <b>load_path_insert_index</b>()
            
            <a href="../classes/Gem.html#method-c-load_path_insert_index" name="method-c-load_path_insert_index" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>The index to insert activated gem paths into the $LOAD_PATH. The activated
gem&#39;s paths are inserted before site lib directory by default.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-load_path_insert_index_source')" id="l_method-c-load_path_insert_index_source">show</a>
                
              </p>
              <div id="method-c-load_path_insert_index_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 659</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">load_path_insert_index</span>
  <span class="ruby-identifier">$LOAD_PATH</span>.<span class="ruby-identifier">each_with_index</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span>, <span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">i</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">path</span>.<span class="ruby-identifier">instance_variable_defined?</span>(<span class="ruby-value">:@gem_prelude_index</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">index</span> = <span class="ruby-identifier">$LOAD_PATH</span>.<span class="ruby-identifier">index</span> <span class="ruby-constant">RbConfig</span><span class="ruby-operator">::</span><span class="ruby-constant">CONFIG</span>[<span class="ruby-string">&#39;sitelibdir&#39;</span>]

  <span class="ruby-identifier">index</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-load_plugins">
            
              <b>load_plugins</b>()
            
            <a href="../classes/Gem.html#method-c-load_plugins" name="method-c-load_plugins" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p><a href="Find.html">Find</a> the &#39;rubygems_plugin&#39; files in the
latest installed gems and load them</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-load_plugins_source')" id="l_method-c-load_plugins_source">show</a>
                
              </p>
              <div id="method-c-load_plugins_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 1106</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">load_plugins</span>
  <span class="ruby-comment"># Remove this env var by at least 3.0</span>
  <span class="ruby-keyword">if</span> <span class="ruby-constant">ENV</span>[<span class="ruby-string">&#39;RUBYGEMS_LOAD_ALL_PLUGINS&#39;</span>]
    <span class="ruby-identifier">load_plugin_files</span> <span class="ruby-identifier">find_files</span>(<span class="ruby-string">&#39;rubygems_plugin&#39;</span>, <span class="ruby-keyword">false</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">load_plugin_files</span> <span class="ruby-identifier">find_latest_files</span>(<span class="ruby-string">&#39;rubygems_plugin&#39;</span>, <span class="ruby-keyword">false</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-load_yaml">
            
              <b>load_yaml</b>()
            
            <a href="../classes/Gem.html#method-c-load_yaml" name="method-c-load_yaml" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Loads <a href="YAML.html">YAML</a>, preferring <a
href="Psych.html">Psych</a></p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-load_yaml_source')" id="l_method-c-load_yaml_source">show</a>
                
              </p>
              <div id="method-c-load_yaml_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 674</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">load_yaml</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@yaml_loaded</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-identifier">gem</span>)

  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">gem</span> <span class="ruby-string">&#39;psych&#39;</span>, <span class="ruby-string">&#39;&gt;= 2.0.0&#39;</span>
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">LoadError</span>
    <span class="ruby-comment"># It&#39;s OK if the user does not have the psych gem installed.  We will</span>
    <span class="ruby-comment"># attempt to require the stdlib version</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">begin</span>
    <span class="ruby-comment"># Try requiring the gem version *or* stdlib version of psych.</span>
    <span class="ruby-identifier">require</span> <span class="ruby-string">&#39;psych&#39;</span>
  <span class="ruby-keyword">rescue</span> <span class="ruby-operator">::</span><span class="ruby-constant">LoadError</span>
    <span class="ruby-comment"># If we can&#39;t load psych, thats fine, go on.</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-comment"># If &#39;yaml&#39; has already been required, then we have to</span>
    <span class="ruby-comment"># be sure to switch it over to the newly loaded psych.</span>
    <span class="ruby-keyword">if</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">YAML</span><span class="ruby-operator">::</span><span class="ruby-constant">ENGINE</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">YAML</span><span class="ruby-operator">::</span><span class="ruby-constant">ENGINE</span>.<span class="ruby-identifier">yamler</span> <span class="ruby-operator">!=</span> <span class="ruby-string">&quot;psych&quot;</span>
      <span class="ruby-constant">YAML</span><span class="ruby-operator">::</span><span class="ruby-constant">ENGINE</span>.<span class="ruby-identifier">yamler</span> = <span class="ruby-string">&quot;psych&quot;</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">require</span> <span class="ruby-string">&#39;rubygems/psych_additions&#39;</span>
    <span class="ruby-identifier">require</span> <span class="ruby-string">&#39;rubygems/psych_tree&#39;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">require</span> <span class="ruby-string">&#39;yaml&#39;</span>
  <span class="ruby-identifier">require</span> <span class="ruby-string">&#39;rubygems/safe_yaml&#39;</span>

  <span class="ruby-comment"># Now that we&#39;re sure some kind of yaml library is loaded, pull</span>
  <span class="ruby-comment"># in our hack to deal with Syck&#39;s DefaultKey ugliness.</span>
  <span class="ruby-identifier">require</span> <span class="ruby-string">&#39;rubygems/syck_hack&#39;</span>

  <span class="ruby-ivar">@yaml_loaded</span> = <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-location_of_caller">
            
              <b>location_of_caller</b>(depth = 1)
            
            <a href="../classes/Gem.html#method-c-location_of_caller" name="method-c-location_of_caller" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>The file name and line number of the caller of the caller of this method.</p>

<p><code>depth</code> is how many layers up the call stack it should go.</p>

<p>e.g.,</p>

<p>def a; <a
href="Gem.html#method-c-location_of_caller">::location_of_caller</a>; end a
#=&gt; [“x.rb”, 2]  # (it&#39;ll vary depending on file name and line
number)</p>

<p>def b; c; end def c; <a
href="Gem.html#method-c-location_of_caller">::location_of_caller</a>; end b
#=&gt; [“x.rb”, 6]  # (it&#39;ll vary depending on file name and line
number)</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-location_of_caller_source')" id="l_method-c-location_of_caller_source">show</a>
                
              </p>
              <div id="method-c-location_of_caller_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 725</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">location_of_caller</span>(<span class="ruby-identifier">depth</span> = <span class="ruby-number">1</span>)
  <span class="ruby-identifier">caller</span>[<span class="ruby-identifier">depth</span>] <span class="ruby-operator">=~</span> <span class="ruby-regexp">/(.*?):(\d+).*?$/i</span>
  <span class="ruby-identifier">file</span> = <span class="ruby-node">$1</span>
  <span class="ruby-identifier">lineno</span> = <span class="ruby-node">$2</span>.<span class="ruby-identifier">to_i</span>

  [<span class="ruby-identifier">file</span>, <span class="ruby-identifier">lineno</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-marshal_version">
            
              <b>marshal_version</b>()
            
            <a href="../classes/Gem.html#method-c-marshal_version" name="method-c-marshal_version" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>The version of the <a href="Marshal.html">Marshal</a> format for your Ruby.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-marshal_version_source')" id="l_method-c-marshal_version_source">show</a>
                
              </p>
              <div id="method-c-marshal_version_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 736</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">marshal_version</span>
  <span class="ruby-node">&quot;#{Marshal::MAJOR_VERSION}.#{Marshal::MINOR_VERSION}&quot;</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-needs">
            
              <b>needs</b>()
            
            <a href="../classes/Gem.html#method-c-needs" name="method-c-needs" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-needs_source')" id="l_method-c-needs_source">show</a>
                
              </p>
              <div id="method-c-needs_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 230</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">needs</span>
  <span class="ruby-identifier">rs</span> = <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">RequestSet</span>.<span class="ruby-identifier">new</span>

  <span class="ruby-keyword">yield</span> <span class="ruby-identifier">rs</span>

  <span class="ruby-identifier">finish_resolve</span> <span class="ruby-identifier">rs</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-path">
            
              <b>path</b>()
            
            <a href="../classes/Gem.html#method-c-path" name="method-c-path" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-path_source')" id="l_method-c-path_source">show</a>
                
              </p>
              <div id="method-c-path_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 427</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">path</span>
  <span class="ruby-identifier">paths</span>.<span class="ruby-identifier">path</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-paths">
            
              <b>paths</b>()
            
            <a href="../classes/Gem.html#method-c-paths" name="method-c-paths" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Retrieve the PathSupport object that RubyGems uses to lookup files.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-paths_source')" id="l_method-c-paths_source">show</a>
                
              </p>
              <div id="method-c-paths_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 381</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">paths</span>
  <span class="ruby-ivar">@paths</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">PathSupport</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">ENV</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-paths-3D">
            
              <b>paths=</b>(env)
            
            <a href="../classes/Gem.html#method-c-paths-3D" name="method-c-paths-3D" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Initialize the filesystem paths to use from <code>env</code>.
<code>env</code> is a hash-like object (typically <a
href="ENV.html">ENV</a>) that is queried for &#39;GEM_HOME&#39;,
&#39;GEM_PATH&#39;, and &#39;GEM_SPEC_CACHE&#39; Keys for the
<code>env</code> hash should be Strings, and values of the hash should be
Strings or <code>nil</code>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-paths-3D_source')" id="l_method-c-paths-3D_source">show</a>
                
              </p>
              <div id="method-c-paths-3D_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 391</span>
  <span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">paths=</span>(<span class="ruby-identifier">env</span>)
    <span class="ruby-identifier">clear_paths</span>
    <span class="ruby-identifier">target</span> = {}
    <span class="ruby-identifier">env</span>.<span class="ruby-identifier">each_pair</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">case</span> <span class="ruby-identifier">k</span>
      <span class="ruby-keyword">when</span> <span class="ruby-string">&#39;GEM_HOME&#39;</span>, <span class="ruby-string">&#39;GEM_PATH&#39;</span>, <span class="ruby-string">&#39;GEM_SPEC_CACHE&#39;</span>
        <span class="ruby-keyword">case</span> <span class="ruby-identifier">v</span>
        <span class="ruby-keyword">when</span> <span class="ruby-keyword">nil</span>, <span class="ruby-constant">String</span>
          <span class="ruby-identifier">target</span>[<span class="ruby-identifier">k</span>] = <span class="ruby-identifier">v</span>
        <span class="ruby-keyword">when</span> <span class="ruby-constant">Array</span>
          <span class="ruby-keyword">unless</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Deprecate</span>.<span class="ruby-identifier">skip</span>
            <span class="ruby-identifier">warn</span> <span class="ruby-value">&lt;&lt;-eowarn
Array values in the parameter to `Gem.paths=` are deprecated.
Please use a String or nil.
An Array (#{env.inspect}) was passed in from #{caller[3]}
            eowarn</span>
          <span class="ruby-keyword">end</span>
          <span class="ruby-identifier">target</span>[<span class="ruby-identifier">k</span>] = <span class="ruby-identifier">v</span>.<span class="ruby-identifier">join</span> <span class="ruby-constant">File</span><span class="ruby-operator">::</span><span class="ruby-constant">PATH_SEPARATOR</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">target</span>[<span class="ruby-identifier">k</span>] = <span class="ruby-identifier">v</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-ivar">@paths</span> = <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">PathSupport</span>.<span class="ruby-identifier">new</span> <span class="ruby-constant">ENV</span>.<span class="ruby-identifier">to_hash</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">target</span>)
    <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Specification</span>.<span class="ruby-identifier">dirs</span> = <span class="ruby-ivar">@paths</span>.<span class="ruby-identifier">path</span>
  <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-platforms">
            
              <b>platforms</b>()
            
            <a href="../classes/Gem.html#method-c-platforms" name="method-c-platforms" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p><a href="Array.html">Array</a> of platforms this RubyGems supports.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-platforms_source')" id="l_method-c-platforms_source">show</a>
                
              </p>
              <div id="method-c-platforms_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 750</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">platforms</span>
  <span class="ruby-ivar">@platforms</span> <span class="ruby-operator">||=</span> []
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@platforms</span>.<span class="ruby-identifier">empty?</span>
    <span class="ruby-ivar">@platforms</span> = [<span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Platform</span><span class="ruby-operator">::</span><span class="ruby-constant">RUBY</span>, <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Platform</span>.<span class="ruby-identifier">local</span>]
  <span class="ruby-keyword">end</span>
  <span class="ruby-ivar">@platforms</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-platforms-3D">
            
              <b>platforms=</b>(platforms)
            
            <a href="../classes/Gem.html#method-c-platforms-3D" name="method-c-platforms-3D" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p><a href="Set.html">Set</a> array of platforms this RubyGems supports
(primarily for testing).</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-platforms-3D_source')" id="l_method-c-platforms-3D_source">show</a>
                
              </p>
              <div id="method-c-platforms-3D_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 743</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">platforms=</span>(<span class="ruby-identifier">platforms</span>)
  <span class="ruby-ivar">@platforms</span> = <span class="ruby-identifier">platforms</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-post_build">
            
              <b>post_build</b>(&amp;hook)
            
            <a href="../classes/Gem.html#method-c-post_build" name="method-c-post_build" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Adds a post-build hook that will be passed an Gem::Installer instance when
Gem::Installer#install is called.  The hook is called after the gem has
been extracted and extensions have been built but before the executables or
gemspec has been written.  If the hook returns <code>false</code> then the
gem&#39;s files will be removed and the install will be aborted.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-post_build_source')" id="l_method-c-post_build_source">show</a>
                
              </p>
              <div id="method-c-post_build_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 765</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">post_build</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">hook</span>)
  <span class="ruby-ivar">@post_build_hooks</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">hook</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-post_install">
            
              <b>post_install</b>(&amp;hook)
            
            <a href="../classes/Gem.html#method-c-post_install" name="method-c-post_install" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Adds a post-install hook that will be passed an Gem::Installer instance
when Gem::Installer#install is called</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-post_install_source')" id="l_method-c-post_install_source">show</a>
                
              </p>
              <div id="method-c-post_install_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 773</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">post_install</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">hook</span>)
  <span class="ruby-ivar">@post_install_hooks</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">hook</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-post_reset">
            
              <b>post_reset</b>(&amp;hook)
            
            <a href="../classes/Gem.html#method-c-post_reset" name="method-c-post_reset" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Adds a hook that will get run after Gem::Specification.reset is run.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-post_reset_source')" id="l_method-c-post_reset_source">show</a>
                
              </p>
              <div id="method-c-post_reset_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 790</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">post_reset</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">hook</span>)
  <span class="ruby-ivar">@post_reset_hooks</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">hook</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-post_uninstall">
            
              <b>post_uninstall</b>(&amp;hook)
            
            <a href="../classes/Gem.html#method-c-post_uninstall" name="method-c-post_uninstall" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Adds a post-uninstall hook that will be passed a Gem::Uninstaller instance
and the spec that was uninstalled when Gem::Uninstaller#uninstall is called</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-post_uninstall_source')" id="l_method-c-post_uninstall_source">show</a>
                
              </p>
              <div id="method-c-post_uninstall_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 799</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">post_uninstall</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">hook</span>)
  <span class="ruby-ivar">@post_uninstall_hooks</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">hook</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-pre_install">
            
              <b>pre_install</b>(&amp;hook)
            
            <a href="../classes/Gem.html#method-c-pre_install" name="method-c-pre_install" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Adds a pre-install hook that will be passed an Gem::Installer instance when
Gem::Installer#install is called.  If the hook returns <code>false</code>
then the install will be aborted.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-pre_install_source')" id="l_method-c-pre_install_source">show</a>
                
              </p>
              <div id="method-c-pre_install_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 808</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">pre_install</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">hook</span>)
  <span class="ruby-ivar">@pre_install_hooks</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">hook</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-pre_reset">
            
              <b>pre_reset</b>(&amp;hook)
            
            <a href="../classes/Gem.html#method-c-pre_reset" name="method-c-pre_reset" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Adds a hook that will get run before Gem::Specification.reset is run.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-pre_reset_source')" id="l_method-c-pre_reset_source">show</a>
                
              </p>
              <div id="method-c-pre_reset_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 816</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">pre_reset</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">hook</span>)
  <span class="ruby-ivar">@pre_reset_hooks</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">hook</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-pre_uninstall">
            
              <b>pre_uninstall</b>(&amp;hook)
            
            <a href="../classes/Gem.html#method-c-pre_uninstall" name="method-c-pre_uninstall" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Adds a pre-uninstall hook that will be passed an Gem::Uninstaller instance
and the spec that will be uninstalled when Gem::Uninstaller#uninstall is
called</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-pre_uninstall_source')" id="l_method-c-pre_uninstall_source">show</a>
                
              </p>
              <div id="method-c-pre_uninstall_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 825</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">pre_uninstall</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">hook</span>)
  <span class="ruby-ivar">@pre_uninstall_hooks</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">hook</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-prefix">
            
              <b>prefix</b>()
            
            <a href="../classes/Gem.html#method-c-prefix" name="method-c-prefix" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>The directory prefix this RubyGems was installed at. If your prefix is in a
standard location (ie, rubygems is installed where you&#39;d expect it to
be), then prefix returns nil.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-prefix_source')" id="l_method-c-prefix_source">show</a>
                
              </p>
              <div id="method-c-prefix_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 834</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">prefix</span>
  <span class="ruby-identifier">prefix</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">dirname</span> <span class="ruby-constant">RUBYGEMS_DIR</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">prefix</span> <span class="ruby-operator">!=</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-constant">RbConfig</span><span class="ruby-operator">::</span><span class="ruby-constant">CONFIG</span>[<span class="ruby-string">&#39;sitelibdir&#39;</span>]) <span class="ruby-keyword">and</span>
     <span class="ruby-identifier">prefix</span> <span class="ruby-operator">!=</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-constant">RbConfig</span><span class="ruby-operator">::</span><span class="ruby-constant">CONFIG</span>[<span class="ruby-string">&#39;libdir&#39;</span>]) <span class="ruby-keyword">and</span>
     <span class="ruby-string">&#39;lib&#39;</span> <span class="ruby-operator">==</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">basename</span>(<span class="ruby-constant">RUBYGEMS_DIR</span>)
    <span class="ruby-identifier">prefix</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-read_binary">
            
              <b>read_binary</b>(path)
            
            <a href="../classes/Gem.html#method-c-read_binary" name="method-c-read_binary" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Safely read a file in binary mode on all platforms.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-read_binary_source')" id="l_method-c-read_binary_source">show</a>
                
              </p>
              <div id="method-c-read_binary_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 854</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">read_binary</span>(<span class="ruby-identifier">path</span>)
  <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span> <span class="ruby-identifier">path</span>, <span class="ruby-string">&#39;rb+&#39;</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">f</span>.<span class="ruby-identifier">flock</span>(<span class="ruby-constant">File</span><span class="ruby-operator">::</span><span class="ruby-constant">LOCK_EX</span>)
    <span class="ruby-identifier">f</span>.<span class="ruby-identifier">read</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">rescue</span> <span class="ruby-operator">*</span><span class="ruby-constant">READ_BINARY_ERRORS</span>
  <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span> <span class="ruby-identifier">path</span>, <span class="ruby-string">&#39;rb&#39;</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">f</span>.<span class="ruby-identifier">read</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">rescue</span> <span class="ruby-constant">Errno</span><span class="ruby-operator">::</span><span class="ruby-constant">ENOLCK</span> <span class="ruby-comment"># NFS</span>
  <span class="ruby-keyword">if</span> <span class="ruby-constant">Thread</span>.<span class="ruby-identifier">main</span> <span class="ruby-operator">!=</span> <span class="ruby-constant">Thread</span>.<span class="ruby-identifier">current</span>
    <span class="ruby-identifier">raise</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span> <span class="ruby-identifier">path</span>, <span class="ruby-string">&#39;rb&#39;</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">f</span>.<span class="ruby-identifier">read</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-refresh">
            
              <b>refresh</b>()
            
            <a href="../classes/Gem.html#method-c-refresh" name="method-c-refresh" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Refresh available gems from disk.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-refresh_source')" id="l_method-c-refresh_source">show</a>
                
              </p>
              <div id="method-c-refresh_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 847</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">refresh</span>
  <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Specification</span>.<span class="ruby-identifier">reset</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-register_default_spec">
            
              <b>register_default_spec</b>(spec)
            
            <a href="../classes/Gem.html#method-c-register_default_spec" name="method-c-register_default_spec" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Register a Gem::Specification for default gem.</p>

<p>Two formats for the specification are supported:</p>
<ul><li>
<p>MRI 2.0 style, where spec.files contains unprefixed require names. The
spec&#39;s filenames will be registered as-is.</p>
</li><li>
<p>New style, where spec.files contains files prefixed with paths from
spec.require_paths. The prefixes are stripped before registering the
spec&#39;s filenames. Unprefixed files are omitted.</p>
</li></ul>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-register_default_spec_source')" id="l_method-c-register_default_spec_source">show</a>
                
              </p>
              <div id="method-c-register_default_spec_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 1251</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">register_default_spec</span>(<span class="ruby-identifier">spec</span>)
  <span class="ruby-identifier">new_format</span> = <span class="ruby-constant">Gem</span>.<span class="ruby-identifier">default_gems_use_full_paths?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">require_paths</span>.<span class="ruby-identifier">any?</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">path</span><span class="ruby-operator">|</span> <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">files</span>.<span class="ruby-identifier">any?</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span> <span class="ruby-identifier">f</span>.<span class="ruby-identifier">start_with?</span> <span class="ruby-identifier">path</span> } }

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">new_format</span>
    <span class="ruby-identifier">prefix_group</span> = <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">require_paths</span>.<span class="ruby-identifier">map</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span> <span class="ruby-identifier">f</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;/&quot;</span>}.<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;|&quot;</span>)
    <span class="ruby-identifier">prefix_pattern</span> = <span class="ruby-node">/^(#{prefix_group})/</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">suffix_pattern</span> = <span class="ruby-node">/#{Regexp.union(Gem.suffixes)}\z/</span>

  <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">files</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">file</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">new_format</span>
      <span class="ruby-identifier">file</span> = <span class="ruby-identifier">file</span>.<span class="ruby-identifier">sub</span>(<span class="ruby-identifier">prefix_pattern</span>, <span class="ruby-string">&quot;&quot;</span>)
      <span class="ruby-keyword">next</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">$~</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-ivar">@path_to_default_spec_map</span>[<span class="ruby-identifier">file</span>] = <span class="ruby-identifier">spec</span>
    <span class="ruby-ivar">@path_to_default_spec_map</span>[<span class="ruby-identifier">file</span>.<span class="ruby-identifier">sub</span>(<span class="ruby-identifier">suffix_pattern</span>, <span class="ruby-string">&quot;&quot;</span>)] = <span class="ruby-identifier">spec</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-remove_unresolved_default_spec">
            
              <b>remove_unresolved_default_spec</b>(spec)
            
            <a href="../classes/Gem.html#method-c-remove_unresolved_default_spec" name="method-c-remove_unresolved_default_spec" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Remove needless Gem::Specification of default gem from unresolved default
gem list</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-remove_unresolved_default_spec_source')" id="l_method-c-remove_unresolved_default_spec_source">show</a>
                
              </p>
              <div id="method-c-remove_unresolved_default_spec_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 1283</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">remove_unresolved_default_spec</span>(<span class="ruby-identifier">spec</span>)
  <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">files</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">file</span><span class="ruby-operator">|</span>
    <span class="ruby-ivar">@path_to_default_spec_map</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">file</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-ruby">
            
              <b>ruby</b>()
            
            <a href="../classes/Gem.html#method-c-ruby" name="method-c-ruby" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>The path to the running Ruby interpreter.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-ruby_source')" id="l_method-c-ruby_source">show</a>
                
              </p>
              <div id="method-c-ruby_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 896</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">ruby</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@ruby</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-ivar">@ruby</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">RbConfig</span><span class="ruby-operator">::</span><span class="ruby-constant">CONFIG</span>[<span class="ruby-string">&#39;bindir&#39;</span>],
                      <span class="ruby-node">&quot;#{RbConfig::CONFIG[&#39;ruby_install_name&#39;]}#{RbConfig::CONFIG[&#39;EXEEXT&#39;]}&quot;</span>)

    <span class="ruby-ivar">@ruby</span> = <span class="ruby-node">&quot;\&quot;#{@ruby}\&quot;&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@ruby</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">/\s/</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-ivar">@ruby</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-ruby_api_version">
            
              <b>ruby_api_version</b>()
            
            <a href="../classes/Gem.html#method-c-ruby_api_version" name="method-c-ruby_api_version" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns a <a href="String.html">String</a> containing the API compatibility
version of Ruby</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-ruby_api_version_source')" id="l_method-c-ruby_api_version_source">show</a>
                
              </p>
              <div id="method-c-ruby_api_version_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 910</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">ruby_api_version</span>
  <span class="ruby-ivar">@ruby_api_version</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">RbConfig</span><span class="ruby-operator">::</span><span class="ruby-constant">CONFIG</span>[<span class="ruby-string">&#39;ruby_version&#39;</span>].<span class="ruby-identifier">dup</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-ruby_version">
            
              <b>ruby_version</b>()
            
            <a href="../classes/Gem.html#method-c-ruby_version" name="method-c-ruby_version" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>A Gem::Version for the currently running Ruby.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-ruby_version_source')" id="l_method-c-ruby_version_source">show</a>
                
              </p>
              <div id="method-c-ruby_version_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 955</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">ruby_version</span>
  <span class="ruby-keyword">return</span> <span class="ruby-ivar">@ruby_version</span> <span class="ruby-keyword">if</span> <span class="ruby-keyword">defined?</span> <span class="ruby-ivar">@ruby_version</span>
  <span class="ruby-identifier">version</span> = <span class="ruby-constant">RUBY_VERSION</span>.<span class="ruby-identifier">dup</span>

  <span class="ruby-keyword">if</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">RUBY_PATCHLEVEL</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">RUBY_PATCHLEVEL</span> <span class="ruby-operator">!=</span> <span class="ruby-number">-1</span>
    <span class="ruby-identifier">version</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;.#{RUBY_PATCHLEVEL}&quot;</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">RUBY_DESCRIPTION</span>)
    <span class="ruby-keyword">if</span> <span class="ruby-constant">RUBY_ENGINE</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;ruby&quot;</span>
      <span class="ruby-identifier">desc</span> = <span class="ruby-constant">RUBY_DESCRIPTION</span>[<span class="ruby-node">/\Aruby #{Regexp.quote(RUBY_VERSION)}([^ ]+) /</span>, <span class="ruby-number">1</span>]
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">desc</span> = <span class="ruby-constant">RUBY_DESCRIPTION</span>[<span class="ruby-node">/\A#{RUBY_ENGINE} #{Regexp.quote(RUBY_ENGINE_VERSION)} \(#{RUBY_VERSION}([^ ]+)\) /</span>, <span class="ruby-number">1</span>]
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">version</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;.#{desc}&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">desc</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-ivar">@ruby_version</span> = <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Version</span>.<span class="ruby-identifier">new</span> <span class="ruby-identifier">version</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-rubygems_version">
            
              <b>rubygems_version</b>()
            
            <a href="../classes/Gem.html#method-c-rubygems_version" name="method-c-rubygems_version" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>A Gem::Version for the currently running RubyGems</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-rubygems_version_source')" id="l_method-c-rubygems_version_source">show</a>
                
              </p>
              <div id="method-c-rubygems_version_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 976</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">rubygems_version</span>
  <span class="ruby-keyword">return</span> <span class="ruby-ivar">@rubygems_version</span> <span class="ruby-keyword">if</span> <span class="ruby-keyword">defined?</span> <span class="ruby-ivar">@rubygems_version</span>
  <span class="ruby-ivar">@rubygems_version</span> = <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Version</span>.<span class="ruby-identifier">new</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">VERSION</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-sources">
            
              <b>sources</b>()
            
            <a href="../classes/Gem.html#method-c-sources" name="method-c-sources" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns an <a href="Array.html">Array</a> of sources to fetch remote gems
from. Uses default_sources if the sources list is empty.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-sources_source')" id="l_method-c-sources_source">show</a>
                
              </p>
              <div id="method-c-sources_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 985</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">sources</span>
  <span class="ruby-identifier">source_list</span> = <span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">sources</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">default_sources</span>
  <span class="ruby-ivar">@sources</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">SourceList</span>.<span class="ruby-identifier">from</span>(<span class="ruby-identifier">source_list</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-sources-3D">
            
              <b>sources=</b>(new_sources)
            
            <a href="../classes/Gem.html#method-c-sources-3D" name="method-c-sources-3D" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Need to be able to set the sources without calling <a
href="Gem.html#method-c-sources">::sources</a>.replace since that would
cause an infinite loop.</p>

<p>DOC: This comment is not documentation about the method itself, it&#39;s
more of a code comment about the implementation.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-sources-3D_source')" id="l_method-c-sources-3D_source">show</a>
                
              </p>
              <div id="method-c-sources-3D_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 997</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">sources=</span>(<span class="ruby-identifier">new_sources</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">new_sources</span>
    <span class="ruby-ivar">@sources</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-ivar">@sources</span> = <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">SourceList</span>.<span class="ruby-identifier">from</span>(<span class="ruby-identifier">new_sources</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-spec_cache_dir">
            
              <b>spec_cache_dir</b>()
            
            <a href="../classes/Gem.html#method-c-spec_cache_dir" name="method-c-spec_cache_dir" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-spec_cache_dir_source')" id="l_method-c-spec_cache_dir_source">show</a>
                
              </p>
              <div id="method-c-spec_cache_dir_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 431</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">spec_cache_dir</span>
  <span class="ruby-identifier">paths</span>.<span class="ruby-identifier">spec_cache_dir</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-suffix_pattern">
            
              <b>suffix_pattern</b>()
            
            <a href="../classes/Gem.html#method-c-suffix_pattern" name="method-c-suffix_pattern" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Glob pattern for require-able path suffixes.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-suffix_pattern_source')" id="l_method-c-suffix_pattern_source">show</a>
                
              </p>
              <div id="method-c-suffix_pattern_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 1008</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">suffix_pattern</span>
  <span class="ruby-ivar">@suffix_pattern</span> <span class="ruby-operator">||=</span> <span class="ruby-node">&quot;{#{suffixes.join(&#39;,&#39;)}}&quot;</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-suffixes">
            
              <b>suffixes</b>()
            
            <a href="../classes/Gem.html#method-c-suffixes" name="method-c-suffixes" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Suffixes for require-able paths.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-suffixes_source')" id="l_method-c-suffixes_source">show</a>
                
              </p>
              <div id="method-c-suffixes_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 1015</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">suffixes</span>
  <span class="ruby-ivar">@suffixes</span> <span class="ruby-operator">||=</span> [<span class="ruby-string">&#39;&#39;</span>,
                 <span class="ruby-string">&#39;.rb&#39;</span>,
                 <span class="ruby-operator">*</span><span class="ruby-node">%w(DLEXT DLEXT2)</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">key</span><span class="ruby-operator">|</span>
                   <span class="ruby-identifier">val</span> = <span class="ruby-constant">RbConfig</span><span class="ruby-operator">::</span><span class="ruby-constant">CONFIG</span>[<span class="ruby-identifier">key</span>]
                   <span class="ruby-keyword">next</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">val</span> <span class="ruby-keyword">and</span> <span class="ruby-keyword">not</span> <span class="ruby-identifier">val</span>.<span class="ruby-identifier">empty?</span>
                   <span class="ruby-node">&quot;.#{val}&quot;</span>
                 }
                ].<span class="ruby-identifier">compact</span>.<span class="ruby-identifier">uniq</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-time">
            
              <b>time</b>(msg, width = 0, display = Gem.configuration.verbose)
            
            <a href="../classes/Gem.html#method-c-time" name="method-c-time" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Prints the amount of time the supplied block takes to run using the debug
UI output.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-time_source')" id="l_method-c-time_source">show</a>
                
              </p>
              <div id="method-c-time_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 1030</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">time</span>(<span class="ruby-identifier">msg</span>, <span class="ruby-identifier">width</span> = <span class="ruby-number">0</span>, <span class="ruby-identifier">display</span> = <span class="ruby-constant">Gem</span>.<span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">verbose</span>)
  <span class="ruby-identifier">now</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>

  <span class="ruby-identifier">value</span> = <span class="ruby-keyword">yield</span>

  <span class="ruby-identifier">elapsed</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">now</span>

  <span class="ruby-identifier">ui</span>.<span class="ruby-identifier">say</span> <span class="ruby-string">&quot;%2$*1$s: %3$3.3fs&quot;</span> <span class="ruby-operator">%</span> [<span class="ruby-operator">-</span><span class="ruby-identifier">width</span>, <span class="ruby-identifier">msg</span>, <span class="ruby-identifier">elapsed</span>] <span class="ruby-keyword">if</span> <span class="ruby-identifier">display</span>

  <span class="ruby-identifier">value</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-try_activate">
            
              <b>try_activate</b>(path)
            
            <a href="../classes/Gem.html#method-c-try_activate" name="method-c-try_activate" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Try to activate a gem containing <code>path</code>. Returns true if
activation succeeded or wasn&#39;t needed because it was already activated.
Returns false if it can&#39;t find the path in a gem.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-try_activate_source')" id="l_method-c-try_activate_source">show</a>
                
              </p>
              <div id="method-c-try_activate_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 205</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">try_activate</span>(<span class="ruby-identifier">path</span>)
  <span class="ruby-comment"># finds the _latest_ version... regardless of loaded specs and their deps</span>
  <span class="ruby-comment"># if another gem had a requirement that would mean we shouldn&#39;t</span>
  <span class="ruby-comment"># activate the latest version, then either it would already be activated</span>
  <span class="ruby-comment"># or if it was ambiguous (and thus unresolved) the code in our custom</span>
  <span class="ruby-comment"># require will try to activate the more specific version.</span>

  <span class="ruby-identifier">spec</span> = <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Specification</span>.<span class="ruby-identifier">find_by_path</span> <span class="ruby-identifier">path</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">spec</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">true</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">activated?</span>

  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">activate</span>
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">LoadError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span> <span class="ruby-comment"># this could fail due to gem dep collisions, go lax</span>
    <span class="ruby-identifier">spec_by_name</span> = <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Specification</span>.<span class="ruby-identifier">find_by_name</span>(<span class="ruby-identifier">spec</span>.<span class="ruby-identifier">name</span>)
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">spec_by_name</span>.<span class="ruby-identifier">nil?</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-identifier">e</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">spec_by_name</span>.<span class="ruby-identifier">activate</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">return</span> <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-ui">
            
              <b>ui</b>()
            
            <a href="../classes/Gem.html#method-c-ui" name="method-c-ui" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Lazily loads DefaultUserInteraction and returns the default UI.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-ui_source')" id="l_method-c-ui_source">show</a>
                
              </p>
              <div id="method-c-ui_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 1045</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">ui</span>
  <span class="ruby-identifier">require</span> <span class="ruby-string">&#39;rubygems/user_interaction&#39;</span>

  <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">DefaultUserInteraction</span>.<span class="ruby-identifier">ui</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-use_gemdeps">
            
              <b>use_gemdeps</b>(path = nil)
            
            <a href="../classes/Gem.html#method-c-use_gemdeps" name="method-c-use_gemdeps" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Looks for a gem dependency file at <code>path</code> and activates the gems
in the file if found.  If the file is not found an <a
href="ArgumentError.html">ArgumentError</a> is raised.</p>

<p>If <code>path</code> is not given the RUBYGEMS_GEMDEPS environment variable
is used, but if no file is found no exception is raised.</p>

<p>If &#39;-&#39; is given for <code>path</code> RubyGems searches up from the
current working directory for gem dependency files (gem.deps.rb, Gemfile,
Isolate) and activates the gems in the first one found.</p>

<p>You can run this automatically when rubygems starts.  To enable, set the
<code>RUBYGEMS_GEMDEPS</code> environment variable to either the path of
your gem dependencies file or “-” to auto-discover in parent directories.</p>

<p>NOTE: Enabling automatic discovery on multiuser systems can lead to
execution of arbitrary code when used from directories outside your
control.</p>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="Gem.html#method-c-detect_gemdeps">detect_gemdeps</a>
            </div>
          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-use_gemdeps_source')" id="l_method-c-use_gemdeps_source">show</a>
                
              </p>
              <div id="method-c-use_gemdeps_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 1154</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">use_gemdeps</span>(<span class="ruby-identifier">path</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">raise_exception</span> = <span class="ruby-identifier">path</span>

  <span class="ruby-identifier">path</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">ENV</span>[<span class="ruby-string">&#39;RUBYGEMS_GEMDEPS&#39;</span>]
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">path</span>

  <span class="ruby-identifier">path</span> = <span class="ruby-identifier">path</span>.<span class="ruby-identifier">dup</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">path</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;-&quot;</span>
    <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Util</span>.<span class="ruby-identifier">traverse_parents</span> <span class="ruby-constant">Dir</span>.<span class="ruby-identifier">pwd</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">directory</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">dep_file</span> = <span class="ruby-constant">GEM_DEP_FILES</span>.<span class="ruby-identifier">find</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">file?</span>(<span class="ruby-identifier">f</span>) }

      <span class="ruby-keyword">next</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">dep_file</span>

      <span class="ruby-identifier">path</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span> <span class="ruby-identifier">directory</span>, <span class="ruby-identifier">dep_file</span>
      <span class="ruby-keyword">break</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">path</span>.<span class="ruby-identifier">untaint</span>

  <span class="ruby-keyword">unless</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">file?</span> <span class="ruby-identifier">path</span>
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">raise_exception</span>

    <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-node">&quot;Unable to find gem dependencies file at #{path}&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">if</span> <span class="ruby-constant">USE_BUNDLER_FOR_GEMDEPS</span>

    <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;BUNDLE_GEMFILE&quot;</span>] <span class="ruby-operator">||=</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-identifier">path</span>)
    <span class="ruby-identifier">require</span> <span class="ruby-string">&#39;rubygems/user_interaction&#39;</span>
    <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">DefaultUserInteraction</span>.<span class="ruby-identifier">use_ui</span>(<span class="ruby-identifier">ui</span>) <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">require</span> <span class="ruby-string">&quot;bundler&quot;</span>
      <span class="ruby-ivar">@gemdeps</span> = <span class="ruby-constant">Bundler</span>.<span class="ruby-identifier">setup</span>
      <span class="ruby-constant">Bundler</span>.<span class="ruby-identifier">ui</span> = <span class="ruby-keyword">nil</span>
      <span class="ruby-ivar">@gemdeps</span>.<span class="ruby-identifier">requested_specs</span>.<span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:to_spec</span>).<span class="ruby-identifier">sort_by</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:name</span>)
    <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">else</span>

    <span class="ruby-identifier">rs</span> = <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">RequestSet</span>.<span class="ruby-identifier">new</span>
    <span class="ruby-ivar">@gemdeps</span> = <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">load_gemdeps</span> <span class="ruby-identifier">path</span>

    <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">resolve_current</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">s</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">s</span>.<span class="ruby-identifier">full_spec</span>.<span class="ruby-identifier">tap</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:activate</span>)
    <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">rescue</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
  <span class="ruby-keyword">case</span> <span class="ruby-identifier">e</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">LoadError</span>, <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">UnsatisfiableDependencyError</span>, (<span class="ruby-keyword">defined?</span>(<span class="ruby-constant">Bundler</span><span class="ruby-operator">::</span><span class="ruby-constant">GemNotFound</span>) <span class="ruby-operator">?</span> <span class="ruby-constant">Bundler</span><span class="ruby-operator">::</span><span class="ruby-constant">GemNotFound</span> <span class="ruby-operator">:</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">LoadError</span>)
    <span class="ruby-identifier">warn</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">message</span>
    <span class="ruby-identifier">warn</span> <span class="ruby-string">&quot;You may need to `gem install -g` to install missing gems&quot;</span>
    <span class="ruby-identifier">warn</span> <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">raise</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-use_paths">
            
              <b>use_paths</b>(home, *paths)
            
            <a href="../classes/Gem.html#method-c-use_paths" name="method-c-use_paths" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Use the <code>home</code> and <code>paths</code> values for <a
href="Gem.html#method-c-dir">::dir</a> and <a
href="Gem.html#method-c-path">::path</a>.  Used mainly by the unit tests to
provide environment isolation.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-use_paths_source')" id="l_method-c-use_paths_source">show</a>
                
              </p>
              <div id="method-c-use_paths_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 1055</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">use_paths</span>(<span class="ruby-identifier">home</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">paths</span>)
  <span class="ruby-identifier">paths</span>.<span class="ruby-identifier">flatten!</span>
  <span class="ruby-identifier">paths</span>.<span class="ruby-identifier">compact!</span>
  <span class="ruby-identifier">hash</span> = { <span class="ruby-string">&quot;GEM_HOME&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">home</span>, <span class="ruby-string">&quot;GEM_PATH&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">paths</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">home</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">paths</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">File</span><span class="ruby-operator">::</span><span class="ruby-constant">PATH_SEPARATOR</span>) }
  <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">delete_if</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">_</span>, <span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">v</span>.<span class="ruby-identifier">nil?</span> }
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">paths</span> = <span class="ruby-identifier">hash</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-user_home">
            
              <b>user_home</b>()
            
            <a href="../classes/Gem.html#method-c-user_home" name="method-c-user_home" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>The home directory for the user.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-user_home_source')" id="l_method-c-user_home_source">show</a>
                
              </p>
              <div id="method-c-user_home_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 1066</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">user_home</span>
  <span class="ruby-ivar">@user_home</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">find_home</span>.<span class="ruby-identifier">untaint</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-win_platform-3F">
            
              <b>win_platform?</b>()
            
            <a href="../classes/Gem.html#method-c-win_platform-3F" name="method-c-win_platform-3F" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Is this a windows platform?</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-win_platform-3F_source')" id="l_method-c-win_platform-3F_source">show</a>
                
              </p>
              <div id="method-c-win_platform-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 1073</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">win_platform?</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">@@win_platform</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-identifier">ruby_platform</span> = <span class="ruby-constant">RbConfig</span><span class="ruby-operator">::</span><span class="ruby-constant">CONFIG</span>[<span class="ruby-string">&#39;host_os&#39;</span>]
    <span class="ruby-identifier">@@win_platform</span> = <span class="ruby-operator">!</span><span class="ruby-operator">!</span><span class="ruby-constant">WIN_PATTERNS</span>.<span class="ruby-identifier">find</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">r</span><span class="ruby-operator">|</span> <span class="ruby-identifier">ruby_platform</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">r</span> }
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">@@win_platform</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-write_binary">
            
              <b>write_binary</b>(path, data)
            
            <a href="../classes/Gem.html#method-c-write_binary" name="method-c-write_binary" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Safely write a file in binary mode on all platforms.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-write_binary_source')" id="l_method-c-write_binary_source">show</a>
                
              </p>
              <div id="method-c-write_binary_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rubygems.rb, line 875</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">write_binary</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">data</span>)
  <span class="ruby-identifier">open</span>(<span class="ruby-identifier">path</span>, <span class="ruby-string">&#39;wb&#39;</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">io</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">begin</span>
      <span class="ruby-identifier">io</span>.<span class="ruby-identifier">flock</span>(<span class="ruby-constant">File</span><span class="ruby-operator">::</span><span class="ruby-constant">LOCK_EX</span>)
    <span class="ruby-keyword">rescue</span> <span class="ruby-operator">*</span><span class="ruby-constant">WRITE_BINARY_ERRORS</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">io</span>.<span class="ruby-identifier">write</span> <span class="ruby-identifier">data</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">rescue</span> <span class="ruby-constant">Errno</span><span class="ruby-operator">::</span><span class="ruby-constant">ENOLCK</span> <span class="ruby-comment"># NFS</span>
  <span class="ruby-keyword">if</span> <span class="ruby-constant">Thread</span>.<span class="ruby-identifier">main</span> <span class="ruby-operator">!=</span> <span class="ruby-constant">Thread</span>.<span class="ruby-identifier">current</span>
    <span class="ruby-identifier">raise</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">open</span>(<span class="ruby-identifier">path</span>, <span class="ruby-string">&#39;wb&#39;</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">io</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">io</span>.<span class="ruby-identifier">write</span> <span class="ruby-identifier">data</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
                        </div>

    </div>
  </body>
</html>
