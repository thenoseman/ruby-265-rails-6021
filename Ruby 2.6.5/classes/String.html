<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>String</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../css/github.css" type="text/css" media="screen" />
<script src="../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>
    <div class="banner">
        
        <h1>
            <span class="type">Class</span>
            String
            
                <span class="parent">&lt;
                    
                    <a href="Object.html">Object</a>
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../files/complex_c.html">complex.c</a></li>
            
            <li><a href="../files/ext/bigdecimal/lib/bigdecimal/util_rb.html">ext/bigdecimal/lib/bigdecimal/util.rb</a></li>
            
            <li><a href="../files/ext/nkf/lib/kconv_rb.html">ext/nkf/lib/kconv.rb</a></li>
            
            <li><a href="../files/lib/csv/core_ext/string_rb.html">lib/csv/core_ext/string.rb</a></li>
            
            <li><a href="../files/lib/mkmf_rb.html">lib/mkmf.rb</a></li>
            
            <li><a href="../files/lib/pp_rb.html">lib/pp.rb</a></li>
            
            <li><a href="../files/lib/scanf_rb.html">lib/scanf.rb</a></li>
            
            <li><a href="../files/lib/shellwords_rb.html">lib/shellwords.rb</a></li>
            
            <li><a href="../files/pack_c.html">pack.c</a></li>
            
            <li><a href="../files/rational_c.html">rational.c</a></li>
            
            <li><a href="../files/string_c.html">string.c</a></li>
            
            <li><a href="../files/transcode_c.html">transcode.c</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<p>A <code>String</code> object holds and manipulates an arbitrary sequence of
bytes, typically representing characters. <a href="String.html">String</a>
objects may be created using <code>String::new</code> or as literals.</p>

<p>Because of aliasing issues, users of strings should be aware of the methods
that modify the contents of a <code>String</code> object.  Typically,
methods with names ending in “!&#39;&#39; modify their receiver, while
those without a “!&#39;&#39; return a new <code>String</code>.  However,
there are exceptions, such as <code>String#[]=</code>.</p>

    </div>
  


  


  
  
    <!-- Sections -->
    <div class="sectiontitle">Sections</div>
    <ul>
      
        <li><a href="#scanf">scanf</a></li>
      
    </ul>
  


  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>#</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-25">%</a>,
              </li>
            
              
              <li>
                <a href="#method-i-2A">*</a>,
              </li>
            
              
              <li>
                <a href="#method-i-2B">+</a>,
              </li>
            
              
              <li>
                <a href="#method-i-2B-40">+@</a>,
              </li>
            
              
              <li>
                <a href="#method-i-2D-40">-@</a>,
              </li>
            
              
              <li>
                <a href="#method-i-3C-3C">&lt;&lt;</a>,
              </li>
            
              
              <li>
                <a href="#method-i-3C-3D-3E">&lt;=&gt;</a>,
              </li>
            
              
              <li>
                <a href="#method-i-3D-3D">==</a>,
              </li>
            
              
              <li>
                <a href="#method-i-3D-3D-3D">===</a>,
              </li>
            
              
              <li>
                <a href="#method-i-3D~">=~</a>,
              </li>
            
              
              <li>
                <a href="#method-i-5B-5D">[]</a>,
              </li>
            
              
              <li>
                <a href="#method-i-5B-5D-3D">[]=</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>A</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-ascii_only-3F">ascii_only?</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>B</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-b">b</a>,
              </li>
            
              
              <li>
                <a href="#method-i-block_scanf">block_scanf</a>,
              </li>
            
              
              <li>
                <a href="#method-i-bytes">bytes</a>,
              </li>
            
              
              <li>
                <a href="#method-i-bytesize">bytesize</a>,
              </li>
            
              
              <li>
                <a href="#method-i-byteslice">byteslice</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>C</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-capitalize">capitalize</a>,
              </li>
            
              
              <li>
                <a href="#method-i-capitalize-21">capitalize!</a>,
              </li>
            
              
              <li>
                <a href="#method-i-casecmp">casecmp</a>,
              </li>
            
              
              <li>
                <a href="#method-i-casecmp-3F">casecmp?</a>,
              </li>
            
              
              <li>
                <a href="#method-i-center">center</a>,
              </li>
            
              
              <li>
                <a href="#method-i-chars">chars</a>,
              </li>
            
              
              <li>
                <a href="#method-i-chomp">chomp</a>,
              </li>
            
              
              <li>
                <a href="#method-i-chomp-21">chomp!</a>,
              </li>
            
              
              <li>
                <a href="#method-i-chop">chop</a>,
              </li>
            
              
              <li>
                <a href="#method-i-chop-21">chop!</a>,
              </li>
            
              
              <li>
                <a href="#method-i-chr">chr</a>,
              </li>
            
              
              <li>
                <a href="#method-i-clear">clear</a>,
              </li>
            
              
              <li>
                <a href="#method-i-codepoints">codepoints</a>,
              </li>
            
              
              <li>
                <a href="#method-i-concat">concat</a>,
              </li>
            
              
              <li>
                <a href="#method-i-count">count</a>,
              </li>
            
              
              <li>
                <a href="#method-i-crypt">crypt</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>D</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-delete">delete</a>,
              </li>
            
              
              <li>
                <a href="#method-i-delete-21">delete!</a>,
              </li>
            
              
              <li>
                <a href="#method-i-delete_prefix">delete_prefix</a>,
              </li>
            
              
              <li>
                <a href="#method-i-delete_prefix-21">delete_prefix!</a>,
              </li>
            
              
              <li>
                <a href="#method-i-delete_suffix">delete_suffix</a>,
              </li>
            
              
              <li>
                <a href="#method-i-delete_suffix-21">delete_suffix!</a>,
              </li>
            
              
              <li>
                <a href="#method-i-downcase">downcase</a>,
              </li>
            
              
              <li>
                <a href="#method-i-downcase-21">downcase!</a>,
              </li>
            
              
              <li>
                <a href="#method-i-dump">dump</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>E</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-each_byte">each_byte</a>,
              </li>
            
              
              <li>
                <a href="#method-i-each_char">each_char</a>,
              </li>
            
              
              <li>
                <a href="#method-i-each_codepoint">each_codepoint</a>,
              </li>
            
              
              <li>
                <a href="#method-i-each_grapheme_cluster">each_grapheme_cluster</a>,
              </li>
            
              
              <li>
                <a href="#method-i-each_line">each_line</a>,
              </li>
            
              
              <li>
                <a href="#method-i-empty-3F">empty?</a>,
              </li>
            
              
              <li>
                <a href="#method-i-encode">encode</a>,
              </li>
            
              
              <li>
                <a href="#method-i-encode-21">encode!</a>,
              </li>
            
              
              <li>
                <a href="#method-i-encoding">encoding</a>,
              </li>
            
              
              <li>
                <a href="#method-i-end_with-3F">end_with?</a>,
              </li>
            
              
              <li>
                <a href="#method-i-eql-3F">eql?</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>F</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-force_encoding">force_encoding</a>,
              </li>
            
              
              <li>
                <a href="#method-i-freeze">freeze</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>G</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-getbyte">getbyte</a>,
              </li>
            
              
              <li>
                <a href="#method-i-grapheme_clusters">grapheme_clusters</a>,
              </li>
            
              
              <li>
                <a href="#method-i-gsub">gsub</a>,
              </li>
            
              
              <li>
                <a href="#method-i-gsub-21">gsub!</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>H</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-hash">hash</a>,
              </li>
            
              
              <li>
                <a href="#method-i-hex">hex</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>I</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-include-3F">include?</a>,
              </li>
            
              
              <li>
                <a href="#method-i-index">index</a>,
              </li>
            
              
              <li>
                <a href="#method-i-initialize_copy">initialize_copy</a>,
              </li>
            
              
              <li>
                <a href="#method-i-insert">insert</a>,
              </li>
            
              
              <li>
                <a href="#method-i-inspect">inspect</a>,
              </li>
            
              
              <li>
                <a href="#method-i-intern">intern</a>,
              </li>
            
              
              <li>
                <a href="#method-i-iseuc">iseuc</a>,
              </li>
            
              
              <li>
                <a href="#method-i-isjis">isjis</a>,
              </li>
            
              
              <li>
                <a href="#method-i-issjis">issjis</a>,
              </li>
            
              
              <li>
                <a href="#method-i-isutf8">isutf8</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>K</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-kconv">kconv</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>L</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-length">length</a>,
              </li>
            
              
              <li>
                <a href="#method-i-lines">lines</a>,
              </li>
            
              
              <li>
                <a href="#method-i-ljust">ljust</a>,
              </li>
            
              
              <li>
                <a href="#method-i-lstrip">lstrip</a>,
              </li>
            
              
              <li>
                <a href="#method-i-lstrip-21">lstrip!</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>M</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-match">match</a>,
              </li>
            
              
              <li>
                <a href="#method-i-match-3F">match?</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>N</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-new">new</a>,
              </li>
            
              
              <li>
                <a href="#method-i-next">next</a>,
              </li>
            
              
              <li>
                <a href="#method-i-next-21">next!</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>O</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-oct">oct</a>,
              </li>
            
              
              <li>
                <a href="#method-i-ord">ord</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>P</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-partition">partition</a>,
              </li>
            
              
              <li>
                <a href="#method-i-prepend">prepend</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>R</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-replace">replace</a>,
              </li>
            
              
              <li>
                <a href="#method-i-reverse">reverse</a>,
              </li>
            
              
              <li>
                <a href="#method-i-reverse-21">reverse!</a>,
              </li>
            
              
              <li>
                <a href="#method-i-rindex">rindex</a>,
              </li>
            
              
              <li>
                <a href="#method-i-rjust">rjust</a>,
              </li>
            
              
              <li>
                <a href="#method-i-rpartition">rpartition</a>,
              </li>
            
              
              <li>
                <a href="#method-i-rstrip">rstrip</a>,
              </li>
            
              
              <li>
                <a href="#method-i-rstrip-21">rstrip!</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>S</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-scan">scan</a>,
              </li>
            
              
              <li>
                <a href="#method-i-scanf">scanf</a>,
              </li>
            
              
              <li>
                <a href="#method-i-scrub">scrub</a>,
              </li>
            
              
              <li>
                <a href="#method-i-scrub-21">scrub!</a>,
              </li>
            
              
              <li>
                <a href="#method-i-setbyte">setbyte</a>,
              </li>
            
              
              <li>
                <a href="#method-i-shellescape">shellescape</a>,
              </li>
            
              
              <li>
                <a href="#method-i-shellsplit">shellsplit</a>,
              </li>
            
              
              <li>
                <a href="#method-i-size">size</a>,
              </li>
            
              
              <li>
                <a href="#method-i-slice">slice</a>,
              </li>
            
              
              <li>
                <a href="#method-i-slice-21">slice!</a>,
              </li>
            
              
              <li>
                <a href="#method-i-split">split</a>,
              </li>
            
              
              <li>
                <a href="#method-i-squeeze">squeeze</a>,
              </li>
            
              
              <li>
                <a href="#method-i-squeeze-21">squeeze!</a>,
              </li>
            
              
              <li>
                <a href="#method-i-start_with-3F">start_with?</a>,
              </li>
            
              
              <li>
                <a href="#method-i-strip">strip</a>,
              </li>
            
              
              <li>
                <a href="#method-i-strip-21">strip!</a>,
              </li>
            
              
              <li>
                <a href="#method-i-sub">sub</a>,
              </li>
            
              
              <li>
                <a href="#method-i-sub-21">sub!</a>,
              </li>
            
              
              <li>
                <a href="#method-i-succ">succ</a>,
              </li>
            
              
              <li>
                <a href="#method-i-succ-21">succ!</a>,
              </li>
            
              
              <li>
                <a href="#method-i-sum">sum</a>,
              </li>
            
              
              <li>
                <a href="#method-i-swapcase">swapcase</a>,
              </li>
            
              
              <li>
                <a href="#method-i-swapcase-21">swapcase!</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>T</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-to_c">to_c</a>,
              </li>
            
              
              <li>
                <a href="#method-i-to_f">to_f</a>,
              </li>
            
              
              <li>
                <a href="#method-i-to_i">to_i</a>,
              </li>
            
              
              <li>
                <a href="#method-i-to_r">to_r</a>,
              </li>
            
              
              <li>
                <a href="#method-i-to_s">to_s</a>,
              </li>
            
              
              <li>
                <a href="#method-i-to_str">to_str</a>,
              </li>
            
              
              <li>
                <a href="#method-i-to_sym">to_sym</a>,
              </li>
            
              
              <li>
                <a href="#method-i-toeuc">toeuc</a>,
              </li>
            
              
              <li>
                <a href="#method-i-tojis">tojis</a>,
              </li>
            
              
              <li>
                <a href="#method-i-tolocale">tolocale</a>,
              </li>
            
              
              <li>
                <a href="#method-i-tosjis">tosjis</a>,
              </li>
            
              
              <li>
                <a href="#method-i-toutf16">toutf16</a>,
              </li>
            
              
              <li>
                <a href="#method-i-toutf32">toutf32</a>,
              </li>
            
              
              <li>
                <a href="#method-i-toutf8">toutf8</a>,
              </li>
            
              
              <li>
                <a href="#method-i-tr">tr</a>,
              </li>
            
              
              <li>
                <a href="#method-i-tr-21">tr!</a>,
              </li>
            
              
              <li>
                <a href="#method-i-tr_s">tr_s</a>,
              </li>
            
              
              <li>
                <a href="#method-i-tr_s-21">tr_s!</a>,
              </li>
            
              
              <li>
                <a href="#method-c-try_convert">try_convert</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>U</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-undump">undump</a>,
              </li>
            
              
              <li>
                <a href="#method-i-unicode_normalize">unicode_normalize</a>,
              </li>
            
              
              <li>
                <a href="#method-i-unicode_normalize-21">unicode_normalize!</a>,
              </li>
            
              
              <li>
                <a href="#method-i-unicode_normalized-3F">unicode_normalized?</a>,
              </li>
            
              
              <li>
                <a href="#method-i-unpack">unpack</a>,
              </li>
            
              
              <li>
                <a href="#method-i-unpack1">unpack1</a>,
              </li>
            
              
              <li>
                <a href="#method-i-upcase">upcase</a>,
              </li>
            
              
              <li>
                <a href="#method-i-upcase-21">upcase!</a>,
              </li>
            
              
              <li>
                <a href="#method-i-upto">upto</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>V</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-valid_encoding-3F">valid_encoding?</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  
    <!-- Includes -->
    <div class="sectiontitle">Included Modules</div>
    <ul>
      
        <li>
          
            <a href="Comparable.html">
              Comparable
            </a>
          
        </li>
      
    </ul>
  



  

    

    

    


    


    <!-- Methods -->
        
      <div class="sectiontitle">Instance Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-i-iseuc">
            
              <b>String#iseuc   => true or false
</b>
            
            <a href="../classes/String.html#method-i-iseuc" name="method-i-iseuc" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns whether <code>self</code>&#39;s encoding is EUC-JP or not.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-iseuc_source')" id="l_method-i-iseuc_source">show</a>
                
              </p>
              <div id="method-i-iseuc_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ext/nkf/lib/kconv.rb, line 264</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">iseuc</span>;    <span class="ruby-constant">Kconv</span>.<span class="ruby-identifier">iseuc</span>(<span class="ruby-keyword">self</span>) <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-isjis">
            
              <b>String#isjis   => true or false
</b>
            
            <a href="../classes/String.html#method-i-isjis" name="method-i-isjis" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns whether <code>self</code>&#39;s encoding is ISO-2022-JP or not.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-isjis_source')" id="l_method-i-isjis_source">show</a>
                
              </p>
              <div id="method-i-isjis_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ext/nkf/lib/kconv.rb, line 276</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">isjis</span>;    <span class="ruby-constant">Kconv</span>.<span class="ruby-identifier">isjis</span>(<span class="ruby-keyword">self</span>) <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-issjis">
            
              <b>String#issjis   => true or false
</b>
            
            <a href="../classes/String.html#method-i-issjis" name="method-i-issjis" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns whether <code>self</code>&#39;s encoding is Shift_JIS or not.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-issjis_source')" id="l_method-i-issjis_source">show</a>
                
              </p>
              <div id="method-i-issjis_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ext/nkf/lib/kconv.rb, line 270</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">issjis</span>;   <span class="ruby-constant">Kconv</span>.<span class="ruby-identifier">issjis</span>(<span class="ruby-keyword">self</span>) <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-isutf8">
            
              <b>String#isutf8   => true or false
</b>
            
            <a href="../classes/String.html#method-i-isutf8" name="method-i-isutf8" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns whether <code>self</code>&#39;s encoding is UTF-8 or not.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-isutf8_source')" id="l_method-i-isutf8_source">show</a>
                
              </p>
              <div id="method-i-isutf8_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ext/nkf/lib/kconv.rb, line 282</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">isutf8</span>;   <span class="ruby-constant">Kconv</span>.<span class="ruby-identifier">isutf8</span>(<span class="ruby-keyword">self</span>) <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-kconv">
            
              <b>String#kconv(to_enc, from_enc)
</b>
            
            <a href="../classes/String.html#method-i-kconv" name="method-i-kconv" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Convert <code>self</code> to <code>to_enc</code>. <code>to_enc</code> and
<code>from_enc</code> are given as constants of <a
href="Kconv.html">Kconv</a> or <a href="Encoding.html">Encoding</a>
objects.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-kconv_source')" id="l_method-i-kconv_source">show</a>
                
              </p>
              <div id="method-i-kconv_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ext/nkf/lib/kconv.rb, line 205</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">kconv</span>(<span class="ruby-identifier">to_enc</span>, <span class="ruby-identifier">from_enc</span>=<span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">from_enc</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">encoding</span> <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">from_enc</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">encoding</span> <span class="ruby-operator">!=</span> <span class="ruby-constant">Encoding</span>.<span class="ruby-identifier">list</span>[<span class="ruby-number">0</span>]
  <span class="ruby-constant">Kconv</span><span class="ruby-operator">::</span><span class="ruby-identifier">kconv</span>(<span class="ruby-keyword">self</span>, <span class="ruby-identifier">to_enc</span>, <span class="ruby-identifier">from_enc</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-to_c">
            
              <b>str.to_c  &rarr;  complex
</b>
            
            <a href="../classes/String.html#method-i-to_c" name="method-i-to_c" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns a complex which denotes the string form.  The parser ignores
leading whitespaces and trailing garbage.  Any digit sequences can be
separated by an underscore.  Returns zero for null or garbage string.</p>

<pre><code>&#39;9&#39;.to_c           #=&gt; (9+0i)
&#39;2.5&#39;.to_c         #=&gt; (2.5+0i)
&#39;2.5/1&#39;.to_c       #=&gt; ((5/2)+0i)
&#39;-3/2&#39;.to_c        #=&gt; ((-3/2)+0i)
&#39;-i&#39;.to_c          #=&gt; (0-1i)
&#39;45i&#39;.to_c         #=&gt; (0+45i)
&#39;3-4i&#39;.to_c        #=&gt; (3-4i)
&#39;-4e2-4e-2i&#39;.to_c  #=&gt; (-400.0-0.04i)
&#39;-0.0-0.0i&#39;.to_c   #=&gt; (-0.0-0.0i)
&#39;1/2+3/4i&#39;.to_c    #=&gt; ((1/2)+(3/4)*i)
&#39;ruby&#39;.to_c        #=&gt; (0+0i)
</code></pre>

<p>See <a href="Kernel.html">Kernel</a>.Complex.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-to_c_source')" id="l_method-i-to_c_source">show</a>
                
              </p>
              <div id="method-i-to_c_source" class="dyn-source">
                <pre>static VALUE
string_to_c(VALUE self)
{
    char *s;
    VALUE num;

    rb_must_asciicompat(self);

    s = RSTRING_PTR(self);

    if (s &amp;&amp; s[RSTRING_LEN(self)]) {
        rb_str_modify(self);
        s = RSTRING_PTR(self);
        s[RSTRING_LEN(self)] = &#39;\0&#39;;
    }

    if (!s)
        s = (char *)&quot;&quot;;

    (void)parse_comp(s, 0, &amp;num);

    return num;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-toeuc">
            
              <b>String#toeuc   => string
</b>
            
            <a href="../classes/String.html#method-i-toeuc" name="method-i-toeuc" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Convert <code>self</code> to EUC-JP</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-toeuc_source')" id="l_method-i-toeuc_source">show</a>
                
              </p>
              <div id="method-i-toeuc_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ext/nkf/lib/kconv.rb, line 224</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">toeuc</span>; <span class="ruby-constant">Kconv</span>.<span class="ruby-identifier">toeuc</span>(<span class="ruby-keyword">self</span>) <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-tojis">
            
              <b>String#tojis   => string
</b>
            
            <a href="../classes/String.html#method-i-tojis" name="method-i-tojis" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Convert <code>self</code> to ISO-2022-JP</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-tojis_source')" id="l_method-i-tojis_source">show</a>
                
              </p>
              <div id="method-i-tojis_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ext/nkf/lib/kconv.rb, line 218</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">tojis</span>; <span class="ruby-constant">Kconv</span>.<span class="ruby-identifier">tojis</span>(<span class="ruby-keyword">self</span>) <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-tolocale">
            
              <b>String#tolocale   => string
</b>
            
            <a href="../classes/String.html#method-i-tolocale" name="method-i-tolocale" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Convert <code>self</code> to locale encoding</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-tolocale_source')" id="l_method-i-tolocale_source">show</a>
                
              </p>
              <div id="method-i-tolocale_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ext/nkf/lib/kconv.rb, line 254</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">tolocale</span>; <span class="ruby-constant">Kconv</span>.<span class="ruby-identifier">tolocale</span>(<span class="ruby-keyword">self</span>) <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-tosjis">
            
              <b>String#tosjis   => string
</b>
            
            <a href="../classes/String.html#method-i-tosjis" name="method-i-tosjis" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Convert <code>self</code> to Shift_JIS</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-tosjis_source')" id="l_method-i-tosjis_source">show</a>
                
              </p>
              <div id="method-i-tosjis_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ext/nkf/lib/kconv.rb, line 230</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">tosjis</span>; <span class="ruby-constant">Kconv</span>.<span class="ruby-identifier">tosjis</span>(<span class="ruby-keyword">self</span>) <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-toutf16">
            
              <b>String#toutf16   => string
</b>
            
            <a href="../classes/String.html#method-i-toutf16" name="method-i-toutf16" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Convert <code>self</code> to UTF-16</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-toutf16_source')" id="l_method-i-toutf16_source">show</a>
                
              </p>
              <div id="method-i-toutf16_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ext/nkf/lib/kconv.rb, line 242</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">toutf16</span>; <span class="ruby-constant">Kconv</span>.<span class="ruby-identifier">toutf16</span>(<span class="ruby-keyword">self</span>) <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-toutf32">
            
              <b>String#toutf32   => string
</b>
            
            <a href="../classes/String.html#method-i-toutf32" name="method-i-toutf32" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Convert <code>self</code> to UTF-32</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-toutf32_source')" id="l_method-i-toutf32_source">show</a>
                
              </p>
              <div id="method-i-toutf32_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ext/nkf/lib/kconv.rb, line 248</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">toutf32</span>; <span class="ruby-constant">Kconv</span>.<span class="ruby-identifier">toutf32</span>(<span class="ruby-keyword">self</span>) <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-toutf8">
            
              <b>String#toutf8   => string
</b>
            
            <a href="../classes/String.html#method-i-toutf8" name="method-i-toutf8" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Convert <code>self</code> to UTF-8</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-toutf8_source')" id="l_method-i-toutf8_source">show</a>
                
              </p>
              <div id="method-i-toutf8_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ext/nkf/lib/kconv.rb, line 236</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">toutf8</span>; <span class="ruby-constant">Kconv</span>.<span class="ruby-identifier">toutf8</span>(<span class="ruby-keyword">self</span>) <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
                    

    
      <div class="contenttitle" id="scanf">
        scanf
      </div>
    

    

    


    


    <!-- Methods -->
    
      <div class="sectiontitle">Class Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-c-new">
            
              <b>String.new(str="")                   &rarr; new_str<br />String.new(str="", encoding: enc)    &rarr; new_str<br />String.new(str="", capacity: size)   &rarr; new_str
</b>
            
            <a href="../classes/String.html#method-c-new" name="method-c-new" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns a new string object containing a copy of <em>str</em>.</p>

<p>The optional <em>encoding</em> keyword argument specifies the encoding of
the new string. If not specified, the encoding of <em>str</em> is used (or
ASCII-8BIT, if <em>str</em> is not specified).</p>

<p>The optional <em>capacity</em> keyword argument specifies the size of the
internal buffer. This may improve performance, when the string will be
concatenated many times (causing many realloc calls).</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-new_source')" id="l_method-c-new_source">show</a>
                
              </p>
              <div id="method-c-new_source" class="dyn-source">
                <pre>static VALUE
rb_str_init(int argc, VALUE *argv, VALUE str)
{
    static ID keyword_ids[2];
    VALUE orig, opt, venc, vcapa;
    VALUE kwargs[2];
    rb_encoding *enc = 0;
    int n;

    if (!keyword_ids[0]) {
        keyword_ids[0] = rb_id_encoding();
        CONST_ID(keyword_ids[1], &quot;capacity&quot;);
    }

    n = rb_scan_args(argc, argv, &quot;01:&quot;, &amp;orig, &amp;opt);
    if (!NIL_P(opt)) {
        rb_get_kwargs(opt, keyword_ids, 0, 2, kwargs);
        venc = kwargs[0];
        vcapa = kwargs[1];
        if (venc != Qundef &amp;&amp; !NIL_P(venc)) {
            enc = rb_to_encoding(venc);
        }
        if (vcapa != Qundef &amp;&amp; !NIL_P(vcapa)) {
            long capa = NUM2LONG(vcapa);
            long len = 0;
            int termlen = enc ? rb_enc_mbminlen(enc) : 1;

            if (capa &lt; STR_BUF_MIN_SIZE) {
                capa = STR_BUF_MIN_SIZE;
            }
            if (n == 1) {
                StringValue(orig);
                len = RSTRING_LEN(orig);
                if (capa &lt; len) {
                    capa = len;
                }
                if (orig == str) n = 0;
            }
            str_modifiable(str);
            if (STR_EMBED_P(str)) { /* make noembed always */
                char *new_ptr = ALLOC_N(char, (size_t)capa + termlen);
                memcpy(new_ptr, RSTRING(str)-&gt;as.ary, RSTRING_EMBED_LEN_MAX + 1);
                RSTRING(str)-&gt;as.heap.ptr = new_ptr;
            }
            else if (FL_TEST(str, STR_SHARED|STR_NOFREE)) {
                const size_t size = (size_t)capa + termlen;
                const char *const old_ptr = RSTRING_PTR(str);
                const size_t osize = RSTRING(str)-&gt;as.heap.len + TERM_LEN(str);
                char *new_ptr = ALLOC_N(char, (size_t)capa + termlen);
                memcpy(new_ptr, old_ptr, osize &lt; size ? osize : size);
                FL_UNSET_RAW(str, STR_SHARED);
                RSTRING(str)-&gt;as.heap.ptr = new_ptr;
            }
            else if (STR_HEAP_SIZE(str) != (size_t)capa + termlen) {
                SIZED_REALLOC_N(RSTRING(str)-&gt;as.heap.ptr, char,
                        (size_t)capa + termlen, STR_HEAP_SIZE(str));
            }
            RSTRING(str)-&gt;as.heap.len = len;
            TERM_FILL(&amp;RSTRING(str)-&gt;as.heap.ptr[len], termlen);
            if (n == 1) {
                memcpy(RSTRING(str)-&gt;as.heap.ptr, RSTRING_PTR(orig), len);
                rb_enc_cr_str_exact_copy(str, orig);
            }
            FL_SET(str, STR_NOEMBED);
            RSTRING(str)-&gt;as.heap.aux.capa = capa;
        }
        else if (n == 1) {
            rb_str_replace(str, orig);
        }
        if (enc) {
            rb_enc_associate(str, enc);
            ENC_CODERANGE_CLEAR(str);
        }
    }
    else if (n == 1) {
        rb_str_replace(str, orig);
    }
    return str;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-try_convert">
            
              <b>String.try_convert(obj) &rarr; string or nil
</b>
            
            <a href="../classes/String.html#method-c-try_convert" name="method-c-try_convert" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Try to convert <em>obj</em> into a <a href="String.html">String</a>, using
<a href="String.html#method-i-to_str">#to_str</a> method. Returns converted
string or nil if <em>obj</em> cannot be converted for any reason.</p>

<pre><code>String.try_convert(&quot;str&quot;)     #=&gt; &quot;str&quot;
String.try_convert(/re/)      #=&gt; nil
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-try_convert_source')" id="l_method-c-try_convert_source">show</a>
                
              </p>
              <div id="method-c-try_convert_source" class="dyn-source">
                <pre>static VALUE
rb_str_s_try_convert(VALUE dummy, VALUE str)
{
    return rb_check_string_type(str);
}</pre>
              </div>
            </div>
            
          </div>
                  
      <div class="sectiontitle">Instance Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-i-25">
            
              <b>str % arg   &rarr; new_str
</b>
            
            <a href="../classes/String.html#method-i-25" name="method-i-25" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Format—Uses <em>str</em> as a format specification, and returns the result
of applying it to <em>arg</em>. If the format specification contains more
than one substitution, then <em>arg</em> must be an <code>Array</code> or
<code>Hash</code> containing the values to be substituted. See
<code>Kernel::sprintf</code> for details of the format string.</p>

<pre><code>&quot;%05d&quot; % 123                              #=&gt; &quot;00123&quot;
&quot;%-5s: %016x&quot; % [ &quot;ID&quot;, self.object_id ]  #=&gt; &quot;ID   : 00002b054ec93168&quot;
&quot;foo = %{foo}&quot; % { :foo =&gt; &#39;bar&#39; }        #=&gt; &quot;foo = bar&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-25_source')" id="l_method-i-25_source">show</a>
                
              </p>
              <div id="method-i-25_source" class="dyn-source">
                <pre>static VALUE
rb_str_format_m(VALUE str, VALUE arg)
{
    VALUE tmp = rb_check_array_type(arg);

    if (!NIL_P(tmp)) {
        return rb_str_format(RARRAY_LENINT(tmp), RARRAY_CONST_PTR(tmp), str);
    }
    return rb_str_format(1, &amp;arg, str);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-2A">
            
              <b>str * integer   &rarr; new_str
</b>
            
            <a href="../classes/String.html#method-i-2A" name="method-i-2A" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Copy — Returns a new <a href="String.html">String</a> containing
<code>integer</code> copies of the receiver. <code>integer</code> must be
greater than or equal to 0.</p>

<pre><code>&quot;Ho! &quot; * 3   #=&gt; &quot;Ho! Ho! Ho! &quot;
&quot;Ho! &quot; * 0   #=&gt; &quot;&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-2A_source')" id="l_method-i-2A_source">show</a>
                
              </p>
              <div id="method-i-2A_source" class="dyn-source">
                <pre>VALUE
rb_str_times(VALUE str, VALUE times)
{
    VALUE str2;
    long n, len;
    char *ptr2;
    int termlen;

    if (times == INT2FIX(1)) {
        return rb_str_dup(str);
    }
    if (times == INT2FIX(0)) {
        str2 = str_alloc(rb_obj_class(str));
        rb_enc_copy(str2, str);
        OBJ_INFECT(str2, str);
        return str2;
    }
    len = NUM2LONG(times);
    if (len &lt; 0) {
        rb_raise(rb_eArgError, &quot;negative argument&quot;);
    }
    if (RSTRING_LEN(str) == 1 &amp;&amp; RSTRING_PTR(str)[0] == 0) {
       str2 = str_alloc(rb_obj_class(str));
       if (!STR_EMBEDDABLE_P(len, 1)) {
           RSTRING(str2)-&gt;as.heap.aux.capa = len;
           RSTRING(str2)-&gt;as.heap.ptr = ZALLOC_N(char, (size_t)len + 1);
           STR_SET_NOEMBED(str2);
       }
       STR_SET_LEN(str2, len);
       rb_enc_copy(str2, str);
       OBJ_INFECT(str2, str);
       return str2;
    }
    if (len &amp;&amp; LONG_MAX/len &lt;  RSTRING_LEN(str)) {
        rb_raise(rb_eArgError, &quot;argument too big&quot;);
    }

    len *= RSTRING_LEN(str);
    termlen = TERM_LEN(str);
    str2 = str_new0(rb_obj_class(str), 0, len, termlen);
    ptr2 = RSTRING_PTR(str2);
    if (len) {
        n = RSTRING_LEN(str);
        memcpy(ptr2, RSTRING_PTR(str), n);
        while (n &lt;= len/2) {
            memcpy(ptr2 + n, ptr2, n);
            n *= 2;
        }
        memcpy(ptr2 + n, ptr2, len-n);
    }
    STR_SET_LEN(str2, len);
    TERM_FILL(&amp;ptr2[len], termlen);
    OBJ_INFECT(str2, str);
    rb_enc_cr_str_copy_for_substr(str2, str);

    return str2;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-2B">
            
              <b>str + other_str   &rarr; new_str
</b>
            
            <a href="../classes/String.html#method-i-2B" name="method-i-2B" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Concatenation—Returns a new <code>String</code> containing
<em>other_str</em> concatenated to <em>str</em>.</p>

<pre><code>&quot;Hello from &quot; + self.to_s   #=&gt; &quot;Hello from main&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-2B_source')" id="l_method-i-2B_source">show</a>
                
              </p>
              <div id="method-i-2B_source" class="dyn-source">
                <pre>VALUE
rb_str_plus(VALUE str1, VALUE str2)
{
    VALUE str3;
    rb_encoding *enc;
    char *ptr1, *ptr2, *ptr3;
    long len1, len2;
    int termlen;

    StringValue(str2);
    enc = rb_enc_check_str(str1, str2);
    RSTRING_GETMEM(str1, ptr1, len1);
    RSTRING_GETMEM(str2, ptr2, len2);
    termlen = rb_enc_mbminlen(enc);
    if (len1 &gt; LONG_MAX - len2) {
        rb_raise(rb_eArgError, &quot;string size too big&quot;);
    }
    str3 = str_new0(rb_cString, 0, len1+len2, termlen);
    ptr3 = RSTRING_PTR(str3);
    memcpy(ptr3, ptr1, len1);
    memcpy(ptr3+len1, ptr2, len2);
    TERM_FILL(&amp;ptr3[len1+len2], termlen);

    FL_SET_RAW(str3, OBJ_TAINTED_RAW(str1) | OBJ_TAINTED_RAW(str2));
    ENCODING_CODERANGE_SET(str3, rb_enc_to_index(enc),
                           ENC_CODERANGE_AND(ENC_CODERANGE(str1), ENC_CODERANGE(str2)));
    RB_GC_GUARD(str1);
    RB_GC_GUARD(str2);
    return str3;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-2B-40">
            
              <b>+str  &rarr; str (mutable)
</b>
            
            <a href="../classes/String.html#method-i-2B-40" name="method-i-2B-40" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>If the string is frozen, then return duplicated mutable string.</p>

<p>If the string is not frozen, then return the string itself.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-2B-40_source')" id="l_method-i-2B-40_source">show</a>
                
              </p>
              <div id="method-i-2B-40_source" class="dyn-source">
                <pre>static VALUE
str_uplus(VALUE str)
{
    if (OBJ_FROZEN(str)) {
        return rb_str_dup(str);
    }
    else {
        return str;
    }
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-2D-40">
            
              <b>-str  &rarr; str (frozen)
</b>
            
            <a href="../classes/String.html#method-i-2D-40" name="method-i-2D-40" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns a frozen, possibly pre-existing copy of the string.</p>

<p>The string will be deduplicated as long as it is not tainted, or has any
instance variables set on it.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-2D-40_source')" id="l_method-i-2D-40_source">show</a>
                
              </p>
              <div id="method-i-2D-40_source" class="dyn-source">
                <pre>static VALUE
str_uminus(VALUE str)
{
    return rb_fstring(str);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-3C-3C">
            
              <b>str << obj      &rarr; str<br />str << integer  &rarr; str
</b>
            
            <a href="../classes/String.html#method-i-3C-3C" name="method-i-3C-3C" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Appends the given object to <em>str</em>. If the object is an
<code>Integer</code>, it is considered a codepoint and converted to a
character before being appended.</p>

<pre><code>a = &quot;hello &quot;
a &lt;&lt; &quot;world&quot;   #=&gt; &quot;hello world&quot;
a &lt;&lt; 33        #=&gt; &quot;hello world!&quot;
</code></pre>

<p>See also <a href="String.html#method-i-concat">#concat</a>, which takes
multiple arguments.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-3C-3C_source')" id="l_method-i-3C-3C_source">show</a>
                
              </p>
              <div id="method-i-3C-3C_source" class="dyn-source">
                <pre>VALUE
rb_str_concat(VALUE str1, VALUE str2)
{
    unsigned int code;
    rb_encoding *enc = STR_ENC_GET(str1);
    int encidx;

    if (RB_INTEGER_TYPE_P(str2)) {
        if (rb_num_to_uint(str2, &amp;code) == 0) {
        }
        else if (FIXNUM_P(str2)) {
            rb_raise(rb_eRangeError, &quot;%ld out of char range&quot;, FIX2LONG(str2));
        }
        else {
            rb_raise(rb_eRangeError, &quot;bignum out of char range&quot;);
        }
    }
    else {
        return rb_str_append(str1, str2);
    }

    encidx = rb_enc_to_index(enc);
    if (encidx == ENCINDEX_ASCII || encidx == ENCINDEX_US_ASCII) {
        /* US-ASCII automatically extended to ASCII-8BIT */
        char buf[1];
        buf[0] = (char)code;
        if (code &gt; 0xFF) {
            rb_raise(rb_eRangeError, &quot;%u out of char range&quot;, code);
        }
        rb_str_cat(str1, buf, 1);
        if (encidx == ENCINDEX_US_ASCII &amp;&amp; code &gt; 127) {
            rb_enc_associate_index(str1, ENCINDEX_ASCII);
            ENC_CODERANGE_SET(str1, ENC_CODERANGE_VALID);
        }
    }
    else {
        long pos = RSTRING_LEN(str1);
        int cr = ENC_CODERANGE(str1);
        int len;
        char *buf;

        switch (len = rb_enc_codelen(code, enc)) {
          case ONIGERR_INVALID_CODE_POINT_VALUE:
            rb_raise(rb_eRangeError, &quot;invalid codepoint 0x%X in %s&quot;, code, rb_enc_name(enc));
            break;
          case ONIGERR_TOO_BIG_WIDE_CHAR_VALUE:
          case 0:
            rb_raise(rb_eRangeError, &quot;%u out of char range&quot;, code);
            break;
        }
        buf = ALLOCA_N(char, len + 1);
        rb_enc_mbcput(code, buf, enc);
        if (rb_enc_precise_mbclen(buf, buf + len + 1, enc) != len) {
            rb_raise(rb_eRangeError, &quot;invalid codepoint 0x%X in %s&quot;, code, rb_enc_name(enc));
        }
        rb_str_resize(str1, pos+len);
        memcpy(RSTRING_PTR(str1) + pos, buf, len);
        if (cr == ENC_CODERANGE_7BIT &amp;&amp; code &gt; 127)
            cr = ENC_CODERANGE_VALID;
        ENC_CODERANGE_SET(str1, cr);
    }
    return str1;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-3C-3D-3E">
            
              <b>string <=> other_string   &rarr; -1, 0, +1, or nil
</b>
            
            <a href="../classes/String.html#method-i-3C-3D-3E" name="method-i-3C-3D-3E" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Comparison—Returns -1, 0, +1, or <code>nil</code> depending on whether
<code>string</code> is less than, equal to, or greater than
<code>other_string</code>.</p>

<p><code>nil</code> is returned if the two values are incomparable.</p>

<p>If the strings are of different lengths, and the strings are equal when
compared up to the shortest length, then the longer string is considered
greater than the shorter one.</p>

<p><code>&lt;=&gt;</code> is the basis for the methods <code>&lt;</code>,
<code>&lt;=</code>, <code>&gt;</code>, <code>&gt;=</code>, and
<code>between?</code>, included from module <a
href="Comparable.html">Comparable</a>. The method String#== does not use
Comparable#==.</p>

<pre><code>&quot;abcdef&quot; &lt;=&gt; &quot;abcde&quot;     #=&gt; 1
&quot;abcdef&quot; &lt;=&gt; &quot;abcdef&quot;    #=&gt; 0
&quot;abcdef&quot; &lt;=&gt; &quot;abcdefg&quot;   #=&gt; -1
&quot;abcdef&quot; &lt;=&gt; &quot;ABCDEF&quot;    #=&gt; 1
&quot;abcdef&quot; &lt;=&gt; 1           #=&gt; nil
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-3C-3D-3E_source')" id="l_method-i-3C-3D-3E_source">show</a>
                
              </p>
              <div id="method-i-3C-3D-3E_source" class="dyn-source">
                <pre>static VALUE
rb_str_cmp_m(VALUE str1, VALUE str2)
{
    int result;
    VALUE s = rb_check_string_type(str2);
    if (NIL_P(s)) {
        return rb_invcmp(str1, str2);
    }
    result = rb_str_cmp(str1, s);
    return INT2FIX(result);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-3D-3D">
            
              <b>str == obj    &rarr; true or false</b>
            
            <a href="../classes/String.html#method-i-3D-3D" name="method-i-3D-3D" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Equality—Returns whether <code>str</code> == <code>obj</code>, similar to
Object#==.</p>

<p>If <code>obj</code> is not an instance of <a href="String.html">String</a>
but responds to <code>to_str</code>, then the two strings are compared
using <code>obj.==</code>.</p>

<p>Otherwise, returns similarly to <a
href="String.html#method-i-eql-3F">#eql?</a>, comparing length and content.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-3D-3D_source')" id="l_method-i-3D-3D_source">show</a>
                
              </p>
              <div id="method-i-3D-3D_source" class="dyn-source">
                <pre>VALUE
rb_str_equal(VALUE str1, VALUE str2)
{
    if (str1 == str2) return Qtrue;
    if (!RB_TYPE_P(str2, T_STRING)) {
        if (!rb_respond_to(str2, idTo_str)) {
            return Qfalse;
        }
        return rb_equal(str2, str1);
    }
    return str_eql(str1, str2);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-3D-3D-3D">
            
              <b>str === obj   &rarr; true or false</b>
            
            <a href="../classes/String.html#method-i-3D-3D-3D" name="method-i-3D-3D-3D" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Equality—Returns whether <code>str</code> == <code>obj</code>, similar to
Object#==.</p>

<p>If <code>obj</code> is not an instance of <a href="String.html">String</a>
but responds to <code>to_str</code>, then the two strings are compared
using <code>obj.==</code>.</p>

<p>Otherwise, returns similarly to <a
href="String.html#method-i-eql-3F">#eql?</a>, comparing length and content.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-3D-3D-3D_source')" id="l_method-i-3D-3D-3D_source">show</a>
                
              </p>
              <div id="method-i-3D-3D-3D_source" class="dyn-source">
                <pre>VALUE
rb_str_equal(VALUE str1, VALUE str2)
{
    if (str1 == str2) return Qtrue;
    if (!RB_TYPE_P(str2, T_STRING)) {
        if (!rb_respond_to(str2, idTo_str)) {
            return Qfalse;
        }
        return rb_equal(str2, str1);
    }
    return str_eql(str1, str2);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-3D~">
            
              <b>str =~ obj   &rarr; integer or nil
</b>
            
            <a href="../classes/String.html#method-i-3D~" name="method-i-3D~" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Match—If <em>obj</em> is a <code>Regexp</code>, use it as a pattern to
match against <em>str</em>,and returns the position the match starts, or
<code>nil</code> if there is no match. Otherwise, invokes <em>obj.=~</em>,
passing <em>str</em> as an argument. The default <code>=~</code> in
<code>Object</code> returns <code>nil</code>.</p>

<p>Note: <code>str =~ regexp</code> is not the same as <code>regexp =~
str</code>. Strings captured from named capture groups are assigned to
local variables only in the second case.</p>

<pre><code>&quot;cat o&#39; 9 tails&quot; =~ /\d/   #=&gt; 7
&quot;cat o&#39; 9 tails&quot; =~ 9      #=&gt; nil
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-3D~_source')" id="l_method-i-3D~_source">show</a>
                
              </p>
              <div id="method-i-3D~_source" class="dyn-source">
                <pre>static VALUE
rb_str_match(VALUE x, VALUE y)
{
    if (SPECIAL_CONST_P(y)) goto generic;
    switch (BUILTIN_TYPE(y)) {
      case T_STRING:
        rb_raise(rb_eTypeError, &quot;type mismatch: String given&quot;);

      case T_REGEXP:
        return rb_reg_match(y, x);

      generic:
      default:
        return rb_funcall(y, idEqTilde, 1, x);
    }
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-5B-5D">
            
              <b>str[index]                 &rarr; new_str or nil<br />str[start, length]         &rarr; new_str or nil<br />str[range]                 &rarr; new_str or nil<br />str[regexp]                &rarr; new_str or nil<br />str[regexp, capture]       &rarr; new_str or nil<br />str[match_str]             &rarr; new_str or nil</b>
            
            <a href="../classes/String.html#method-i-5B-5D" name="method-i-5B-5D" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Element Reference — If passed a single <code>index</code>, returns a
substring of one character at that index. If passed a <code>start</code>
index and a <code>length</code>, returns a substring containing
<code>length</code> characters starting at the <code>start</code> index. If
passed a <code>range</code>, its beginning and end are interpreted as
offsets delimiting the substring to be returned.</p>

<p>In these three cases, if an index is negative, it is counted from the end
of the string.  For the <code>start</code> and <code>range</code> cases the
starting index is just before a character and an index matching the
string&#39;s size. Additionally, an empty string is returned when the
starting index for a character range is at the end of the string.</p>

<p>Returns <code>nil</code> if the initial index falls outside the string or
the length is negative.</p>

<p>If a <code>Regexp</code> is supplied, the matching portion of the string is
returned.  If a <code>capture</code> follows the regular expression, which
may be a capture group index or name, follows the regular expression that
component of the <a href="MatchData.html">MatchData</a> is returned
instead.</p>

<p>If a <code>match_str</code> is given, that string is returned if it occurs
in the string.</p>

<p>Returns <code>nil</code> if the regular expression does not match or the
match string cannot be found.</p>

<pre><code>a = &quot;hello there&quot;

a[1]                   #=&gt; &quot;e&quot;
a[2, 3]                #=&gt; &quot;llo&quot;
a[2..3]                #=&gt; &quot;ll&quot;

a[-3, 2]               #=&gt; &quot;er&quot;
a[7..-2]               #=&gt; &quot;her&quot;
a[-4..-2]              #=&gt; &quot;her&quot;
a[-2..-4]              #=&gt; &quot;&quot;

a[11, 0]               #=&gt; &quot;&quot;
a[11]                  #=&gt; nil
a[12, 0]               #=&gt; nil
a[12..-1]              #=&gt; nil

a[/[aeiou](.)\1/]      #=&gt; &quot;ell&quot;
a[/[aeiou](.)\1/, 0]   #=&gt; &quot;ell&quot;
a[/[aeiou](.)\1/, 1]   #=&gt; &quot;l&quot;
a[/[aeiou](.)\1/, 2]   #=&gt; nil

a[/(?&lt;vowel&gt;[aeiou])(?&lt;non_vowel&gt;[^aeiou])/, &quot;non_vowel&quot;] #=&gt; &quot;l&quot;
a[/(?&lt;vowel&gt;[aeiou])(?&lt;non_vowel&gt;[^aeiou])/, &quot;vowel&quot;]     #=&gt; &quot;e&quot;

a[&quot;lo&quot;]                #=&gt; &quot;lo&quot;
a[&quot;bye&quot;]               #=&gt; nil
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-5B-5D_source')" id="l_method-i-5B-5D_source">show</a>
                
              </p>
              <div id="method-i-5B-5D_source" class="dyn-source">
                <pre>static VALUE
rb_str_aref_m(int argc, VALUE *argv, VALUE str)
{
    if (argc == 2) {
        if (RB_TYPE_P(argv[0], T_REGEXP)) {
            return rb_str_subpat(str, argv[0], argv[1]);
        }
        else {
            long beg = NUM2LONG(argv[0]);
            long len = NUM2LONG(argv[1]);
            return rb_str_substr(str, beg, len);
        }
    }
    rb_check_arity(argc, 1, 2);
    return rb_str_aref(str, argv[0]);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-5B-5D-3D">
            
              <b>str[integer] = new_str<br />str[integer, integer] = new_str<br />str[range] = aString<br />str[regexp] = new_str<br />str[regexp, integer] = new_str<br />str[regexp, name] = new_str<br />str[other_str] = new_str
</b>
            
            <a href="../classes/String.html#method-i-5B-5D-3D" name="method-i-5B-5D-3D" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Element Assignment—Replaces some or all of the content of <em>str</em>. The
portion of the string affected is determined using the same criteria as
<code>String#[]</code>. If the replacement string is not the same length as
the text it is replacing, the string will be adjusted accordingly. If the
regular expression or string is used as the index doesn&#39;t match a
position in the string, <code>IndexError</code> is raised. If the regular
expression form is used, the optional second <code>Integer</code> allows
you to specify which portion of the match to replace (effectively using the
<code>MatchData</code> indexing rules. The forms that take an
<code>Integer</code> will raise an <code>IndexError</code> if the value is
out of range; the <code>Range</code> form will raise a
<code>RangeError</code>, and the <code>Regexp</code> and
<code>String</code> will raise an <code>IndexError</code> on negative
match.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-5B-5D-3D_source')" id="l_method-i-5B-5D-3D_source">show</a>
                
              </p>
              <div id="method-i-5B-5D-3D_source" class="dyn-source">
                <pre>static VALUE
rb_str_aset_m(int argc, VALUE *argv, VALUE str)
{
    if (argc == 3) {
        if (RB_TYPE_P(argv[0], T_REGEXP)) {
            rb_str_subpat_set(str, argv[0], argv[1], argv[2]);
        }
        else {
            rb_str_splice(str, NUM2LONG(argv[0]), NUM2LONG(argv[1]), argv[2]);
        }
        return argv[2];
    }
    rb_check_arity(argc, 2, 3);
    return rb_str_aset(str, argv[0], argv[1]);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-ascii_only-3F">
            
              <b>str.ascii_only?  &rarr; true or false
</b>
            
            <a href="../classes/String.html#method-i-ascii_only-3F" name="method-i-ascii_only-3F" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns true for a string which has only ASCII characters.</p>

<pre><code>&quot;abc&quot;.force_encoding(&quot;UTF-8&quot;).ascii_only?          #=&gt; true
&quot;abc\u{6666}&quot;.force_encoding(&quot;UTF-8&quot;).ascii_only?  #=&gt; false
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-ascii_only-3F_source')" id="l_method-i-ascii_only-3F_source">show</a>
                
              </p>
              <div id="method-i-ascii_only-3F_source" class="dyn-source">
                <pre>static VALUE
rb_str_is_ascii_only_p(VALUE str)
{
    int cr = rb_enc_str_coderange(str);

    return cr == ENC_CODERANGE_7BIT ? Qtrue : Qfalse;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-b">
            
              <b>str.b   &rarr; str
</b>
            
            <a href="../classes/String.html#method-i-b" name="method-i-b" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns a copied string whose encoding is ASCII-8BIT.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-b_source')" id="l_method-i-b_source">show</a>
                
              </p>
              <div id="method-i-b_source" class="dyn-source">
                <pre>static VALUE
rb_str_b(VALUE str)
{
    VALUE str2 = str_alloc(rb_cString);
    str_replace_shared_without_enc(str2, str);
    OBJ_INFECT_RAW(str2, str);
    ENC_CODERANGE_CLEAR(str2);
    return str2;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-block_scanf">
            
              <b>block_scanf</b>(fstr)
            
            <a href="../classes/String.html#method-i-block_scanf" name="method-i-block_scanf" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Scans the current string until the match is exhausted yielding each match
as it is encountered in the string. A block is not necessary as the results
will simply be aggregated into the final array.</p>

<pre><code>&quot;123 456&quot;.block_scanf(&quot;%d&quot;)
# =&gt; [123, 456]
</code></pre>

<p>If a block is given, the value from that is returned from the yield is
added to an output array.</p>

<pre><code>&quot;123 456&quot;.block_scanf(&quot;%d) do |digit,| # the &#39;,&#39; unpacks the Array
  digit + 100
end
# =&gt; [223, 556]</code></pre>

<p>See <a href="Scanf.html">Scanf</a> for details on creating a format string.</p>

<p>You will need to require &#39;scanf&#39; to use <a
href="String.html#method-i-block_scanf">#block_scanf</a></p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-block_scanf_source')" id="l_method-i-block_scanf_source">show</a>
                
              </p>
              <div id="method-i-block_scanf_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/scanf.rb, line 753</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">block_scanf</span>(<span class="ruby-identifier">fstr</span>) <span class="ruby-comment">#:yield: current_match</span>
  <span class="ruby-identifier">fs</span> = <span class="ruby-constant">Scanf</span><span class="ruby-operator">::</span><span class="ruby-constant">FormatString</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">fstr</span>)
  <span class="ruby-identifier">str</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">dup</span>
  <span class="ruby-identifier">final</span> = []
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">current</span> = <span class="ruby-identifier">str</span>.<span class="ruby-identifier">scanf</span>(<span class="ruby-identifier">fs</span>)
    <span class="ruby-identifier">final</span>.<span class="ruby-identifier">push</span>(<span class="ruby-keyword">yield</span>(<span class="ruby-identifier">current</span>)) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">current</span>.<span class="ruby-identifier">empty?</span>
    <span class="ruby-identifier">str</span> = <span class="ruby-identifier">fs</span>.<span class="ruby-identifier">string_left</span>
  <span class="ruby-keyword">end</span> <span class="ruby-keyword">until</span> <span class="ruby-identifier">current</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">str</span>.<span class="ruby-identifier">empty?</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">final</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-bytes">
            
              <b>str.bytes    &rarr; an_array
</b>
            
            <a href="../classes/String.html#method-i-bytes" name="method-i-bytes" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns an array of bytes in <em>str</em>.  This is a shorthand for
<code>str.each_byte.to_a</code>.</p>

<p>If a block is given, which is a deprecated form, works the same as
<code>each_byte</code>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-bytes_source')" id="l_method-i-bytes_source">show</a>
                
              </p>
              <div id="method-i-bytes_source" class="dyn-source">
                <pre>static VALUE
rb_str_bytes(VALUE str)
{
    VALUE ary = WANTARRAY(&quot;bytes&quot;, RSTRING_LEN(str));
    return rb_str_enumerate_bytes(str, ary);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-bytesize">
            
              <b>str.bytesize  &rarr; integer
</b>
            
            <a href="../classes/String.html#method-i-bytesize" name="method-i-bytesize" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns the length of <code>str</code> in bytes.</p>

<pre><code>&quot;\x80\u3042&quot;.bytesize  #=&gt; 4
&quot;hello&quot;.bytesize       #=&gt; 5
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-bytesize_source')" id="l_method-i-bytesize_source">show</a>
                
              </p>
              <div id="method-i-bytesize_source" class="dyn-source">
                <pre>static VALUE
rb_str_bytesize(VALUE str)
{
    return LONG2NUM(RSTRING_LEN(str));
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-byteslice">
            
              <b>str.byteslice(integer)           &rarr; new_str or nil<br />str.byteslice(integer, integer)   &rarr; new_str or nil<br />str.byteslice(range)            &rarr; new_str or nil
</b>
            
            <a href="../classes/String.html#method-i-byteslice" name="method-i-byteslice" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Byte Reference—If passed a single <code>Integer</code>, returns a substring
of one byte at that position. If passed two <code>Integer</code> objects,
returns a substring starting at the offset given by the first, and a length
given by the second. If given a <code>Range</code>, a substring containing
bytes at offsets given by the range is returned. In all three cases, if an
offset is negative, it is counted from the end of <em>str</em>. Returns
<code>nil</code> if the initial offset falls outside the string, the length
is negative, or the beginning of the range is greater than the end. The
encoding of the resulted string keeps original encoding.</p>

<pre><code>&quot;hello&quot;.byteslice(1)     #=&gt; &quot;e&quot;
&quot;hello&quot;.byteslice(-1)    #=&gt; &quot;o&quot;
&quot;hello&quot;.byteslice(1, 2)  #=&gt; &quot;el&quot;
&quot;\x80\u3042&quot;.byteslice(1, 3) #=&gt; &quot;\u3042&quot;
&quot;\x03\u3042\xff&quot;.byteslice(1..3) #=&gt; &quot;\u3042&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-byteslice_source')" id="l_method-i-byteslice_source">show</a>
                
              </p>
              <div id="method-i-byteslice_source" class="dyn-source">
                <pre>static VALUE
rb_str_byteslice(int argc, VALUE *argv, VALUE str)
{
    if (argc == 2) {
        long beg = NUM2LONG(argv[0]);
        long end = NUM2LONG(argv[1]);
        return str_byte_substr(str, beg, end, TRUE);
    }
    rb_check_arity(argc, 1, 2);
    return str_byte_aref(str, argv[0]);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-capitalize">
            
              <b>str.capitalize              &rarr; new_str<br />str.capitalize([options])   &rarr; new_str
</b>
            
            <a href="../classes/String.html#method-i-capitalize" name="method-i-capitalize" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns a copy of <em>str</em> with the first character converted to
uppercase and the remainder to lowercase.</p>

<p>See <a href="String.html#method-i-downcase">#downcase</a> for meaning of
<code>options</code> and use with different encodings.</p>

<pre><code>&quot;hello&quot;.capitalize    #=&gt; &quot;Hello&quot;
&quot;HELLO&quot;.capitalize    #=&gt; &quot;Hello&quot;
&quot;123ABC&quot;.capitalize   #=&gt; &quot;123abc&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-capitalize_source')" id="l_method-i-capitalize_source">show</a>
                
              </p>
              <div id="method-i-capitalize_source" class="dyn-source">
                <pre>static VALUE
rb_str_capitalize(int argc, VALUE *argv, VALUE str)
{
    str = rb_str_dup(str);
    rb_str_capitalize_bang(argc, argv, str);
    return str;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-capitalize-21">
            
              <b>str.capitalize!              &rarr; str or nil<br />str.capitalize!([options])   &rarr; str or nil
</b>
            
            <a href="../classes/String.html#method-i-capitalize-21" name="method-i-capitalize-21" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Modifies <em>str</em> by converting the first character to uppercase and
the remainder to lowercase. Returns <code>nil</code> if no changes are
made. There is an exception for modern Georgian (mkhedruli/MTAVRULI), where
the result is the same as for <a
href="String.html#method-i-downcase">#downcase</a>, to avoid mixed case.</p>

<p>See <a href="String.html#method-i-downcase">#downcase</a> for meaning of
<code>options</code> and use with different encodings.</p>

<pre><code>a = &quot;hello&quot;
a.capitalize!   #=&gt; &quot;Hello&quot;
a               #=&gt; &quot;Hello&quot;
a.capitalize!   #=&gt; nil
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-capitalize-21_source')" id="l_method-i-capitalize-21_source">show</a>
                
              </p>
              <div id="method-i-capitalize-21_source" class="dyn-source">
                <pre>static VALUE
rb_str_capitalize_bang(int argc, VALUE *argv, VALUE str)
{
    rb_encoding *enc;
    OnigCaseFoldType flags = ONIGENC_CASE_UPCASE | ONIGENC_CASE_TITLECASE;

    flags = check_case_options(argc, argv, flags);
    str_modify_keep_cr(str);
    enc = STR_ENC_GET(str);
    rb_str_check_dummy_enc(enc);
    if (RSTRING_LEN(str) == 0 || !RSTRING_PTR(str)) return Qnil;
    if (flags&amp;ONIGENC_CASE_ASCII_ONLY)
        rb_str_ascii_casemap(str, &amp;flags, enc);
    else
        str_shared_replace(str, rb_str_casemap(str, &amp;flags, enc));

    if (ONIGENC_CASE_MODIFIED&amp;flags) return str;
    return Qnil;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-casecmp">
            
              <b>str.casecmp(other_str)   &rarr; -1, 0, +1, or nil
</b>
            
            <a href="../classes/String.html#method-i-casecmp" name="method-i-casecmp" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Case-insensitive version of <code>String#&lt;=&gt;</code>. Currently,
case-insensitivity only works on characters A-Z/a-z, not all of Unicode.
This is different from <a
href="String.html#method-i-casecmp-3F">#casecmp?</a>.</p>

<pre><code>&quot;aBcDeF&quot;.casecmp(&quot;abcde&quot;)     #=&gt; 1
&quot;aBcDeF&quot;.casecmp(&quot;abcdef&quot;)    #=&gt; 0
&quot;aBcDeF&quot;.casecmp(&quot;abcdefg&quot;)   #=&gt; -1
&quot;abcdef&quot;.casecmp(&quot;ABCDEF&quot;)    #=&gt; 0
</code></pre>

<p><code>nil</code> is returned if the two strings have incompatible
encodings, or if <code>other_str</code> is not a string.</p>

<pre><code>&quot;foo&quot;.casecmp(2)   #=&gt; nil
&quot;\u{e4 f6 fc}&quot;.encode(&quot;ISO-8859-1&quot;).casecmp(&quot;\u{c4 d6 dc}&quot;)   #=&gt; nil
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-casecmp_source')" id="l_method-i-casecmp_source">show</a>
                
              </p>
              <div id="method-i-casecmp_source" class="dyn-source">
                <pre>static VALUE
rb_str_casecmp(VALUE str1, VALUE str2)
{
    VALUE s = rb_check_string_type(str2);
    if (NIL_P(s)) {
        return Qnil;
    }
    return str_casecmp(str1, s);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-casecmp-3F">
            
              <b>str.casecmp?(other_str)   &rarr; true, false, or nil
</b>
            
            <a href="../classes/String.html#method-i-casecmp-3F" name="method-i-casecmp-3F" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns <code>true</code> if <code>str</code> and <code>other_str</code>
are equal after Unicode case folding, <code>false</code> if they are not
equal.</p>

<pre><code>&quot;aBcDeF&quot;.casecmp?(&quot;abcde&quot;)     #=&gt; false
&quot;aBcDeF&quot;.casecmp?(&quot;abcdef&quot;)    #=&gt; true
&quot;aBcDeF&quot;.casecmp?(&quot;abcdefg&quot;)   #=&gt; false
&quot;abcdef&quot;.casecmp?(&quot;ABCDEF&quot;)    #=&gt; true
&quot;\u{e4 f6 fc}&quot;.casecmp?(&quot;\u{c4 d6 dc}&quot;)   #=&gt; true
</code></pre>

<p><code>nil</code> is returned if the two strings have incompatible
encodings, or if <code>other_str</code> is not a string.</p>

<pre><code>&quot;foo&quot;.casecmp?(2)   #=&gt; nil
&quot;\u{e4 f6 fc}&quot;.encode(&quot;ISO-8859-1&quot;).casecmp?(&quot;\u{c4 d6 dc}&quot;)   #=&gt; nil
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-casecmp-3F_source')" id="l_method-i-casecmp-3F_source">show</a>
                
              </p>
              <div id="method-i-casecmp-3F_source" class="dyn-source">
                <pre>static VALUE
rb_str_casecmp_p(VALUE str1, VALUE str2)
{
    VALUE s = rb_check_string_type(str2);
    if (NIL_P(s)) {
        return Qnil;
    }
    return str_casecmp_p(str1, s);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-center">
            
              <b>str.center(width, padstr=' ')   &rarr; new_str
</b>
            
            <a href="../classes/String.html#method-i-center" name="method-i-center" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Centers <code>str</code> in <code>width</code>.  If <code>width</code> is
greater than the length of <code>str</code>, returns a new <a
href="String.html">String</a> of length <code>width</code> with
<code>str</code> centered and padded with <code>padstr</code>; otherwise,
returns <code>str</code>.</p>

<pre><code>&quot;hello&quot;.center(4)         #=&gt; &quot;hello&quot;
&quot;hello&quot;.center(20)        #=&gt; &quot;       hello        &quot;
&quot;hello&quot;.center(20, &#39;123&#39;) #=&gt; &quot;1231231hello12312312&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-center_source')" id="l_method-i-center_source">show</a>
                
              </p>
              <div id="method-i-center_source" class="dyn-source">
                <pre>static VALUE
rb_str_center(int argc, VALUE *argv, VALUE str)
{
    return rb_str_justify(argc, argv, str, &#39;c&#39;);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-chars">
            
              <b>str.chars    &rarr; an_array
</b>
            
            <a href="../classes/String.html#method-i-chars" name="method-i-chars" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns an array of characters in <em>str</em>.  This is a shorthand for
<code>str.each_char.to_a</code>.</p>

<p>If a block is given, which is a deprecated form, works the same as
<code>each_char</code>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-chars_source')" id="l_method-i-chars_source">show</a>
                
              </p>
              <div id="method-i-chars_source" class="dyn-source">
                <pre>static VALUE
rb_str_chars(VALUE str)
{
    VALUE ary = WANTARRAY(&quot;chars&quot;, rb_str_strlen(str));
    return rb_str_enumerate_chars(str, ary);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-chomp">
            
              <b>str.chomp(separator=$/)   &rarr; new_str
</b>
            
            <a href="../classes/String.html#method-i-chomp" name="method-i-chomp" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns a new <code>String</code> with the given record separator removed
from the end of <em>str</em> (if present). If <code>$/</code> has not been
changed from the default Ruby record separator, then <code>chomp</code>
also removes carriage return characters (that is it will remove
<code>\n</code>, <code>\r</code>, and <code>\r\n</code>). If
<code>$/</code> is an empty string, it will remove all trailing newlines
from the string.</p>

<pre><code>&quot;hello&quot;.chomp                #=&gt; &quot;hello&quot;
&quot;hello\n&quot;.chomp              #=&gt; &quot;hello&quot;
&quot;hello\r\n&quot;.chomp            #=&gt; &quot;hello&quot;
&quot;hello\n\r&quot;.chomp            #=&gt; &quot;hello\n&quot;
&quot;hello\r&quot;.chomp              #=&gt; &quot;hello&quot;
&quot;hello \n there&quot;.chomp       #=&gt; &quot;hello \n there&quot;
&quot;hello&quot;.chomp(&quot;llo&quot;)         #=&gt; &quot;he&quot;
&quot;hello\r\n\r\n&quot;.chomp(&#39;&#39;)    #=&gt; &quot;hello&quot;
&quot;hello\r\n\r\r\n&quot;.chomp(&#39;&#39;)  #=&gt; &quot;hello\r\n\r&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-chomp_source')" id="l_method-i-chomp_source">show</a>
                
              </p>
              <div id="method-i-chomp_source" class="dyn-source">
                <pre>static VALUE
rb_str_chomp(int argc, VALUE *argv, VALUE str)
{
    VALUE rs = chomp_rs(argc, argv);
    if (NIL_P(rs)) return rb_str_dup(str);
    return rb_str_subseq(str, 0, chompped_length(str, rs));
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-chomp-21">
            
              <b>str.chomp!(separator=$/)   &rarr; str or nil
</b>
            
            <a href="../classes/String.html#method-i-chomp-21" name="method-i-chomp-21" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Modifies <em>str</em> in place as described for <code>String#chomp</code>,
returning <em>str</em>, or <code>nil</code> if no modifications were made.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-chomp-21_source')" id="l_method-i-chomp-21_source">show</a>
                
              </p>
              <div id="method-i-chomp-21_source" class="dyn-source">
                <pre>static VALUE
rb_str_chomp_bang(int argc, VALUE *argv, VALUE str)
{
    VALUE rs;
    str_modifiable(str);
    if (RSTRING_LEN(str) == 0) return Qnil;
    rs = chomp_rs(argc, argv);
    if (NIL_P(rs)) return Qnil;
    return rb_str_chomp_string(str, rs);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-chop">
            
              <b>str.chop   &rarr; new_str
</b>
            
            <a href="../classes/String.html#method-i-chop" name="method-i-chop" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns a new <code>String</code> with the last character removed.  If the
string ends with <code>\r\n</code>, both characters are removed. Applying
<code>chop</code> to an empty string returns an empty string.
<code>String#chomp</code> is often a safer alternative, as it leaves the
string unchanged if it doesn&#39;t end in a record separator.</p>

<pre><code>&quot;string\r\n&quot;.chop   #=&gt; &quot;string&quot;
&quot;string\n\r&quot;.chop   #=&gt; &quot;string\n&quot;
&quot;string\n&quot;.chop     #=&gt; &quot;string&quot;
&quot;string&quot;.chop       #=&gt; &quot;strin&quot;
&quot;x&quot;.chop.chop       #=&gt; &quot;&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-chop_source')" id="l_method-i-chop_source">show</a>
                
              </p>
              <div id="method-i-chop_source" class="dyn-source">
                <pre>static VALUE
rb_str_chop(VALUE str)
{
    return rb_str_subseq(str, 0, chopped_length(str));
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-chop-21">
            
              <b>str.chop!   &rarr; str or nil
</b>
            
            <a href="../classes/String.html#method-i-chop-21" name="method-i-chop-21" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Processes <em>str</em> as for <code>String#chop</code>, returning
<em>str</em>, or <code>nil</code> if <em>str</em> is the empty string.  See
also <code>String#chomp!</code>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-chop-21_source')" id="l_method-i-chop-21_source">show</a>
                
              </p>
              <div id="method-i-chop-21_source" class="dyn-source">
                <pre>static VALUE
rb_str_chop_bang(VALUE str)
{
    str_modify_keep_cr(str);
    if (RSTRING_LEN(str) &gt; 0) {
        long len;
        len = chopped_length(str);
        STR_SET_LEN(str, len);
        TERM_FILL(&amp;RSTRING_PTR(str)[len], TERM_LEN(str));
        if (ENC_CODERANGE(str) != ENC_CODERANGE_7BIT) {
            ENC_CODERANGE_CLEAR(str);
        }
        return str;
    }
    return Qnil;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-chr">
            
              <b>string.chr    &rarr;  string
</b>
            
            <a href="../classes/String.html#method-i-chr" name="method-i-chr" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns a one-character string at the beginning of the string.</p>

<pre><code>a = &quot;abcde&quot;
a.chr    #=&gt; &quot;a&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-chr_source')" id="l_method-i-chr_source">show</a>
                
              </p>
              <div id="method-i-chr_source" class="dyn-source">
                <pre>static VALUE
rb_str_chr(VALUE str)
{
    return rb_str_substr(str, 0, 1);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-clear">
            
              <b>string.clear    &rarr;  string
</b>
            
            <a href="../classes/String.html#method-i-clear" name="method-i-clear" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Makes string empty.</p>

<pre><code>a = &quot;abcde&quot;
a.clear    #=&gt; &quot;&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-clear_source')" id="l_method-i-clear_source">show</a>
                
              </p>
              <div id="method-i-clear_source" class="dyn-source">
                <pre>static VALUE
rb_str_clear(VALUE str)
{
    str_discard(str);
    STR_SET_EMBED(str);
    STR_SET_EMBED_LEN(str, 0);
    RSTRING_PTR(str)[0] = 0;
    if (rb_enc_asciicompat(STR_ENC_GET(str)))
        ENC_CODERANGE_SET(str, ENC_CODERANGE_7BIT);
    else
        ENC_CODERANGE_SET(str, ENC_CODERANGE_VALID);
    return str;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-codepoints">
            
              <b>str.codepoints   &rarr; an_array
</b>
            
            <a href="../classes/String.html#method-i-codepoints" name="method-i-codepoints" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns an array of the <code>Integer</code> ordinals of the characters in
<em>str</em>.  This is a shorthand for
<code>str.each_codepoint.to_a</code>.</p>

<p>If a block is given, which is a deprecated form, works the same as
<code>each_codepoint</code>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-codepoints_source')" id="l_method-i-codepoints_source">show</a>
                
              </p>
              <div id="method-i-codepoints_source" class="dyn-source">
                <pre>static VALUE
rb_str_codepoints(VALUE str)
{
    VALUE ary = WANTARRAY(&quot;codepoints&quot;, rb_str_strlen(str));
    return rb_str_enumerate_codepoints(str, ary);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-concat">
            
              <b>str.concat(obj1, obj2, ...)          &rarr; str
</b>
            
            <a href="../classes/String.html#method-i-concat" name="method-i-concat" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Concatenates the given object(s) to <em>str</em>. If an object is an
<code>Integer</code>, it is considered a codepoint and converted to a
character before concatenation.</p>

<p><code>concat</code> can take multiple arguments, and all the arguments are
concatenated in order.</p>

<pre><code>a = &quot;hello &quot;
a.concat(&quot;world&quot;, 33)      #=&gt; &quot;hello world!&quot;
a                          #=&gt; &quot;hello world!&quot;

b = &quot;sn&quot;
b.concat(&quot;_&quot;, b, &quot;_&quot;, b)   #=&gt; &quot;sn_sn_sn&quot;
</code></pre>

<p>See also <a href="String.html#method-i-3C-3C">#<<</a>, which takes a single
argument.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-concat_source')" id="l_method-i-concat_source">show</a>
                
              </p>
              <div id="method-i-concat_source" class="dyn-source">
                <pre>static VALUE
rb_str_concat_multi(int argc, VALUE *argv, VALUE str)
{
    str_modifiable(str);

    if (argc == 1) {
        return rb_str_concat(str, argv[0]);
    }
    else if (argc &gt; 1) {
        int i;
        VALUE arg_str = rb_str_tmp_new(0);
        rb_enc_copy(arg_str, str);
        for (i = 0; i &lt; argc; i++) {
            rb_str_concat(arg_str, argv[i]);
        }
        rb_str_buf_append(str, arg_str);
    }

    return str;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-count">
            
              <b>str.count([other_str]+)   &rarr; integer
</b>
            
            <a href="../classes/String.html#method-i-count" name="method-i-count" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Each <code>other_str</code> parameter defines a set of characters to count.
The intersection of these sets defines the characters to count in
<code>str</code>.  Any <code>other_str</code> that starts with a caret
<code>^</code> is negated.  The sequence <code>c1-c2</code> means all
characters between c1 and c2.  The backslash character <code>\</code> can
be used to escape <code>^</code> or <code>-</code> and is otherwise ignored
unless it appears at the end of a sequence or the end of a
<code>other_str</code>.</p>

<pre><code>a = &quot;hello world&quot;
a.count &quot;lo&quot;                   #=&gt; 5
a.count &quot;lo&quot;, &quot;o&quot;              #=&gt; 2
a.count &quot;hello&quot;, &quot;^l&quot;          #=&gt; 4
a.count &quot;ej-m&quot;                 #=&gt; 4

&quot;hello^world&quot;.count &quot;\\^aeiou&quot; #=&gt; 4
&quot;hello-world&quot;.count &quot;a\\-eo&quot;   #=&gt; 4

c = &quot;hello world\\r\\n&quot;
c.count &quot;\\&quot;                   #=&gt; 2
c.count &quot;\\A&quot;                  #=&gt; 0
c.count &quot;X-\\w&quot;                #=&gt; 3
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-count_source')" id="l_method-i-count_source">show</a>
                
              </p>
              <div id="method-i-count_source" class="dyn-source">
                <pre>static VALUE
rb_str_count(int argc, VALUE *argv, VALUE str)
{
    char table[TR_TABLE_SIZE];
    rb_encoding *enc = 0;
    VALUE del = 0, nodel = 0, tstr;
    char *s, *send;
    int i;
    int ascompat;

    rb_check_arity(argc, 1, UNLIMITED_ARGUMENTS);

    tstr = argv[0];
    StringValue(tstr);
    enc = rb_enc_check(str, tstr);
    if (argc == 1) {
        const char *ptstr;
        if (RSTRING_LEN(tstr) == 1 &amp;&amp; rb_enc_asciicompat(enc) &amp;&amp;
            (ptstr = RSTRING_PTR(tstr),
             ONIGENC_IS_ALLOWED_REVERSE_MATCH(enc, (const unsigned char *)ptstr, (const unsigned char *)ptstr+1)) &amp;&amp;
            !is_broken_string(str)) {
            int n = 0;
            int clen;
            unsigned char c = rb_enc_codepoint_len(ptstr, ptstr+1, &amp;clen, enc);

            s = RSTRING_PTR(str);
            if (!s || RSTRING_LEN(str) == 0) return INT2FIX(0);
            send = RSTRING_END(str);
            while (s &lt; send) {
                if (*(unsigned char*)s++ == c) n++;
            }
            return INT2NUM(n);
        }
    }

    tr_setup_table(tstr, table, TRUE, &amp;del, &amp;nodel, enc);
    for (i=1; i&lt;argc; i++) {
        tstr = argv[i];
        StringValue(tstr);
        enc = rb_enc_check(str, tstr);
        tr_setup_table(tstr, table, FALSE, &amp;del, &amp;nodel, enc);
    }

    s = RSTRING_PTR(str);
    if (!s || RSTRING_LEN(str) == 0) return INT2FIX(0);
    send = RSTRING_END(str);
    ascompat = rb_enc_asciicompat(enc);
    i = 0;
    while (s &lt; send) {
        unsigned int c;

        if (ascompat &amp;&amp; (c = *(unsigned char*)s) &lt; 0x80) {
            if (table[c]) {
                i++;
            }
            s++;
        }
        else {
            int clen;
            c = rb_enc_codepoint_len(s, send, &amp;clen, enc);
            if (tr_find(c, table, del, nodel)) {
                i++;
            }
            s += clen;
        }
    }

    return INT2NUM(i);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-crypt">
            
              <b>str.crypt(salt_str)   &rarr; new_str
</b>
            
            <a href="../classes/String.html#method-i-crypt" name="method-i-crypt" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns the string generated by calling <code>crypt(3)</code> standard
library function with <code>str</code> and <code>salt_str</code>, in this
order, as its arguments.  Please do not use this method any longer.  It is
legacy; provided only for backward compatibility with ruby scripts in
earlier days.  It is bad to use in contemporary programs for several
reasons:</p>

<pre><code>* Behaviour of C&#39;s &lt;code&gt;crypt(3)&lt;/code&gt; depends on the OS it is
  run.  The generated string lacks data portability.

* On some OSes such as Mac OS, &lt;code&gt;crypt(3)&lt;/code&gt; never fails
  (i.e. silently ends up in unexpected results).

* On some OSes such as Mac OS, &lt;code&gt;crypt(3)&lt;/code&gt; is not
  thread safe.

* So-called &quot;traditional&quot; usage of &lt;code&gt;crypt(3)&lt;/code&gt; is very
  very very weak.  According to its manpage, Linux&#39;s traditional
  &lt;code&gt;crypt(3)&lt;/code&gt; output has only 2**56 variations; too
  easy to brute force today.  And this is the default behaviour.

* In order to make things robust some OSes implement so-called
  &quot;modular&quot; usage. To go through, you have to do a complex
  build-up of the &lt;code&gt;salt_str&lt;/code&gt; parameter, by hand.
  Failure in generation of a proper salt string tends not to
  yield any errors; typos in parameters are normally not
  detectable.

    * For instance, in the following example, the second invocation
      of &lt;code&gt;String#crypt&lt;/code&gt; is wrong; it has a typo in
      &quot;round=&quot; (lacks &quot;s&quot;).  However the call does not fail and
      something unexpected is generated.

         &quot;foo&quot;.crypt(&quot;$5$rounds=1000$salt$&quot;) # OK, proper usage
         &quot;foo&quot;.crypt(&quot;$5$round=1000$salt$&quot;)  # Typo not detected

* Even in the &quot;modular&quot; mode, some hash functions are considered
  archaic and no longer recommended at all; for instance module
  &lt;code&gt;$1$&lt;/code&gt; is officially abandoned by its author: see
  http://phk.freebsd.dk/sagas/md5crypt_eol.html .  For another
  instance module &lt;code&gt;$3$&lt;/code&gt; is considered completely
  broken: see the manpage of FreeBSD.

* On some OS such as Mac OS, there is no modular mode. Yet, as
  written above, &lt;code&gt;crypt(3)&lt;/code&gt; on Mac OS never fails.
  This means even if you build up a proper salt string it
  generates a traditional DES hash anyways, and there is no way
  for you to be aware of.

      &quot;foo&quot;.crypt(&quot;$5$rounds=1000$salt$&quot;) # =&gt; &quot;$5fNPQMxC5j6.&quot;</code></pre>

<p>If for some reason you cannot migrate to other secure contemporary password
hashing algorithms, install the string-crypt gem and <code>require
&#39;string/crypt&#39;</code> to continue using it.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-crypt_source')" id="l_method-i-crypt_source">show</a>
                
              </p>
              <div id="method-i-crypt_source" class="dyn-source">
                <pre>static VALUE
rb_str_crypt(VALUE str, VALUE salt)
{
#ifdef HAVE_CRYPT_R
    VALUE databuf;
    struct crypt_data *data;
#   define CRYPT_END() ALLOCV_END(databuf)
#else
    extern char *crypt(const char *, const char *);
#   define CRYPT_END() (void)0
#endif
    VALUE result;
    const char *s, *saltp;
    char *res;
#ifdef BROKEN_CRYPT
    char salt_8bit_clean[3];
#endif

    StringValue(salt);
    mustnot_wchar(str);
    mustnot_wchar(salt);
    if (RSTRING_LEN(salt) &lt; 2) {
      short_salt:
        rb_raise(rb_eArgError, &quot;salt too short (need &gt;=2 bytes)&quot;);
    }

    s = StringValueCStr(str);
    saltp = RSTRING_PTR(salt);
    if (!saltp[0] || !saltp[1]) goto short_salt;
#ifdef BROKEN_CRYPT
    if (!ISASCII((unsigned char)saltp[0]) || !ISASCII((unsigned char)saltp[1])) {
        salt_8bit_clean[0] = saltp[0] &amp; 0x7f;
        salt_8bit_clean[1] = saltp[1] &amp; 0x7f;
        salt_8bit_clean[2] = &#39;\0&#39;;
        saltp = salt_8bit_clean;
    }
#endif
#ifdef HAVE_CRYPT_R
    data = ALLOCV(databuf, sizeof(struct crypt_data));
# ifdef HAVE_STRUCT_CRYPT_DATA_INITIALIZED
    data-&gt;initialized = 0;
# endif
    res = crypt_r(s, saltp, data);
#else
    res = crypt(s, saltp);
#endif
    if (!res) {
        int err = errno;
        CRYPT_END();
        rb_syserr_fail(err, &quot;crypt&quot;);
    }
    result = rb_str_new_cstr(res);
    CRYPT_END();
    FL_SET_RAW(result, OBJ_TAINTED_RAW(str) | OBJ_TAINTED_RAW(salt));
    return result;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-delete">
            
              <b>str.delete([other_str]+)   &rarr; new_str
</b>
            
            <a href="../classes/String.html#method-i-delete" name="method-i-delete" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns a copy of <em>str</em> with all characters in the intersection of
its arguments deleted. Uses the same rules for building the set of
characters as <code>String#count</code>.</p>

<pre><code>&quot;hello&quot;.delete &quot;l&quot;,&quot;lo&quot;        #=&gt; &quot;heo&quot;
&quot;hello&quot;.delete &quot;lo&quot;            #=&gt; &quot;he&quot;
&quot;hello&quot;.delete &quot;aeiou&quot;, &quot;^e&quot;   #=&gt; &quot;hell&quot;
&quot;hello&quot;.delete &quot;ej-m&quot;          #=&gt; &quot;ho&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-delete_source')" id="l_method-i-delete_source">show</a>
                
              </p>
              <div id="method-i-delete_source" class="dyn-source">
                <pre>static VALUE
rb_str_delete(int argc, VALUE *argv, VALUE str)
{
    str = rb_str_dup(str);
    rb_str_delete_bang(argc, argv, str);
    return str;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-delete-21">
            
              <b>str.delete!([other_str]+)   &rarr; str or nil
</b>
            
            <a href="../classes/String.html#method-i-delete-21" name="method-i-delete-21" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Performs a <code>delete</code> operation in place, returning <em>str</em>,
or <code>nil</code> if <em>str</em> was not modified.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-delete-21_source')" id="l_method-i-delete-21_source">show</a>
                
              </p>
              <div id="method-i-delete-21_source" class="dyn-source">
                <pre>static VALUE
rb_str_delete_bang(int argc, VALUE *argv, VALUE str)
{
    char squeez[TR_TABLE_SIZE];
    rb_encoding *enc = 0;
    char *s, *send, *t;
    VALUE del = 0, nodel = 0;
    int modify = 0;
    int i, ascompat, cr;

    if (RSTRING_LEN(str) == 0 || !RSTRING_PTR(str)) return Qnil;
    rb_check_arity(argc, 1, UNLIMITED_ARGUMENTS);
    for (i=0; i&lt;argc; i++) {
        VALUE s = argv[i];

        StringValue(s);
        enc = rb_enc_check(str, s);
        tr_setup_table(s, squeez, i==0, &amp;del, &amp;nodel, enc);
    }

    str_modify_keep_cr(str);
    ascompat = rb_enc_asciicompat(enc);
    s = t = RSTRING_PTR(str);
    send = RSTRING_END(str);
    cr = ascompat ? ENC_CODERANGE_7BIT : ENC_CODERANGE_VALID;
    while (s &lt; send) {
        unsigned int c;
        int clen;

        if (ascompat &amp;&amp; (c = *(unsigned char*)s) &lt; 0x80) {
            if (squeez[c]) {
                modify = 1;
            }
            else {
                if (t != s) *t = c;
                t++;
            }
            s++;
        }
        else {
            c = rb_enc_codepoint_len(s, send, &amp;clen, enc);

            if (tr_find(c, squeez, del, nodel)) {
                modify = 1;
            }
            else {
                if (t != s) rb_enc_mbcput(c, t, enc);
                t += clen;
                if (cr == ENC_CODERANGE_7BIT) cr = ENC_CODERANGE_VALID;
            }
            s += clen;
        }
    }
    TERM_FILL(t, TERM_LEN(str));
    STR_SET_LEN(str, t - RSTRING_PTR(str));
    ENC_CODERANGE_SET(str, cr);

    if (modify) return str;
    return Qnil;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-delete_prefix">
            
              <b>str.delete_prefix(prefix) &rarr; new_str
</b>
            
            <a href="../classes/String.html#method-i-delete_prefix" name="method-i-delete_prefix" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns a copy of <em>str</em> with leading <code>prefix</code> deleted.</p>

<pre><code>&quot;hello&quot;.delete_prefix(&quot;hel&quot;) #=&gt; &quot;lo&quot;
&quot;hello&quot;.delete_prefix(&quot;llo&quot;) #=&gt; &quot;hello&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-delete_prefix_source')" id="l_method-i-delete_prefix_source">show</a>
                
              </p>
              <div id="method-i-delete_prefix_source" class="dyn-source">
                <pre>static VALUE
rb_str_delete_prefix(VALUE str, VALUE prefix)
{
    long prefixlen;

    prefixlen = deleted_prefix_length(str, prefix);
    if (prefixlen &lt;= 0) return rb_str_dup(str);

    return rb_str_subseq(str, prefixlen, RSTRING_LEN(str) - prefixlen);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-delete_prefix-21">
            
              <b>str.delete_prefix!(prefix) &rarr; self or nil
</b>
            
            <a href="../classes/String.html#method-i-delete_prefix-21" name="method-i-delete_prefix-21" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Deletes leading <code>prefix</code> from <em>str</em>, returning
<code>nil</code> if no change was made.</p>

<pre><code>&quot;hello&quot;.delete_prefix!(&quot;hel&quot;) #=&gt; &quot;lo&quot;
&quot;hello&quot;.delete_prefix!(&quot;llo&quot;) #=&gt; nil
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-delete_prefix-21_source')" id="l_method-i-delete_prefix-21_source">show</a>
                
              </p>
              <div id="method-i-delete_prefix-21_source" class="dyn-source">
                <pre>static VALUE
rb_str_delete_prefix_bang(VALUE str, VALUE prefix)
{
    long prefixlen;
    str_modify_keep_cr(str);

    prefixlen = deleted_prefix_length(str, prefix);
    if (prefixlen &lt;= 0) return Qnil;

    return rb_str_drop_bytes(str, prefixlen);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-delete_suffix">
            
              <b>str.delete_suffix(suffix) &rarr; new_str
</b>
            
            <a href="../classes/String.html#method-i-delete_suffix" name="method-i-delete_suffix" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns a copy of <em>str</em> with trailing <code>suffix</code> deleted.</p>

<pre><code>&quot;hello&quot;.delete_suffix(&quot;llo&quot;) #=&gt; &quot;he&quot;
&quot;hello&quot;.delete_suffix(&quot;hel&quot;) #=&gt; &quot;hello&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-delete_suffix_source')" id="l_method-i-delete_suffix_source">show</a>
                
              </p>
              <div id="method-i-delete_suffix_source" class="dyn-source">
                <pre>static VALUE
rb_str_delete_suffix(VALUE str, VALUE suffix)
{
    long suffixlen;

    suffixlen = deleted_suffix_length(str, suffix);
    if (suffixlen &lt;= 0) return rb_str_dup(str);

    return rb_str_subseq(str, 0, RSTRING_LEN(str) - suffixlen);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-delete_suffix-21">
            
              <b>str.delete_suffix!(suffix) &rarr; self or nil
</b>
            
            <a href="../classes/String.html#method-i-delete_suffix-21" name="method-i-delete_suffix-21" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Deletes trailing <code>suffix</code> from <em>str</em>, returning
<code>nil</code> if no change was made.</p>

<pre><code>&quot;hello&quot;.delete_suffix!(&quot;llo&quot;) #=&gt; &quot;he&quot;
&quot;hello&quot;.delete_suffix!(&quot;hel&quot;) #=&gt; nil
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-delete_suffix-21_source')" id="l_method-i-delete_suffix-21_source">show</a>
                
              </p>
              <div id="method-i-delete_suffix-21_source" class="dyn-source">
                <pre>static VALUE
rb_str_delete_suffix_bang(VALUE str, VALUE suffix)
{
    long olen, suffixlen, len;
    str_modifiable(str);

    suffixlen = deleted_suffix_length(str, suffix);
    if (suffixlen &lt;= 0) return Qnil;

    olen = RSTRING_LEN(str);
    str_modify_keep_cr(str);
    len = olen - suffixlen;
    STR_SET_LEN(str, len);
    TERM_FILL(&amp;RSTRING_PTR(str)[len], TERM_LEN(str));
    if (ENC_CODERANGE(str) != ENC_CODERANGE_7BIT) {
        ENC_CODERANGE_CLEAR(str);
    }
    return str;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-downcase">
            
              <b>str.downcase              &rarr; new_str<br />str.downcase([options])   &rarr; new_str
</b>
            
            <a href="../classes/String.html#method-i-downcase" name="method-i-downcase" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns a copy of <em>str</em> with all uppercase letters replaced with
their lowercase counterparts. Which letters exactly are replaced, and by
which other letters, depends on the presence or absence of options, and on
the <code>encoding</code> of the string.</p>

<p>The meaning of the <code>options</code> is as follows:</p>
<dl class="rdoc-list note-list"><dt>No option 
<dd>
<p>Full Unicode case mapping, suitable for most languages (see :turkic and
:lithuanian options below for exceptions). Context-dependent case mapping
as described in Table 3-14 of the Unicode standard is currently not
supported.</p>
</dd><dt>:ascii 
<dd>
<p>Only the ASCII region, i.e. the characters “A&#39;&#39; to “Z&#39;&#39; and
“a&#39;&#39; to “z&#39;&#39;, are affected. This option cannot be combined
with any other option.</p>
</dd><dt>:turkic 
<dd>
<p>Full Unicode case mapping, adapted for Turkic languages (Turkish,
Azerbaijani, …). This means that upper case I is mapped to lower case
dotless i, and so on.</p>
</dd><dt>:lithuanian 
<dd>
<p>Currently, just full Unicode case mapping. In the future, full Unicode case
mapping adapted for Lithuanian (keeping the dot on the lower case i even if
there is an accent on top).</p>
</dd><dt>:fold 
<dd>
<p>Only available on <code>downcase</code> and <code>downcase!</code>. Unicode
case <strong>folding</strong>, which is more far-reaching than Unicode case
mapping. This option currently cannot be combined with any other option
(i.e. there is currently no variant for turkic languages).</p>
</dd></dl>

<p>Please note that several assumptions that are valid for ASCII-only case
conversions do not hold for more general case conversions. For example, the
length of the result may not be the same as the length of the input
(neither in characters nor in bytes), some roundtrip assumptions (e.g.
str.downcase == str.upcase.downcase) may not apply, and Unicode
normalization (i.e. <a
href="String.html#method-i-unicode_normalize">#unicode_normalize</a>) is
not necessarily maintained by case mapping operations.</p>

<p>Non-ASCII case mapping/folding is currently supported for UTF-8,
UTF-16BE/LE, UTF-32BE/LE, and ISO-8859-1~16 Strings/Symbols. This support
will be extended to other encodings.</p>

<pre><code>&quot;hEllO&quot;.downcase   #=&gt; &quot;hello&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-downcase_source')" id="l_method-i-downcase_source">show</a>
                
              </p>
              <div id="method-i-downcase_source" class="dyn-source">
                <pre>static VALUE
rb_str_downcase(int argc, VALUE *argv, VALUE str)
{
    str = rb_str_dup(str);
    rb_str_downcase_bang(argc, argv, str);
    return str;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-downcase-21">
            
              <b>str.downcase!             &rarr; str or nil<br />str.downcase!([options])  &rarr; str or nil
</b>
            
            <a href="../classes/String.html#method-i-downcase-21" name="method-i-downcase-21" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Downcases the contents of <em>str</em>, returning <code>nil</code> if no
changes were made.</p>

<p>See <a href="String.html#method-i-downcase">#downcase</a> for meaning of
<code>options</code> and use with different encodings.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-downcase-21_source')" id="l_method-i-downcase-21_source">show</a>
                
              </p>
              <div id="method-i-downcase-21_source" class="dyn-source">
                <pre>static VALUE
rb_str_downcase_bang(int argc, VALUE *argv, VALUE str)
{
    rb_encoding *enc;
    OnigCaseFoldType flags = ONIGENC_CASE_DOWNCASE;

    flags = check_case_options(argc, argv, flags);
    str_modify_keep_cr(str);
    enc = STR_ENC_GET(str);
    rb_str_check_dummy_enc(enc);
    if (((flags&amp;ONIGENC_CASE_ASCII_ONLY) &amp;&amp; (enc==rb_utf8_encoding() || rb_enc_mbmaxlen(enc)==1))
        || (!(flags&amp;ONIGENC_CASE_FOLD_TURKISH_AZERI) &amp;&amp; ENC_CODERANGE(str)==ENC_CODERANGE_7BIT)) {
        char *s = RSTRING_PTR(str), *send = RSTRING_END(str);

        while (s &lt; send) {
            unsigned int c = *(unsigned char*)s;

            if (rb_enc_isascii(c, enc) &amp;&amp; &#39;A&#39; &lt;= c &amp;&amp; c &lt;= &#39;Z&#39;) {
                *s = &#39;a&#39; + (c - &#39;A&#39;);
                flags |= ONIGENC_CASE_MODIFIED;
            }
            s++;
        }
    }
    else if (flags&amp;ONIGENC_CASE_ASCII_ONLY)
        rb_str_ascii_casemap(str, &amp;flags, enc);
    else
        str_shared_replace(str, rb_str_casemap(str, &amp;flags, enc));

    if (ONIGENC_CASE_MODIFIED&amp;flags) return str;
    return Qnil;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-dump">
            
              <b>str.dump   &rarr; new_str
</b>
            
            <a href="../classes/String.html#method-i-dump" name="method-i-dump" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Produces a version of <code>str</code> with all non-printing characters
replaced by <code>\nnn</code> notation and all special characters escaped.</p>

<pre><code>&quot;hello \n &#39;&#39;&quot;.dump  #=&gt; &quot;\&quot;hello \\n &#39;&#39;\&quot;&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-dump_source')" id="l_method-i-dump_source">show</a>
                
              </p>
              <div id="method-i-dump_source" class="dyn-source">
                <pre>VALUE
rb_str_dump(VALUE str)
{
    int encidx = rb_enc_get_index(str);
    rb_encoding *enc = rb_enc_from_index(encidx);
    long len;
    const char *p, *pend;
    char *q, *qend;
    VALUE result;
    int u8 = (encidx == rb_utf8_encindex());
    static const char nonascii_suffix[] = &quot;.dup.force_encoding(\&quot;%s\&quot;)&quot;;

    len = 2;                    /* &quot;&quot; */
    if (!rb_enc_asciicompat(enc)) {
        len += strlen(nonascii_suffix) - rb_strlen_lit(&quot;%s&quot;);
        len += strlen(enc-&gt;name);
    }

    p = RSTRING_PTR(str); pend = p + RSTRING_LEN(str);
    while (p &lt; pend) {
        int clen;
        unsigned char c = *p++;

        switch (c) {
          case &#39;&quot;&#39;:  case &#39;\\&#39;:
          case &#39;\n&#39;: case &#39;\r&#39;:
          case &#39;\t&#39;: case &#39;\f&#39;:
          case &#39;\013&#39;: case &#39;\010&#39;: case &#39;\007&#39;: case &#39;\033&#39;:
            clen = 2;
            break;

          case &#39;#&#39;:
            clen = IS_EVSTR(p, pend) ? 2 : 1;
            break;

          default:
            if (ISPRINT(c)) {
                clen = 1;
            }
            else {
                if (u8 &amp;&amp; c &gt; 0x7F) { /* \u notation */
                    int n = rb_enc_precise_mbclen(p-1, pend, enc);
                    if (MBCLEN_CHARFOUND_P(n)) {
                        unsigned int cc = rb_enc_mbc_to_codepoint(p-1, pend, enc);
                        if (cc &lt;= 0xFFFF)
                            clen = 6;  /* \uXXXX */
                        else if (cc &lt;= 0xFFFFF)
                            clen = 9;  /* \u{XXXXX} */
                        else
                            clen = 10; /* \u{XXXXXX} */
                        p += MBCLEN_CHARFOUND_LEN(n)-1;
                        break;
                    }
                }
                clen = 4;     /* \xNN */
            }
            break;
        }

        if (clen &gt; LONG_MAX - len) {
            rb_raise(rb_eRuntimeError, &quot;string size too big&quot;);
        }
        len += clen;
    }

    result = rb_str_new_with_class(str, 0, len);
    p = RSTRING_PTR(str); pend = p + RSTRING_LEN(str);
    q = RSTRING_PTR(result); qend = q + len + 1;

    *q++ = &#39;&quot;&#39;;
    while (p &lt; pend) {
        unsigned char c = *p++;

        if (c == &#39;&quot;&#39; || c == &#39;\\&#39;) {
            *q++ = &#39;\\&#39;;
            *q++ = c;
        }
        else if (c == &#39;#&#39;) {
            if (IS_EVSTR(p, pend)) *q++ = &#39;\\&#39;;
            *q++ = &#39;#&#39;;
        }
        else if (c == &#39;\n&#39;) {
            *q++ = &#39;\\&#39;;
            *q++ = &#39;n&#39;;
        }
        else if (c == &#39;\r&#39;) {
            *q++ = &#39;\\&#39;;
            *q++ = &#39;r&#39;;
        }
        else if (c == &#39;\t&#39;) {
            *q++ = &#39;\\&#39;;
            *q++ = &#39;t&#39;;
        }
        else if (c == &#39;\f&#39;) {
            *q++ = &#39;\\&#39;;
            *q++ = &#39;f&#39;;
        }
        else if (c == &#39;\013&#39;) {
            *q++ = &#39;\\&#39;;
            *q++ = &#39;v&#39;;
        }
        else if (c == &#39;\010&#39;) {
            *q++ = &#39;\\&#39;;
            *q++ = &#39;b&#39;;
        }
        else if (c == &#39;\007&#39;) {
            *q++ = &#39;\\&#39;;
            *q++ = &#39;a&#39;;
        }
        else if (c == &#39;\033&#39;) {
            *q++ = &#39;\\&#39;;
            *q++ = &#39;e&#39;;
        }
        else if (ISPRINT(c)) {
            *q++ = c;
        }
        else {
            *q++ = &#39;\\&#39;;
            if (u8) {
                int n = rb_enc_precise_mbclen(p-1, pend, enc) - 1;
                if (MBCLEN_CHARFOUND_P(n)) {
                    int cc = rb_enc_mbc_to_codepoint(p-1, pend, enc);
                    p += n;
                    if (cc &lt;= 0xFFFF)
                        snprintf(q, qend-q, &quot;u%04X&quot;, cc);    /* \uXXXX */
                    else
                        snprintf(q, qend-q, &quot;u{%X}&quot;, cc);  /* \u{XXXXX} or \u{XXXXXX} */
                    q += strlen(q);
                    continue;
                }
            }
            snprintf(q, qend-q, &quot;x%02X&quot;, c);
            q += 3;
        }
    }
    *q++ = &#39;&quot;&#39;;
    *q = &#39;\0&#39;;
    if (!rb_enc_asciicompat(enc)) {
        snprintf(q, qend-q, nonascii_suffix, enc-&gt;name);
        encidx = rb_ascii8bit_encindex();
    }
    OBJ_INFECT_RAW(result, str);
    /* result from dump is ASCII */
    rb_enc_associate_index(result, encidx);
    ENC_CODERANGE_SET(result, ENC_CODERANGE_7BIT);
    return result;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-each_byte">
            
              <b>str.each_byte {|integer| block }    &rarr; str<br />str.each_byte                      &rarr; an_enumerator
</b>
            
            <a href="../classes/String.html#method-i-each_byte" name="method-i-each_byte" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Passes each byte in <em>str</em> to the given block, or returns an
enumerator if no block is given.</p>

<pre><code>&quot;hello&quot;.each_byte {|c| print c, &#39; &#39; }
</code></pre>

<p><em>produces:</em></p>

<pre><code>104 101 108 108 111</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-each_byte_source')" id="l_method-i-each_byte_source">show</a>
                
              </p>
              <div id="method-i-each_byte_source" class="dyn-source">
                <pre>static VALUE
rb_str_each_byte(VALUE str)
{
    RETURN_SIZED_ENUMERATOR(str, 0, 0, rb_str_each_byte_size);
    return rb_str_enumerate_bytes(str, 0);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-each_char">
            
              <b>str.each_char {|cstr| block }    &rarr; str<br />str.each_char                    &rarr; an_enumerator
</b>
            
            <a href="../classes/String.html#method-i-each_char" name="method-i-each_char" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Passes each character in <em>str</em> to the given block, or returns an
enumerator if no block is given.</p>

<pre><code>&quot;hello&quot;.each_char {|c| print c, &#39; &#39; }
</code></pre>

<p><em>produces:</em></p>

<pre><code>h e l l o
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-each_char_source')" id="l_method-i-each_char_source">show</a>
                
              </p>
              <div id="method-i-each_char_source" class="dyn-source">
                <pre>static VALUE
rb_str_each_char(VALUE str)
{
    RETURN_SIZED_ENUMERATOR(str, 0, 0, rb_str_each_char_size);
    return rb_str_enumerate_chars(str, 0);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-each_codepoint">
            
              <b>str.each_codepoint {|integer| block }    &rarr; str<br />str.each_codepoint                       &rarr; an_enumerator
</b>
            
            <a href="../classes/String.html#method-i-each_codepoint" name="method-i-each_codepoint" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Passes the <code>Integer</code> ordinal of each character in <em>str</em>,
also known as a <em>codepoint</em> when applied to Unicode strings to the
given block.  For encodings other than UTF-8/UTF-16(BE|LE)/UTF-32(BE|LE),
values are directly derived from the binary representation of each
character.</p>

<p>If no block is given, an enumerator is returned instead.</p>

<pre><code>&quot;hello\u0639&quot;.each_codepoint {|c| print c, &#39; &#39; }
</code></pre>

<p><em>produces:</em></p>

<pre><code>104 101 108 108 111 1593</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-each_codepoint_source')" id="l_method-i-each_codepoint_source">show</a>
                
              </p>
              <div id="method-i-each_codepoint_source" class="dyn-source">
                <pre>static VALUE
rb_str_each_codepoint(VALUE str)
{
    RETURN_SIZED_ENUMERATOR(str, 0, 0, rb_str_each_char_size);
    return rb_str_enumerate_codepoints(str, 0);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-each_grapheme_cluster">
            
              <b>str.each_grapheme_cluster {|cstr| block }    &rarr; str<br />str.each_grapheme_cluster                    &rarr; an_enumerator
</b>
            
            <a href="../classes/String.html#method-i-each_grapheme_cluster" name="method-i-each_grapheme_cluster" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Passes each grapheme cluster in <em>str</em> to the given block, or returns
an enumerator if no block is given. Unlike <a
href="String.html#method-i-each_char">#each_char</a>, this enumerates by
grapheme clusters defined by Unicode Standard Annex #29 <a
href="http://unicode.org/reports/tr29">unicode.org/reports/tr29</a>/</p>

<pre><code>&quot;a\u0300&quot;.each_char.to_a.size #=&gt; 2
&quot;a\u0300&quot;.each_grapheme_cluster.to_a.size #=&gt; 1
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-each_grapheme_cluster_source')" id="l_method-i-each_grapheme_cluster_source">show</a>
                
              </p>
              <div id="method-i-each_grapheme_cluster_source" class="dyn-source">
                <pre>static VALUE
rb_str_each_grapheme_cluster(VALUE str)
{
    RETURN_SIZED_ENUMERATOR(str, 0, 0, rb_str_each_grapheme_cluster_size);
    return rb_str_enumerate_grapheme_clusters(str, 0);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-each_line">
            
              <b>str.each_line(separator=$/ [, getline_args]) {|substr| block } &rarr; str<br />str.each_line(separator=$/ [, getline_args])                   &rarr; an_enumerator
</b>
            
            <a href="../classes/String.html#method-i-each_line" name="method-i-each_line" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Splits <em>str</em> using the supplied parameter as the record separator
(<code>$/</code> by default), passing each substring in turn to the
supplied block.  If a zero-length record separator is supplied, the string
is split into paragraphs delimited by multiple successive newlines.</p>

<p>See <a href="IO.html#method-c-readlines">IO.readlines</a> for details about
getline_args.</p>

<p>If no block is given, an enumerator is returned instead.</p>

<pre><code>print &quot;Example one\n&quot;
&quot;hello\nworld&quot;.each_line {|s| p s}
print &quot;Example two\n&quot;
&quot;hello\nworld&quot;.each_line(&#39;l&#39;) {|s| p s}
print &quot;Example three\n&quot;
&quot;hello\n\n\nworld&quot;.each_line(&#39;&#39;) {|s| p s}
</code></pre>

<p><em>produces:</em></p>

<pre><code>Example one
&quot;hello\n&quot;
&quot;world&quot;
Example two
&quot;hel&quot;
&quot;l&quot;
&quot;o\nworl&quot;
&quot;d&quot;
Example three
&quot;hello\n\n&quot;
&quot;world&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-each_line_source')" id="l_method-i-each_line_source">show</a>
                
              </p>
              <div id="method-i-each_line_source" class="dyn-source">
                <pre>static VALUE
rb_str_each_line(int argc, VALUE *argv, VALUE str)
{
    RETURN_SIZED_ENUMERATOR(str, argc, argv, 0);
    return rb_str_enumerate_lines(argc, argv, str, 0);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-empty-3F">
            
              <b>str.empty?   &rarr; true or false
</b>
            
            <a href="../classes/String.html#method-i-empty-3F" name="method-i-empty-3F" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns <code>true</code> if <em>str</em> has a length of zero.</p>

<pre><code>&quot;hello&quot;.empty?   #=&gt; false
&quot; &quot;.empty?       #=&gt; false
&quot;&quot;.empty?        #=&gt; true
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-empty-3F_source')" id="l_method-i-empty-3F_source">show</a>
                
              </p>
              <div id="method-i-empty-3F_source" class="dyn-source">
                <pre>static VALUE
rb_str_empty(VALUE str)
{
    if (RSTRING_LEN(str) == 0)
        return Qtrue;
    return Qfalse;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-encode">
            
              <b>str.encode(encoding [, options] )   &rarr; str<br />str.encode(dst_encoding, src_encoding [, options] )   &rarr; str<br />str.encode([options])   &rarr; str
</b>
            
            <a href="../classes/String.html#method-i-encode" name="method-i-encode" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>The first form returns a copy of <code>str</code> transcoded to encoding
<code>encoding</code>. The second form returns a copy of <code>str</code>
transcoded from src_encoding to dst_encoding. The last form returns a copy
of <code>str</code> transcoded to <code>Encoding.default_internal</code>.</p>

<p>By default, the first and second form raise <a
href="Encoding/UndefinedConversionError.html">Encoding::UndefinedConversionError</a>
for characters that are undefined in the destination encoding, and <a
href="Encoding/InvalidByteSequenceError.html">Encoding::InvalidByteSequenceError</a>
for invalid byte sequences in the source encoding. The last form by default
does not raise exceptions but uses replacement strings.</p>

<p>The <code>options</code> <a href="Hash.html">Hash</a> gives details for
conversion and can have the following keys:</p>
<dl class="rdoc-list note-list"><dt>:invalid 
<dd>
<p>If the value is <code>:replace</code>, <a
href="String.html#method-i-encode">encode</a> replaces invalid byte
sequences in <code>str</code> with the replacement character.  The default
is to raise the <a
href="Encoding/InvalidByteSequenceError.html">Encoding::InvalidByteSequenceError</a>
exception</p>
</dd><dt>:undef 
<dd>
<p>If the value is <code>:replace</code>, <a
href="String.html#method-i-encode">encode</a> replaces characters which are
undefined in the destination encoding with the replacement character. The
default is to raise the <a
href="Encoding/UndefinedConversionError.html">Encoding::UndefinedConversionError</a>.</p>
</dd><dt>:replace 
<dd>
<p>Sets the replacement string to the given value. The default replacement
string is “uFFFD” for Unicode encoding forms, and “?” otherwise.</p>
</dd><dt>:fallback 
<dd>
<p>Sets the replacement string by the given object for undefined character. 
The object should be a <a href="Hash.html">Hash</a>, a <a
href="Proc.html">Proc</a>, a <a href="Method.html">Method</a>, or an object
which has [] method. Its key is an undefined character encoded in the
source encoding of current transcoder. Its value can be any encoding until
it can be converted into the destination encoding of the transcoder.</p>
</dd><dt>:xml 
<dd>
<p>The value must be <code>:text</code> or <code>:attr</code>. If the value is
<code>:text</code> <a href="String.html#method-i-encode">encode</a>
replaces undefined characters with their (upper-case hexadecimal) numeric
character references. &#39;&amp;&#39;, &#39;&lt;&#39;, and &#39;&gt;&#39;
are converted to “&amp;amp;”, “&amp;lt;”, and “&amp;gt;”, respectively. If
the value is <code>:attr</code>, <a
href="String.html#method-i-encode">encode</a> also quotes the replacement
result (using &#39;“&#39;), and replaces &#39;”&#39; with “&amp;quot;”.</p>
</dd><dt>:cr_newline 
<dd>
<p>Replaces LF (“n”) with CR (“r”) if value is true.</p>
</dd><dt>:crlf_newline 
<dd>
<p>Replaces LF (“n”) with CRLF (“rn”) if value is true.</p>
</dd><dt>:universal_newline 
<dd>
<p>Replaces CRLF (“rn”) and CR (“r”) with LF (“n”) if value is true.</p>
</dd></dl>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-encode_source')" id="l_method-i-encode_source">show</a>
                
              </p>
              <div id="method-i-encode_source" class="dyn-source">
                <pre>static VALUE
str_encode(int argc, VALUE *argv, VALUE str)
{
    VALUE newstr = str;
    int encidx = str_transcode(argc, argv, &amp;newstr);
    return encoded_dup(newstr, str, encidx);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-encode-21">
            
              <b>str.encode!(encoding [, options] )   &rarr; str<br />str.encode!(dst_encoding, src_encoding [, options] )   &rarr; str
</b>
            
            <a href="../classes/String.html#method-i-encode-21" name="method-i-encode-21" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>The first form transcodes the contents of <em>str</em> from str.encoding to
<code>encoding</code>. The second form transcodes the contents of
<em>str</em> from src_encoding to dst_encoding. The options <a
href="Hash.html">Hash</a> gives details for conversion. See <a
href="String.html#method-i-encode">#encode</a> for details. Returns the
string even if no changes were made.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-encode-21_source')" id="l_method-i-encode-21_source">show</a>
                
              </p>
              <div id="method-i-encode-21_source" class="dyn-source">
                <pre>static VALUE
str_encode_bang(int argc, VALUE *argv, VALUE str)
{
    VALUE newstr;
    int encidx;

    rb_check_frozen(str);

    newstr = str;
    encidx = str_transcode(argc, argv, &amp;newstr);

    if (encidx &lt; 0) return str;
    if (newstr == str) {
        rb_enc_associate_index(str, encidx);
        return str;
    }
    rb_str_shared_replace(str, newstr);
    return str_encode_associate(str, encidx);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-encoding">
            
              <b>obj.encoding   &rarr; encoding
</b>
            
            <a href="../classes/String.html#method-i-encoding" name="method-i-encoding" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns the <a href="Encoding.html">Encoding</a> object that represents the
encoding of obj.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-encoding_source')" id="l_method-i-encoding_source">show</a>
                
              </p>
              <div id="method-i-encoding_source" class="dyn-source">
                <pre>VALUE
rb_obj_encoding(VALUE obj)
{
    int idx = rb_enc_get_index(obj);
    if (idx &lt; 0) {
	rb_raise(rb_eTypeError, &quot;unknown encoding&quot;);
    }
    return rb_enc_from_encoding_index(idx &amp; ENC_INDEX_MASK);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-end_with-3F">
            
              <b>str.end_with?([suffixes]+)   &rarr; true or false
</b>
            
            <a href="../classes/String.html#method-i-end_with-3F" name="method-i-end_with-3F" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns true if <code>str</code> ends with one of the <code>suffixes</code>
given.</p>

<pre><code>&quot;hello&quot;.end_with?(&quot;ello&quot;)               #=&gt; true

# returns true if one of the +suffixes+ matches.
&quot;hello&quot;.end_with?(&quot;heaven&quot;, &quot;ello&quot;)     #=&gt; true
&quot;hello&quot;.end_with?(&quot;heaven&quot;, &quot;paradise&quot;) #=&gt; false
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-end_with-3F_source')" id="l_method-i-end_with-3F_source">show</a>
                
              </p>
              <div id="method-i-end_with-3F_source" class="dyn-source">
                <pre>static VALUE
rb_str_end_with(int argc, VALUE *argv, VALUE str)
{
    int i;
    char *p, *s, *e;
    rb_encoding *enc;

    for (i=0; i&lt;argc; i++) {
        VALUE tmp = argv[i];
        StringValue(tmp);
        enc = rb_enc_check(str, tmp);
        if (RSTRING_LEN(str) &lt; RSTRING_LEN(tmp)) continue;
        p = RSTRING_PTR(str);
        e = p + RSTRING_LEN(str);
        s = e - RSTRING_LEN(tmp);
        if (rb_enc_left_char_head(p, s, e, enc) != s)
            continue;
        if (memcmp(s, RSTRING_PTR(tmp), RSTRING_LEN(tmp)) == 0)
            return Qtrue;
    }
    return Qfalse;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-eql-3F">
            
              <b>str.eql?(other)   &rarr; true or false
</b>
            
            <a href="../classes/String.html#method-i-eql-3F" name="method-i-eql-3F" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Two strings are equal if they have the same length and content.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-eql-3F_source')" id="l_method-i-eql-3F_source">show</a>
                
              </p>
              <div id="method-i-eql-3F_source" class="dyn-source">
                <pre>MJIT_FUNC_EXPORTED VALUE
rb_str_eql(VALUE str1, VALUE str2)
{
    if (str1 == str2) return Qtrue;
    if (!RB_TYPE_P(str2, T_STRING)) return Qfalse;
    return str_eql(str1, str2);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-force_encoding">
            
              <b>str.force_encoding(encoding)   &rarr; str
</b>
            
            <a href="../classes/String.html#method-i-force_encoding" name="method-i-force_encoding" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Changes the encoding to <code>encoding</code> and returns self.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-force_encoding_source')" id="l_method-i-force_encoding_source">show</a>
                
              </p>
              <div id="method-i-force_encoding_source" class="dyn-source">
                <pre>static VALUE
rb_str_force_encoding(VALUE str, VALUE enc)
{
    str_modifiable(str);
    rb_enc_associate(str, rb_to_encoding(enc));
    ENC_CODERANGE_CLEAR(str);
    return str;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-freeze">
            
              <b>freeze</b>()
            
            <a href="../classes/String.html#method-i-freeze" name="method-i-freeze" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-freeze_source')" id="l_method-i-freeze_source">show</a>
                
              </p>
              <div id="method-i-freeze_source" class="dyn-source">
                <pre>VALUE
rb_str_freeze(VALUE str)
{
    if (OBJ_FROZEN(str)) return str;
    rb_str_resize(str, RSTRING_LEN(str));
    return rb_obj_freeze(str);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-getbyte">
            
              <b>str.getbyte(index)          &rarr; 0 .. 255
</b>
            
            <a href="../classes/String.html#method-i-getbyte" name="method-i-getbyte" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>returns the <em>index</em>th byte as an integer.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-getbyte_source')" id="l_method-i-getbyte_source">show</a>
                
              </p>
              <div id="method-i-getbyte_source" class="dyn-source">
                <pre>static VALUE
rb_str_getbyte(VALUE str, VALUE index)
{
    long pos = NUM2LONG(index);

    if (pos &lt; 0)
        pos += RSTRING_LEN(str);
    if (pos &lt; 0 ||  RSTRING_LEN(str) &lt;= pos)
        return Qnil;

    return INT2FIX((unsigned char)RSTRING_PTR(str)[pos]);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-grapheme_clusters">
            
              <b>str.grapheme_clusters   &rarr; an_array
</b>
            
            <a href="../classes/String.html#method-i-grapheme_clusters" name="method-i-grapheme_clusters" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns an array of grapheme clusters in <em>str</em>.  This is a shorthand
for <code>str.each_grapheme_cluster.to_a</code>.</p>

<p>If a block is given, which is a deprecated form, works the same as
<code>each_grapheme_cluster</code>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-grapheme_clusters_source')" id="l_method-i-grapheme_clusters_source">show</a>
                
              </p>
              <div id="method-i-grapheme_clusters_source" class="dyn-source">
                <pre>static VALUE
rb_str_grapheme_clusters(VALUE str)
{
    VALUE ary = WANTARRAY(&quot;grapheme_clusters&quot;, rb_str_strlen(str));
    return rb_str_enumerate_grapheme_clusters(str, ary);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-gsub">
            
              <b>str.gsub(pattern, replacement)       &rarr; new_str<br />str.gsub(pattern, hash)              &rarr; new_str<br />str.gsub(pattern) {|match| block }   &rarr; new_str<br />str.gsub(pattern)                    &rarr; enumerator
</b>
            
            <a href="../classes/String.html#method-i-gsub" name="method-i-gsub" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns a copy of <em>str</em> with <em>all</em> occurrences of
<em>pattern</em> substituted for the second argument. The <em>pattern</em>
is typically a <code>Regexp</code>; if given as a <code>String</code>, any
regular expression metacharacters it contains will be interpreted
literally, e.g. <code>&#39;\\d&#39;</code> will match a backslash followed
by &#39;d&#39;, instead of a digit.</p>

<p>If <em>replacement</em> is a <code>String</code> it will be substituted for
the matched text. It may contain back-references to the pattern&#39;s
capture groups of the form <code>\\d</code>, where <em>d</em> is a group
number, or <code>\\k&lt;n&gt;</code>, where <em>n</em> is a group name. If
it is a double-quoted string, both back-references must be preceded by an
additional backslash. However, within <em>replacement</em> the special
match variables, such as <code>$&amp;</code>, will not refer to the current
match.</p>

<p>If the second argument is a <code>Hash</code>, and the matched text is one
of its keys, the corresponding value is the replacement string.</p>

<p>In the block form, the current match string is passed in as a parameter,
and variables such as <code>$1</code>, <code>$2</code>, <code>$`</code>,
<code>$&amp;</code>, and <code>$&#39;</code> will be set appropriately. The
value returned by the block will be substituted for the match on each call.</p>

<p>The result inherits any tainting in the original string or any supplied
replacement string.</p>

<p>When neither a block nor a second argument is supplied, an
<code>Enumerator</code> is returned.</p>

<pre><code>&quot;hello&quot;.gsub(/[aeiou]/, &#39;*&#39;)                  #=&gt; &quot;h*ll*&quot;
&quot;hello&quot;.gsub(/([aeiou])/, &#39;&lt;\1&gt;&#39;)             #=&gt; &quot;h&lt;e&gt;ll&lt;o&gt;&quot;
&quot;hello&quot;.gsub(/./) {|s| s.ord.to_s + &#39; &#39;}      #=&gt; &quot;104 101 108 108 111 &quot;
&quot;hello&quot;.gsub(/(?&lt;foo&gt;[aeiou])/, &#39;{\k&lt;foo&gt;}&#39;)  #=&gt; &quot;h{e}ll{o}&quot;
&#39;hello&#39;.gsub(/[eo]/, &#39;e&#39; =&gt; 3, &#39;o&#39; =&gt; &#39;*&#39;)    #=&gt; &quot;h3ll*&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-gsub_source')" id="l_method-i-gsub_source">show</a>
                
              </p>
              <div id="method-i-gsub_source" class="dyn-source">
                <pre>static VALUE
rb_str_gsub(int argc, VALUE *argv, VALUE str)
{
    return str_gsub(argc, argv, str, 0);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-gsub-21">
            
              <b>str.gsub!(pattern, replacement)        &rarr; str or nil<br />str.gsub!(pattern, hash)               &rarr; str or nil<br />str.gsub!(pattern) {|match| block }    &rarr; str or nil<br />str.gsub!(pattern)                     &rarr; an_enumerator
</b>
            
            <a href="../classes/String.html#method-i-gsub-21" name="method-i-gsub-21" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Performs the substitutions of <code>String#gsub</code> in place, returning
<em>str</em>, or <code>nil</code> if no substitutions were performed. If no
block and no <em>replacement</em> is given, an enumerator is returned
instead.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-gsub-21_source')" id="l_method-i-gsub-21_source">show</a>
                
              </p>
              <div id="method-i-gsub-21_source" class="dyn-source">
                <pre>static VALUE
rb_str_gsub_bang(int argc, VALUE *argv, VALUE str)
{
    str_modify_keep_cr(str);
    return str_gsub(argc, argv, str, 1);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-hash">
            
              <b>str.hash   &rarr; integer
</b>
            
            <a href="../classes/String.html#method-i-hash" name="method-i-hash" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns a hash based on the string&#39;s length, content and encoding.</p>

<p>See also Object#hash.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-hash_source')" id="l_method-i-hash_source">show</a>
                
              </p>
              <div id="method-i-hash_source" class="dyn-source">
                <pre>static VALUE
rb_str_hash_m(VALUE str)
{
    st_index_t hval = rb_str_hash(str);
    return ST2FIX(hval);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-hex">
            
              <b>str.hex   &rarr; integer
</b>
            
            <a href="../classes/String.html#method-i-hex" name="method-i-hex" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Treats leading characters from <em>str</em> as a string of hexadecimal
digits (with an optional sign and an optional <code>0x</code>) and returns
the corresponding number. Zero is returned on error.</p>

<pre><code>&quot;0x0a&quot;.hex     #=&gt; 10
&quot;-1234&quot;.hex    #=&gt; -4660
&quot;0&quot;.hex        #=&gt; 0
&quot;wombat&quot;.hex   #=&gt; 0
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-hex_source')" id="l_method-i-hex_source">show</a>
                
              </p>
              <div id="method-i-hex_source" class="dyn-source">
                <pre>static VALUE
rb_str_hex(VALUE str)
{
    return rb_str_to_inum(str, 16, FALSE);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-include-3F">
            
              <b>str.include? other_str   &rarr; true or false
</b>
            
            <a href="../classes/String.html#method-i-include-3F" name="method-i-include-3F" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns <code>true</code> if <em>str</em> contains the given string or
character.</p>

<pre><code>&quot;hello&quot;.include? &quot;lo&quot;   #=&gt; true
&quot;hello&quot;.include? &quot;ol&quot;   #=&gt; false
&quot;hello&quot;.include? ?h     #=&gt; true
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-include-3F_source')" id="l_method-i-include-3F_source">show</a>
                
              </p>
              <div id="method-i-include-3F_source" class="dyn-source">
                <pre>static VALUE
rb_str_include(VALUE str, VALUE arg)
{
    long i;

    StringValue(arg);
    i = rb_str_index(str, arg, 0);

    if (i == -1) return Qfalse;
    return Qtrue;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-index">
            
              <b>str.index(substring [, offset])   &rarr; integer or nil<br />str.index(regexp [, offset])      &rarr; integer or nil
</b>
            
            <a href="../classes/String.html#method-i-index" name="method-i-index" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns the index of the first occurrence of the given <em>substring</em>
or pattern (<em>regexp</em>) in <em>str</em>. Returns <code>nil</code> if
not found. If the second parameter is present, it specifies the position in
the string to begin the search.</p>

<pre><code>&quot;hello&quot;.index(&#39;e&#39;)             #=&gt; 1
&quot;hello&quot;.index(&#39;lo&#39;)            #=&gt; 3
&quot;hello&quot;.index(&#39;a&#39;)             #=&gt; nil
&quot;hello&quot;.index(?e)              #=&gt; 1
&quot;hello&quot;.index(/[aeiou]/, -3)   #=&gt; 4
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-index_source')" id="l_method-i-index_source">show</a>
                
              </p>
              <div id="method-i-index_source" class="dyn-source">
                <pre>static VALUE
rb_str_index_m(int argc, VALUE *argv, VALUE str)
{
    VALUE sub;
    VALUE initpos;
    long pos;

    if (rb_scan_args(argc, argv, &quot;11&quot;, &amp;sub, &amp;initpos) == 2) {
        pos = NUM2LONG(initpos);
    }
    else {
        pos = 0;
    }
    if (pos &lt; 0) {
        pos += str_strlen(str, NULL);
        if (pos &lt; 0) {
            if (RB_TYPE_P(sub, T_REGEXP)) {
                rb_backref_set(Qnil);
            }
            return Qnil;
        }
    }

    if (SPECIAL_CONST_P(sub)) goto generic;
    switch (BUILTIN_TYPE(sub)) {
      case T_REGEXP:
        if (pos &gt; str_strlen(str, NULL))
            return Qnil;
        pos = str_offset(RSTRING_PTR(str), RSTRING_END(str), pos,
                         rb_enc_check(str, sub), single_byte_optimizable(str));

        pos = rb_reg_search(sub, str, pos, 0);
        pos = rb_str_sublen(str, pos);
        break;

      generic:
      default: {
        VALUE tmp;

        tmp = rb_check_string_type(sub);
        if (NIL_P(tmp)) {
            rb_raise(rb_eTypeError, &quot;type mismatch: %s given&quot;,
                     rb_obj_classname(sub));
        }
        sub = tmp;
      }
        /* fall through */
      case T_STRING:
        pos = rb_str_index(str, sub, pos);
        pos = rb_str_sublen(str, pos);
        break;
    }

    if (pos == -1) return Qnil;
    return LONG2NUM(pos);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-initialize_copy">
            
              <b>str.replace(other_str)   &rarr; str
</b>
            
            <a href="../classes/String.html#method-i-initialize_copy" name="method-i-initialize_copy" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Replaces the contents and taintedness of <em>str</em> with the
corresponding values in <em>other_str</em>.</p>

<pre><code>s = &quot;hello&quot;         #=&gt; &quot;hello&quot;
s.replace &quot;world&quot;   #=&gt; &quot;world&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-initialize_copy_source')" id="l_method-i-initialize_copy_source">show</a>
                
              </p>
              <div id="method-i-initialize_copy_source" class="dyn-source">
                <pre>VALUE
rb_str_replace(VALUE str, VALUE str2)
{
    str_modifiable(str);
    if (str == str2) return str;

    StringValue(str2);
    str_discard(str);
    return str_replace(str, str2);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-insert">
            
              <b>str.insert(index, other_str)   &rarr; str
</b>
            
            <a href="../classes/String.html#method-i-insert" name="method-i-insert" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Inserts <em>other_str</em> before the character at the given
<em>index</em>, modifying <em>str</em>. Negative indices count from the end
of the string, and insert <em>after</em> the given character. The intent is
insert <em>aString</em> so that it starts at the given <em>index</em>.</p>

<pre><code>&quot;abcd&quot;.insert(0, &#39;X&#39;)    #=&gt; &quot;Xabcd&quot;
&quot;abcd&quot;.insert(3, &#39;X&#39;)    #=&gt; &quot;abcXd&quot;
&quot;abcd&quot;.insert(4, &#39;X&#39;)    #=&gt; &quot;abcdX&quot;
&quot;abcd&quot;.insert(-3, &#39;X&#39;)   #=&gt; &quot;abXcd&quot;
&quot;abcd&quot;.insert(-1, &#39;X&#39;)   #=&gt; &quot;abcdX&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-insert_source')" id="l_method-i-insert_source">show</a>
                
              </p>
              <div id="method-i-insert_source" class="dyn-source">
                <pre>static VALUE
rb_str_insert(VALUE str, VALUE idx, VALUE str2)
{
    long pos = NUM2LONG(idx);

    if (pos == -1) {
        return rb_str_append(str, str2);
    }
    else if (pos &lt; 0) {
        pos++;
    }
    rb_str_splice(str, pos, 0, str2);
    return str;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-inspect">
            
              <b>str.inspect   &rarr; string
</b>
            
            <a href="../classes/String.html#method-i-inspect" name="method-i-inspect" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns a printable version of <em>str</em>, surrounded by quote marks,
with special characters escaped.</p>

<pre><code>str = &quot;hello&quot;
str[3] = &quot;\b&quot;
str.inspect       #=&gt; &quot;\&quot;hel\\bo\&quot;&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-inspect_source')" id="l_method-i-inspect_source">show</a>
                
              </p>
              <div id="method-i-inspect_source" class="dyn-source">
                <pre>VALUE
rb_str_inspect(VALUE str)
{
    int encidx = ENCODING_GET(str);
    rb_encoding *enc = rb_enc_from_index(encidx), *actenc;
    const char *p, *pend, *prev;
    char buf[CHAR_ESC_LEN + 1];
    VALUE result = rb_str_buf_new(0);
    rb_encoding *resenc = rb_default_internal_encoding();
    int unicode_p = rb_enc_unicode_p(enc);
    int asciicompat = rb_enc_asciicompat(enc);

    if (resenc == NULL) resenc = rb_default_external_encoding();
    if (!rb_enc_asciicompat(resenc)) resenc = rb_usascii_encoding();
    rb_enc_associate(result, resenc);
    str_buf_cat2(result, &quot;\&quot;&quot;);

    p = RSTRING_PTR(str); pend = RSTRING_END(str);
    prev = p;
    actenc = get_actual_encoding(encidx, str);
    if (actenc != enc) {
        enc = actenc;
        if (unicode_p) unicode_p = rb_enc_unicode_p(enc);
    }
    while (p &lt; pend) {
        unsigned int c, cc;
        int n;

        n = rb_enc_precise_mbclen(p, pend, enc);
        if (!MBCLEN_CHARFOUND_P(n)) {
            if (p &gt; prev) str_buf_cat(result, prev, p - prev);
            n = rb_enc_mbminlen(enc);
            if (pend &lt; p + n)
                n = (int)(pend - p);
            while (n--) {
                snprintf(buf, CHAR_ESC_LEN, &quot;\\x%02X&quot;, *p &amp; 0377);
                str_buf_cat(result, buf, strlen(buf));
                prev = ++p;
            }
            continue;
        }
        n = MBCLEN_CHARFOUND_LEN(n);
        c = rb_enc_mbc_to_codepoint(p, pend, enc);
        p += n;
        if ((asciicompat || unicode_p) &amp;&amp;
          (c == &#39;&quot;&#39;|| c == &#39;\\&#39; ||
            (c == &#39;#&#39; &amp;&amp;
             p &lt; pend &amp;&amp;
             MBCLEN_CHARFOUND_P(rb_enc_precise_mbclen(p,pend,enc)) &amp;&amp;
             (cc = rb_enc_codepoint(p,pend,enc),
              (cc == &#39;$&#39; || cc == &#39;@&#39; || cc == &#39;{&#39;))))) {
            if (p - n &gt; prev) str_buf_cat(result, prev, p - n - prev);
            str_buf_cat2(result, &quot;\\&quot;);
            if (asciicompat || enc == resenc) {
                prev = p - n;
                continue;
            }
        }
        switch (c) {
          case &#39;\n&#39;: cc = &#39;n&#39;; break;
          case &#39;\r&#39;: cc = &#39;r&#39;; break;
          case &#39;\t&#39;: cc = &#39;t&#39;; break;
          case &#39;\f&#39;: cc = &#39;f&#39;; break;
          case &#39;\013&#39;: cc = &#39;v&#39;; break;
          case &#39;\010&#39;: cc = &#39;b&#39;; break;
          case &#39;\007&#39;: cc = &#39;a&#39;; break;
          case 033: cc = &#39;e&#39;; break;
          default: cc = 0; break;
        }
        if (cc) {
            if (p - n &gt; prev) str_buf_cat(result, prev, p - n - prev);
            buf[0] = &#39;\\&#39;;
            buf[1] = (char)cc;
            str_buf_cat(result, buf, 2);
            prev = p;
            continue;
        }
        if ((enc == resenc &amp;&amp; rb_enc_isprint(c, enc)) ||
            (asciicompat &amp;&amp; rb_enc_isascii(c, enc) &amp;&amp; ISPRINT(c))) {
            continue;
        }
        else {
            if (p - n &gt; prev) str_buf_cat(result, prev, p - n - prev);
            rb_str_buf_cat_escaped_char(result, c, unicode_p);
            prev = p;
            continue;
        }
    }
    if (p &gt; prev) str_buf_cat(result, prev, p - prev);
    str_buf_cat2(result, &quot;\&quot;&quot;);

    OBJ_INFECT_RAW(result, str);
    return result;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-intern">
            
              <b>str.intern   &rarr; symbol</b>
            
            <a href="../classes/String.html#method-i-intern" name="method-i-intern" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns the <code>Symbol</code> corresponding to <em>str</em>, creating the
symbol if it did not previously exist. See <code>Symbol#id2name</code>.</p>

<pre><code>&quot;Koala&quot;.intern         #=&gt; :Koala
s = &#39;cat&#39;.to_sym       #=&gt; :cat
s == :cat              #=&gt; true
s = &#39;@cat&#39;.to_sym      #=&gt; :@cat
s == :@cat             #=&gt; true
</code></pre>

<p>This can also be used to create symbols that cannot be represented using
the <code>:xxx</code> notation.</p>

<pre><code>&#39;cat and dog&#39;.to_sym   #=&gt; :&quot;cat and dog&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-intern_source')" id="l_method-i-intern_source">show</a>
                
              </p>
              <div id="method-i-intern_source" class="dyn-source">
                <pre>VALUE
rb_str_intern(VALUE str)
{
#if USE_SYMBOL_GC
    rb_encoding *enc, *ascii;
    int type;
#else
    ID id;
#endif
    VALUE sym = lookup_str_sym(str);

    if (sym) {
	return sym;
    }

#if USE_SYMBOL_GC
    enc = rb_enc_get(str);
    ascii = rb_usascii_encoding();
    if (enc != ascii &amp;&amp; sym_check_asciionly(str)) {
	str = rb_str_dup(str);
	rb_enc_associate(str, ascii);
	OBJ_FREEZE(str);
	enc = ascii;
    }
    else {
        str = rb_str_dup(str);
        OBJ_FREEZE(str);
    }
    str = rb_fstring(str);
    type = rb_str_symname_type(str, IDSET_ATTRSET_FOR_INTERN);
    if (type &lt; 0) type = ID_JUNK;
    return dsymbol_alloc(rb_cSymbol, str, enc, type);
#else
    id = intern_str(str, 0);
    return ID2SYM(id);
#endif
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-length">
            
              <b>str.length   &rarr; integer</b>
            
            <a href="../classes/String.html#method-i-length" name="method-i-length" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns the character length of <em>str</em>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-length_source')" id="l_method-i-length_source">show</a>
                
              </p>
              <div id="method-i-length_source" class="dyn-source">
                <pre>VALUE
rb_str_length(VALUE str)
{
    return LONG2NUM(str_strlen(str, NULL));
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-lines">
            
              <b>str.lines(separator=$/ [, getline_args])  &rarr; an_array
</b>
            
            <a href="../classes/String.html#method-i-lines" name="method-i-lines" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns an array of lines in <em>str</em> split using the supplied record
separator (<code>$/</code> by default).  This is a shorthand for
<code>str.each_line(separator, getline_args).to_a</code>.</p>

<p>See <a href="IO.html#method-c-readlines">IO.readlines</a> for details about
getline_args.</p>

<pre><code>&quot;hello\nworld\n&quot;.lines              #=&gt; [&quot;hello\n&quot;, &quot;world\n&quot;]
&quot;hello  world&quot;.lines(&#39; &#39;)           #=&gt; [&quot;hello &quot;, &quot; &quot;, &quot;world&quot;]
&quot;hello\nworld\n&quot;.lines(chomp: true) #=&gt; [&quot;hello&quot;, &quot;world&quot;]
</code></pre>

<p>If a block is given, which is a deprecated form, works the same as
<code>each_line</code>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-lines_source')" id="l_method-i-lines_source">show</a>
                
              </p>
              <div id="method-i-lines_source" class="dyn-source">
                <pre>static VALUE
rb_str_lines(int argc, VALUE *argv, VALUE str)
{
    VALUE ary = WANTARRAY(&quot;lines&quot;, 0);
    return rb_str_enumerate_lines(argc, argv, str, ary);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-ljust">
            
              <b>str.ljust(integer, padstr=' ')   &rarr; new_str
</b>
            
            <a href="../classes/String.html#method-i-ljust" name="method-i-ljust" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>If <em>integer</em> is greater than the length of <em>str</em>, returns a
new <code>String</code> of length <em>integer</em> with <em>str</em> left
justified and padded with <em>padstr</em>; otherwise, returns <em>str</em>.</p>

<pre><code>&quot;hello&quot;.ljust(4)            #=&gt; &quot;hello&quot;
&quot;hello&quot;.ljust(20)           #=&gt; &quot;hello               &quot;
&quot;hello&quot;.ljust(20, &#39;1234&#39;)   #=&gt; &quot;hello123412341234123&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-ljust_source')" id="l_method-i-ljust_source">show</a>
                
              </p>
              <div id="method-i-ljust_source" class="dyn-source">
                <pre>static VALUE
rb_str_ljust(int argc, VALUE *argv, VALUE str)
{
    return rb_str_justify(argc, argv, str, &#39;l&#39;);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-lstrip">
            
              <b>str.lstrip   &rarr; new_str
</b>
            
            <a href="../classes/String.html#method-i-lstrip" name="method-i-lstrip" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns a copy of the receiver with leading whitespace removed. See also <a
href="String.html#method-i-rstrip">#rstrip</a> and <a
href="String.html#method-i-strip">#strip</a>.</p>

<p>Refer to <a href="String.html#method-i-strip">#strip</a> for the definition
of whitespace.</p>

<pre><code>&quot;  hello  &quot;.lstrip   #=&gt; &quot;hello  &quot;
&quot;hello&quot;.lstrip       #=&gt; &quot;hello&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-lstrip_source')" id="l_method-i-lstrip_source">show</a>
                
              </p>
              <div id="method-i-lstrip_source" class="dyn-source">
                <pre>static VALUE
rb_str_lstrip(VALUE str)
{
    char *start;
    long len, loffset;
    RSTRING_GETMEM(str, start, len);
    loffset = lstrip_offset(str, start, start+len, STR_ENC_GET(str));
    if (loffset &lt;= 0) return rb_str_dup(str);
    return rb_str_subseq(str, loffset, len - loffset);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-lstrip-21">
            
              <b>str.lstrip!   &rarr; self or nil
</b>
            
            <a href="../classes/String.html#method-i-lstrip-21" name="method-i-lstrip-21" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Removes leading whitespace from the receiver. Returns the altered receiver,
or <code>nil</code> if no change was made. See also <a
href="String.html#method-i-rstrip-21">#rstrip!</a> and <a
href="String.html#method-i-strip-21">#strip!</a>.</p>

<p>Refer to <a href="String.html#method-i-strip">#strip</a> for the definition
of whitespace.</p>

<pre><code>&quot;  hello  &quot;.lstrip!  #=&gt; &quot;hello  &quot;
&quot;hello  &quot;.lstrip!    #=&gt; nil
&quot;hello&quot;.lstrip!      #=&gt; nil
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-lstrip-21_source')" id="l_method-i-lstrip-21_source">show</a>
                
              </p>
              <div id="method-i-lstrip-21_source" class="dyn-source">
                <pre>static VALUE
rb_str_lstrip_bang(VALUE str)
{
    rb_encoding *enc;
    char *start, *s;
    long olen, loffset;

    str_modify_keep_cr(str);
    enc = STR_ENC_GET(str);
    RSTRING_GETMEM(str, start, olen);
    loffset = lstrip_offset(str, start, start+olen, enc);
    if (loffset &gt; 0) {
        long len = olen-loffset;
        s = start + loffset;
        memmove(start, s, len);
        STR_SET_LEN(str, len);
#if !SHARABLE_MIDDLE_SUBSTRING
        TERM_FILL(start+len, rb_enc_mbminlen(enc));
#endif
        return str;
    }
    return Qnil;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-match">
            
              <b>str.match(pattern)        &rarr; matchdata or nil<br />str.match(pattern, pos)   &rarr; matchdata or nil
</b>
            
            <a href="../classes/String.html#method-i-match" name="method-i-match" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Converts <em>pattern</em> to a <code>Regexp</code> (if it isn&#39;t already
one), then invokes its <code>match</code> method on <em>str</em>.  If the
second parameter is present, it specifies the position in the string to
begin the search.</p>

<pre><code>&#39;hello&#39;.match(&#39;(.)\1&#39;)      #=&gt; #&lt;MatchData &quot;ll&quot; 1:&quot;l&quot;&gt;
&#39;hello&#39;.match(&#39;(.)\1&#39;)[0]   #=&gt; &quot;ll&quot;
&#39;hello&#39;.match(/(.)\1/)[0]   #=&gt; &quot;ll&quot;
&#39;hello&#39;.match(/(.)\1/, 3)   #=&gt; nil
&#39;hello&#39;.match(&#39;xx&#39;)         #=&gt; nil
</code></pre>

<p>If a block is given, invoke the block with <a
href="MatchData.html">MatchData</a> if match succeed, so that you can write</p>

<pre><code>str.match(pat) {|m| ...}</code></pre>

<p>instead of</p>

<pre><code>if m = str.match(pat)
  ...
end</code></pre>

<p>The return value is a value from block execution in this case.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-match_source')" id="l_method-i-match_source">show</a>
                
              </p>
              <div id="method-i-match_source" class="dyn-source">
                <pre>static VALUE
rb_str_match_m(int argc, VALUE *argv, VALUE str)
{
    VALUE re, result;
    if (argc &lt; 1)
        rb_check_arity(argc, 1, 2);
    re = argv[0];
    argv[0] = str;
    result = rb_funcallv(get_pat(re), rb_intern(&quot;match&quot;), argc, argv);
    if (!NIL_P(result) &amp;&amp; rb_block_given_p()) {
        return rb_yield(result);
    }
    return result;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-match-3F">
            
              <b>str.match?(pattern)        &rarr; true or false<br />str.match?(pattern, pos)   &rarr; true or false
</b>
            
            <a href="../classes/String.html#method-i-match-3F" name="method-i-match-3F" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Converts <em>pattern</em> to a <code>Regexp</code> (if it isn&#39;t already
one), then returns a <code>true</code> or <code>false</code> indicates
whether the regexp is matched <em>str</em> or not without updating
<code>$~</code> and other related variables.  If the second parameter is
present, it specifies the position in the string to begin the search.</p>

<pre><code>&quot;Ruby&quot;.match?(/R.../)    #=&gt; true
&quot;Ruby&quot;.match?(/R.../, 1) #=&gt; false
&quot;Ruby&quot;.match?(/P.../)    #=&gt; false
$&amp;                       #=&gt; nil
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-match-3F_source')" id="l_method-i-match-3F_source">show</a>
                
              </p>
              <div id="method-i-match-3F_source" class="dyn-source">
                <pre>static VALUE
rb_str_match_m_p(int argc, VALUE *argv, VALUE str)
{
    VALUE re;
    rb_check_arity(argc, 1, 2);
    re = get_pat(argv[0]);
    return rb_reg_match_p(re, str, argc &gt; 1 ? NUM2LONG(argv[1]) : 0);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-next">
            
              <b>str.next   &rarr; new_str</b>
            
            <a href="../classes/String.html#method-i-next" name="method-i-next" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns the successor to <em>str</em>. The successor is calculated by
incrementing characters starting from the rightmost alphanumeric (or the
rightmost character if there are no alphanumerics) in the string.
Incrementing a digit always results in another digit, and incrementing a
letter results in another letter of the same case. Incrementing
nonalphanumerics uses the underlying character set&#39;s collating
sequence.</p>

<p>If the increment generates a “carry,&#39;&#39; the character to the left of
it is incremented. This process repeats until there is no carry, adding an
additional character if necessary.</p>

<pre><code>&quot;abcd&quot;.succ        #=&gt; &quot;abce&quot;
&quot;THX1138&quot;.succ     #=&gt; &quot;THX1139&quot;
&quot;&lt;&lt;koala&gt;&gt;&quot;.succ   #=&gt; &quot;&lt;&lt;koalb&gt;&gt;&quot;
&quot;1999zzz&quot;.succ     #=&gt; &quot;2000aaa&quot;
&quot;ZZZ9999&quot;.succ     #=&gt; &quot;AAAA0000&quot;
&quot;***&quot;.succ         #=&gt; &quot;**+&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-next_source')" id="l_method-i-next_source">show</a>
                
              </p>
              <div id="method-i-next_source" class="dyn-source">
                <pre>VALUE
rb_str_succ(VALUE orig)
{
    VALUE str;
    str = rb_str_new_with_class(orig, RSTRING_PTR(orig), RSTRING_LEN(orig));
    rb_enc_cr_str_copy_for_substr(str, orig);
    OBJ_INFECT(str, orig);
    return str_succ(str);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-next-21">
            
              <b>str.next!   &rarr; str</b>
            
            <a href="../classes/String.html#method-i-next-21" name="method-i-next-21" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Equivalent to <code>String#succ</code>, but modifies the receiver in place.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-next-21_source')" id="l_method-i-next-21_source">show</a>
                
              </p>
              <div id="method-i-next-21_source" class="dyn-source">
                <pre>static VALUE
rb_str_succ_bang(VALUE str)
{
    rb_str_modify(str);
    str_succ(str);
    return str;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-oct">
            
              <b>str.oct   &rarr; integer
</b>
            
            <a href="../classes/String.html#method-i-oct" name="method-i-oct" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Treats leading characters of <em>str</em> as a string of octal digits (with
an optional sign) and returns the corresponding number.  Returns 0 if the
conversion fails.</p>

<pre><code>&quot;123&quot;.oct       #=&gt; 83
&quot;-377&quot;.oct      #=&gt; -255
&quot;bad&quot;.oct       #=&gt; 0
&quot;0377bad&quot;.oct   #=&gt; 255
</code></pre>

<p>If <code>str</code> starts with <code>0</code>, radix indicators are
honored. See Kernel#Integer.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-oct_source')" id="l_method-i-oct_source">show</a>
                
              </p>
              <div id="method-i-oct_source" class="dyn-source">
                <pre>static VALUE
rb_str_oct(VALUE str)
{
    return rb_str_to_inum(str, -8, FALSE);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-ord">
            
              <b>str.ord   &rarr; integer
</b>
            
            <a href="../classes/String.html#method-i-ord" name="method-i-ord" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns the <code>Integer</code> ordinal of a one-character string.</p>

<pre><code>&quot;a&quot;.ord         #=&gt; 97
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-ord_source')" id="l_method-i-ord_source">show</a>
                
              </p>
              <div id="method-i-ord_source" class="dyn-source">
                <pre>VALUE
rb_str_ord(VALUE s)
{
    unsigned int c;

    c = rb_enc_codepoint(RSTRING_PTR(s), RSTRING_END(s), STR_ENC_GET(s));
    return UINT2NUM(c);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-partition">
            
              <b>str.partition(sep)              &rarr; [head, sep, tail]<br />str.partition(regexp)           &rarr; [head, match, tail]
</b>
            
            <a href="../classes/String.html#method-i-partition" name="method-i-partition" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Searches <em>sep</em> or pattern (<em>regexp</em>) in the string and
returns the part before it, the match, and the part after it. If it is not
found, returns two empty strings and <em>str</em>.</p>

<pre><code>&quot;hello&quot;.partition(&quot;l&quot;)         #=&gt; [&quot;he&quot;, &quot;l&quot;, &quot;lo&quot;]
&quot;hello&quot;.partition(&quot;x&quot;)         #=&gt; [&quot;hello&quot;, &quot;&quot;, &quot;&quot;]
&quot;hello&quot;.partition(/.l/)        #=&gt; [&quot;h&quot;, &quot;el&quot;, &quot;lo&quot;]
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-partition_source')" id="l_method-i-partition_source">show</a>
                
              </p>
              <div id="method-i-partition_source" class="dyn-source">
                <pre>static VALUE
rb_str_partition(VALUE str, VALUE sep)
{
    long pos;

    sep = get_pat_quoted(sep, 0);
    if (RB_TYPE_P(sep, T_REGEXP)) {
        pos = rb_reg_search(sep, str, 0, 0);
        if (pos &lt; 0) {
          failed:
            return rb_ary_new3(3, rb_str_dup(str), str_new_empty(str), str_new_empty(str));
        }
        sep = rb_str_subpat(str, sep, INT2FIX(0));
        if (pos == 0 &amp;&amp; RSTRING_LEN(sep) == 0) goto failed;
    }
    else {
        pos = rb_str_index(str, sep, 0);
        if (pos &lt; 0) goto failed;
    }
    return rb_ary_new3(3, rb_str_subseq(str, 0, pos),
                          sep,
                          rb_str_subseq(str, pos+RSTRING_LEN(sep),
                                             RSTRING_LEN(str)-pos-RSTRING_LEN(sep)));
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-prepend">
            
              <b>str.prepend(other_str1, other_str2, ...)  &rarr; str
</b>
            
            <a href="../classes/String.html#method-i-prepend" name="method-i-prepend" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Prepend—Prepend the given strings to <em>str</em>.</p>

<pre><code>a = &quot;!&quot;
a.prepend(&quot;hello &quot;, &quot;world&quot;) #=&gt; &quot;hello world!&quot;
a                            #=&gt; &quot;hello world!&quot;
</code></pre>

<p>See also <a href="String.html#method-i-concat">#concat</a>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-prepend_source')" id="l_method-i-prepend_source">show</a>
                
              </p>
              <div id="method-i-prepend_source" class="dyn-source">
                <pre>static VALUE
rb_str_prepend_multi(int argc, VALUE *argv, VALUE str)
{
    str_modifiable(str);

    if (argc == 1) {
        rb_str_update(str, 0L, 0L, argv[0]);
    }
    else if (argc &gt; 1) {
        int i;
        VALUE arg_str = rb_str_tmp_new(0);
        rb_enc_copy(arg_str, str);
        for (i = 0; i &lt; argc; i++) {
            rb_str_append(arg_str, argv[i]);
        }
        rb_str_update(str, 0L, 0L, arg_str);
    }

    return str;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-replace">
            
              <b>str.replace(other_str)   &rarr; str</b>
            
            <a href="../classes/String.html#method-i-replace" name="method-i-replace" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Replaces the contents and taintedness of <em>str</em> with the
corresponding values in <em>other_str</em>.</p>

<pre><code>s = &quot;hello&quot;         #=&gt; &quot;hello&quot;
s.replace &quot;world&quot;   #=&gt; &quot;world&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-replace_source')" id="l_method-i-replace_source">show</a>
                
              </p>
              <div id="method-i-replace_source" class="dyn-source">
                <pre>VALUE
rb_str_replace(VALUE str, VALUE str2)
{
    str_modifiable(str);
    if (str == str2) return str;

    StringValue(str2);
    str_discard(str);
    return str_replace(str, str2);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-reverse">
            
              <b>str.reverse   &rarr; new_str
</b>
            
            <a href="../classes/String.html#method-i-reverse" name="method-i-reverse" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns a new string with the characters from <em>str</em> in reverse
order.</p>

<pre><code>&quot;stressed&quot;.reverse   #=&gt; &quot;desserts&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-reverse_source')" id="l_method-i-reverse_source">show</a>
                
              </p>
              <div id="method-i-reverse_source" class="dyn-source">
                <pre>static VALUE
rb_str_reverse(VALUE str)
{
    rb_encoding *enc;
    VALUE rev;
    char *s, *e, *p;
    int cr;

    if (RSTRING_LEN(str) &lt;= 1) return rb_str_dup(str);
    enc = STR_ENC_GET(str);
    rev = rb_str_new_with_class(str, 0, RSTRING_LEN(str));
    s = RSTRING_PTR(str); e = RSTRING_END(str);
    p = RSTRING_END(rev);
    cr = ENC_CODERANGE(str);

    if (RSTRING_LEN(str) &gt; 1) {
        if (single_byte_optimizable(str)) {
            while (s &lt; e) {
                *--p = *s++;
            }
        }
        else if (cr == ENC_CODERANGE_VALID) {
            while (s &lt; e) {
                int clen = rb_enc_fast_mbclen(s, e, enc);

                p -= clen;
                memcpy(p, s, clen);
                s += clen;
            }
        }
        else {
            cr = rb_enc_asciicompat(enc) ?
                ENC_CODERANGE_7BIT : ENC_CODERANGE_VALID;
            while (s &lt; e) {
                int clen = rb_enc_mbclen(s, e, enc);

                if (clen &gt; 1 || (*s &amp; 0x80)) cr = ENC_CODERANGE_UNKNOWN;
                p -= clen;
                memcpy(p, s, clen);
                s += clen;
            }
        }
    }
    STR_SET_LEN(rev, RSTRING_LEN(str));
    OBJ_INFECT_RAW(rev, str);
    str_enc_copy(rev, str);
    ENC_CODERANGE_SET(rev, cr);

    return rev;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-reverse-21">
            
              <b>str.reverse!   &rarr; str
</b>
            
            <a href="../classes/String.html#method-i-reverse-21" name="method-i-reverse-21" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Reverses <em>str</em> in place.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-reverse-21_source')" id="l_method-i-reverse-21_source">show</a>
                
              </p>
              <div id="method-i-reverse-21_source" class="dyn-source">
                <pre>static VALUE
rb_str_reverse_bang(VALUE str)
{
    if (RSTRING_LEN(str) &gt; 1) {
        if (single_byte_optimizable(str)) {
            char *s, *e, c;

            str_modify_keep_cr(str);
            s = RSTRING_PTR(str);
            e = RSTRING_END(str) - 1;
            while (s &lt; e) {
                c = *s;
                *s++ = *e;
                *e-- = c;
            }
        }
        else {
            str_shared_replace(str, rb_str_reverse(str));
        }
    }
    else {
        str_modify_keep_cr(str);
    }
    return str;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-rindex">
            
              <b>str.rindex(substring [, integer])   &rarr; integer or nil<br />str.rindex(regexp [, integer])   &rarr; integer or nil
</b>
            
            <a href="../classes/String.html#method-i-rindex" name="method-i-rindex" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns the index of the last occurrence of the given <em>substring</em> or
pattern (<em>regexp</em>) in <em>str</em>. Returns <code>nil</code> if not
found. If the second parameter is present, it specifies the position in the
string to end the search—characters beyond this point will not be
considered.</p>

<pre><code>&quot;hello&quot;.rindex(&#39;e&#39;)             #=&gt; 1
&quot;hello&quot;.rindex(&#39;l&#39;)             #=&gt; 3
&quot;hello&quot;.rindex(&#39;a&#39;)             #=&gt; nil
&quot;hello&quot;.rindex(?e)              #=&gt; 1
&quot;hello&quot;.rindex(/[aeiou]/, -2)   #=&gt; 1
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-rindex_source')" id="l_method-i-rindex_source">show</a>
                
              </p>
              <div id="method-i-rindex_source" class="dyn-source">
                <pre>static VALUE
rb_str_rindex_m(int argc, VALUE *argv, VALUE str)
{
    VALUE sub;
    VALUE vpos;
    rb_encoding *enc = STR_ENC_GET(str);
    long pos, len = str_strlen(str, enc); /* str&#39;s enc */

    if (rb_scan_args(argc, argv, &quot;11&quot;, &amp;sub, &amp;vpos) == 2) {
        pos = NUM2LONG(vpos);
        if (pos &lt; 0) {
            pos += len;
            if (pos &lt; 0) {
                if (RB_TYPE_P(sub, T_REGEXP)) {
                    rb_backref_set(Qnil);
                }
                return Qnil;
            }
        }
        if (pos &gt; len) pos = len;
    }
    else {
        pos = len;
    }

    if (SPECIAL_CONST_P(sub)) goto generic;
    switch (BUILTIN_TYPE(sub)) {
      case T_REGEXP:
        /* enc = rb_get_check(str, sub); */
        pos = str_offset(RSTRING_PTR(str), RSTRING_END(str), pos,
                         enc, single_byte_optimizable(str));

        pos = rb_reg_search(sub, str, pos, 1);
        pos = rb_str_sublen(str, pos);
        if (pos &gt;= 0) return LONG2NUM(pos);
        break;

      generic:
      default: {
        VALUE tmp;

        tmp = rb_check_string_type(sub);
        if (NIL_P(tmp)) {
            rb_raise(rb_eTypeError, &quot;type mismatch: %s given&quot;,
                     rb_obj_classname(sub));
        }
        sub = tmp;
      }
        /* fall through */
      case T_STRING:
        pos = rb_str_rindex(str, sub, pos);
        if (pos &gt;= 0) return LONG2NUM(pos);
        break;
    }
    return Qnil;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-rjust">
            
              <b>str.rjust(integer, padstr=' ')   &rarr; new_str
</b>
            
            <a href="../classes/String.html#method-i-rjust" name="method-i-rjust" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>If <em>integer</em> is greater than the length of <em>str</em>, returns a
new <code>String</code> of length <em>integer</em> with <em>str</em> right
justified and padded with <em>padstr</em>; otherwise, returns <em>str</em>.</p>

<pre><code>&quot;hello&quot;.rjust(4)            #=&gt; &quot;hello&quot;
&quot;hello&quot;.rjust(20)           #=&gt; &quot;               hello&quot;
&quot;hello&quot;.rjust(20, &#39;1234&#39;)   #=&gt; &quot;123412341234123hello&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-rjust_source')" id="l_method-i-rjust_source">show</a>
                
              </p>
              <div id="method-i-rjust_source" class="dyn-source">
                <pre>static VALUE
rb_str_rjust(int argc, VALUE *argv, VALUE str)
{
    return rb_str_justify(argc, argv, str, &#39;r&#39;);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-rpartition">
            
              <b>str.rpartition(sep)             &rarr; [head, sep, tail]<br />str.rpartition(regexp)          &rarr; [head, match, tail]
</b>
            
            <a href="../classes/String.html#method-i-rpartition" name="method-i-rpartition" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Searches <em>sep</em> or pattern (<em>regexp</em>) in the string from the
end of the string, and returns the part before it, the match, and the part
after it. If it is not found, returns two empty strings and <em>str</em>.</p>

<pre><code>&quot;hello&quot;.rpartition(&quot;l&quot;)         #=&gt; [&quot;hel&quot;, &quot;l&quot;, &quot;o&quot;]
&quot;hello&quot;.rpartition(&quot;x&quot;)         #=&gt; [&quot;&quot;, &quot;&quot;, &quot;hello&quot;]
&quot;hello&quot;.rpartition(/.l/)        #=&gt; [&quot;he&quot;, &quot;ll&quot;, &quot;o&quot;]
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-rpartition_source')" id="l_method-i-rpartition_source">show</a>
                
              </p>
              <div id="method-i-rpartition_source" class="dyn-source">
                <pre>static VALUE
rb_str_rpartition(VALUE str, VALUE sep)
{
    long pos = RSTRING_LEN(str);
    int regex = FALSE;

    if (RB_TYPE_P(sep, T_REGEXP)) {
        pos = rb_reg_search(sep, str, pos, 1);
        regex = TRUE;
    }
    else {
        VALUE tmp;

        tmp = rb_check_string_type(sep);
        if (NIL_P(tmp)) {
            rb_raise(rb_eTypeError, &quot;type mismatch: %s given&quot;,
                     rb_obj_classname(sep));
        }
        sep = tmp;
        pos = rb_str_sublen(str, pos);
        pos = rb_str_rindex(str, sep, pos);
    }
    if (pos &lt; 0) {
       return rb_ary_new3(3, str_new_empty(str), str_new_empty(str), rb_str_dup(str));
    }
    if (regex) {
        sep = rb_reg_nth_match(0, rb_backref_get());
    }
    else {
        pos = rb_str_offset(str, pos);
    }
    return rb_ary_new3(3, rb_str_subseq(str, 0, pos),
                          sep,
                          rb_str_subseq(str, pos+RSTRING_LEN(sep),
                                        RSTRING_LEN(str)-pos-RSTRING_LEN(sep)));
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-rstrip">
            
              <b>str.rstrip   &rarr; new_str
</b>
            
            <a href="../classes/String.html#method-i-rstrip" name="method-i-rstrip" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns a copy of the receiver with trailing whitespace removed. See also
<a href="String.html#method-i-lstrip">#lstrip</a> and <a
href="String.html#method-i-strip">#strip</a>.</p>

<p>Refer to <a href="String.html#method-i-strip">#strip</a> for the definition
of whitespace.</p>

<pre><code>&quot;  hello  &quot;.rstrip   #=&gt; &quot;  hello&quot;
&quot;hello&quot;.rstrip       #=&gt; &quot;hello&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-rstrip_source')" id="l_method-i-rstrip_source">show</a>
                
              </p>
              <div id="method-i-rstrip_source" class="dyn-source">
                <pre>static VALUE
rb_str_rstrip(VALUE str)
{
    rb_encoding *enc;
    char *start;
    long olen, roffset;

    enc = STR_ENC_GET(str);
    RSTRING_GETMEM(str, start, olen);
    roffset = rstrip_offset(str, start, start+olen, enc);

    if (roffset &lt;= 0) return rb_str_dup(str);
    return rb_str_subseq(str, 0, olen-roffset);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-rstrip-21">
            
              <b>str.rstrip!   &rarr; self or nil
</b>
            
            <a href="../classes/String.html#method-i-rstrip-21" name="method-i-rstrip-21" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Removes trailing whitespace from the receiver. Returns the altered
receiver, or <code>nil</code> if no change was made. See also <a
href="String.html#method-i-lstrip-21">#lstrip!</a> and <a
href="String.html#method-i-strip-21">#strip!</a>.</p>

<p>Refer to <a href="String.html#method-i-strip">#strip</a> for the definition
of whitespace.</p>

<pre><code>&quot;  hello  &quot;.rstrip!  #=&gt; &quot;  hello&quot;
&quot;  hello&quot;.rstrip!    #=&gt; nil
&quot;hello&quot;.rstrip!      #=&gt; nil
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-rstrip-21_source')" id="l_method-i-rstrip-21_source">show</a>
                
              </p>
              <div id="method-i-rstrip-21_source" class="dyn-source">
                <pre>static VALUE
rb_str_rstrip_bang(VALUE str)
{
    rb_encoding *enc;
    char *start;
    long olen, roffset;

    str_modify_keep_cr(str);
    enc = STR_ENC_GET(str);
    RSTRING_GETMEM(str, start, olen);
    roffset = rstrip_offset(str, start, start+olen, enc);
    if (roffset &gt; 0) {
        long len = olen - roffset;

        STR_SET_LEN(str, len);
#if !SHARABLE_MIDDLE_SUBSTRING
        TERM_FILL(start+len, rb_enc_mbminlen(enc));
#endif
        return str;
    }
    return Qnil;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-scan">
            
              <b>str.scan(pattern)                         &rarr; array<br />str.scan(pattern) {|match, ...| block }   &rarr; str
</b>
            
            <a href="../classes/String.html#method-i-scan" name="method-i-scan" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Both forms iterate through <em>str</em>, matching the pattern (which may be
a <code>Regexp</code> or a <code>String</code>). For each match, a result
is generated and either added to the result array or passed to the block.
If the pattern contains no groups, each individual result consists of the
matched string, <code>$&amp;</code>.  If the pattern contains groups, each
individual result is itself an array containing one entry per group.</p>

<pre><code>a = &quot;cruel world&quot;
a.scan(/\w+/)        #=&gt; [&quot;cruel&quot;, &quot;world&quot;]
a.scan(/.../)        #=&gt; [&quot;cru&quot;, &quot;el &quot;, &quot;wor&quot;]
a.scan(/(...)/)      #=&gt; [[&quot;cru&quot;], [&quot;el &quot;], [&quot;wor&quot;]]
a.scan(/(..)(..)/)   #=&gt; [[&quot;cr&quot;, &quot;ue&quot;], [&quot;l &quot;, &quot;wo&quot;]]
</code></pre>

<p>And the block form:</p>

<pre><code>a.scan(/\w+/) {|w| print &quot;&lt;&lt;#{w}&gt;&gt; &quot; }
print &quot;\n&quot;
a.scan(/(.)(.)/) {|x,y| print y, x }
print &quot;\n&quot;
</code></pre>

<p><em>produces:</em></p>

<pre><code>&lt;&lt;cruel&gt;&gt; &lt;&lt;world&gt;&gt;
rceu lowlr</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-scan_source')" id="l_method-i-scan_source">show</a>
                
              </p>
              <div id="method-i-scan_source" class="dyn-source">
                <pre>static VALUE
rb_str_scan(VALUE str, VALUE pat)
{
    VALUE result;
    long start = 0;
    long last = -1, prev = 0;
    char *p = RSTRING_PTR(str); long len = RSTRING_LEN(str);

    pat = get_pat_quoted(pat, 1);
    mustnot_broken(str);
    if (!rb_block_given_p()) {
        VALUE ary = rb_ary_new();

        while (!NIL_P(result = scan_once(str, pat, &amp;start, 0))) {
            last = prev;
            prev = start;
            rb_ary_push(ary, result);
        }
        if (last &gt;= 0) rb_pat_search(pat, str, last, 1);
        else rb_backref_set(Qnil);
        return ary;
    }

    while (!NIL_P(result = scan_once(str, pat, &amp;start, 1))) {
        last = prev;
        prev = start;
        rb_yield(result);
        str_mod_check(str, p, len);
    }
    if (last &gt;= 0) rb_pat_search(pat, str, last, 1);
    return str;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-scanf">
            
              <b>scanf</b>(fstr)
            
            <a href="../classes/String.html#method-i-scanf" name="method-i-scanf" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Scans the current string. If a block is given, it functions exactly like
block_scanf.</p>

<pre><code>arr = &quot;123 456&quot;.scanf(&quot;%d%d&quot;)
# =&gt; [123, 456]

require &#39;pp&#39;

&quot;this 123 read that 456 other&quot;.scanf(&quot;%s%d%s&quot;) {|m| pp m}

# [&quot;this&quot;, 123, &quot;read&quot;]
# [&quot;that&quot;, 456, &quot;other&quot;]
# =&gt; [[&quot;this&quot;, 123, &quot;read&quot;], [&quot;that&quot;, 456, &quot;other&quot;]]
</code></pre>

<p>See <a href="Scanf.html">Scanf</a> for details on creating a format string.</p>

<p>You will need to require &#39;scanf&#39; to use <a
href="String.html#method-i-scanf">#scanf</a></p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-scanf_source')" id="l_method-i-scanf_source">show</a>
                
              </p>
              <div id="method-i-scanf_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/scanf.rb, line 720</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">scanf</span>(<span class="ruby-identifier">fstr</span>,<span class="ruby-operator">&amp;</span><span class="ruby-identifier">b</span>) <span class="ruby-comment">#:yield: current_match</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">b</span>
    <span class="ruby-identifier">block_scanf</span>(<span class="ruby-identifier">fstr</span>,<span class="ruby-operator">&amp;</span><span class="ruby-identifier">b</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">fs</span> =
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">fstr</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Scanf</span><span class="ruby-operator">::</span><span class="ruby-constant">FormatString</span>
        <span class="ruby-identifier">fstr</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-constant">Scanf</span><span class="ruby-operator">::</span><span class="ruby-constant">FormatString</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">fstr</span>)
      <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">fs</span>.<span class="ruby-identifier">match</span>(<span class="ruby-keyword">self</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-scrub">
            
              <b>str.scrub &rarr; new_str<br />str.scrub(repl) &rarr; new_str<br />str.scrub{|bytes|} &rarr; new_str
</b>
            
            <a href="../classes/String.html#method-i-scrub" name="method-i-scrub" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>If the string is invalid byte sequence then replace invalid bytes with
given replacement character, else returns self. If block is given, replace
invalid bytes with returned value of the block.</p>

<pre><code>&quot;abc\u3042\x81&quot;.scrub #=&gt; &quot;abc\u3042\uFFFD&quot;
&quot;abc\u3042\x81&quot;.scrub(&quot;*&quot;) #=&gt; &quot;abc\u3042*&quot;
&quot;abc\u3042\xE3\x80&quot;.scrub{|bytes| &#39;&lt;&#39;+bytes.unpack(&#39;H*&#39;)[0]+&#39;&gt;&#39; } #=&gt; &quot;abc\u3042&lt;e380&gt;&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-scrub_source')" id="l_method-i-scrub_source">show</a>
                
              </p>
              <div id="method-i-scrub_source" class="dyn-source">
                <pre>static VALUE
str_scrub(int argc, VALUE *argv, VALUE str)
{
    VALUE repl = argc ? (rb_check_arity(argc, 0, 1), argv[0]) : Qnil;
    VALUE new = rb_str_scrub(str, repl);
    return NIL_P(new) ? rb_str_dup(str): new;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-scrub-21">
            
              <b>str.scrub! &rarr; str<br />str.scrub!(repl) &rarr; str<br />str.scrub!{|bytes|} &rarr; str
</b>
            
            <a href="../classes/String.html#method-i-scrub-21" name="method-i-scrub-21" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>If the string is invalid byte sequence then replace invalid bytes with
given replacement character, else returns self. If block is given, replace
invalid bytes with returned value of the block.</p>

<pre><code>&quot;abc\u3042\x81&quot;.scrub! #=&gt; &quot;abc\u3042\uFFFD&quot;
&quot;abc\u3042\x81&quot;.scrub!(&quot;*&quot;) #=&gt; &quot;abc\u3042*&quot;
&quot;abc\u3042\xE3\x80&quot;.scrub!{|bytes| &#39;&lt;&#39;+bytes.unpack(&#39;H*&#39;)[0]+&#39;&gt;&#39; } #=&gt; &quot;abc\u3042&lt;e380&gt;&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-scrub-21_source')" id="l_method-i-scrub-21_source">show</a>
                
              </p>
              <div id="method-i-scrub-21_source" class="dyn-source">
                <pre>static VALUE
str_scrub_bang(int argc, VALUE *argv, VALUE str)
{
    VALUE repl = argc ? (rb_check_arity(argc, 0, 1), argv[0]) : Qnil;
    VALUE new = rb_str_scrub(str, repl);
    if (!NIL_P(new)) rb_str_replace(str, new);
    return str;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-setbyte">
            
              <b>str.setbyte(index, integer) &rarr; integer
</b>
            
            <a href="../classes/String.html#method-i-setbyte" name="method-i-setbyte" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>modifies the <em>index</em>th byte as <em>integer</em>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-setbyte_source')" id="l_method-i-setbyte_source">show</a>
                
              </p>
              <div id="method-i-setbyte_source" class="dyn-source">
                <pre>static VALUE
rb_str_setbyte(VALUE str, VALUE index, VALUE value)
{
    long pos = NUM2LONG(index);
    long len = RSTRING_LEN(str);
    char *head, *left = 0;
    unsigned char *ptr;
    rb_encoding *enc;
    int cr = ENC_CODERANGE_UNKNOWN, width, nlen;

    if (pos &lt; -len || len &lt;= pos)
        rb_raise(rb_eIndexError, &quot;index %ld out of string&quot;, pos);
    if (pos &lt; 0)
        pos += len;

    VALUE v = rb_to_int(value);
    VALUE w = rb_int_modulo(v, INT2FIX(256));
    unsigned char byte = NUM2INT(w) &amp; 0xFF;

    if (!str_independent(str))
        str_make_independent(str);
    enc = STR_ENC_GET(str);
    head = RSTRING_PTR(str);
    ptr = (unsigned char *)&amp;head[pos];
    if (!STR_EMBED_P(str)) {
        cr = ENC_CODERANGE(str);
        switch (cr) {
          case ENC_CODERANGE_7BIT:
            left = (char *)ptr;
            *ptr = byte;
            if (ISASCII(byte)) goto end;
            nlen = rb_enc_precise_mbclen(left, head+len, enc);
            if (!MBCLEN_CHARFOUND_P(nlen))
                ENC_CODERANGE_SET(str, ENC_CODERANGE_BROKEN);
            else
                ENC_CODERANGE_SET(str, ENC_CODERANGE_VALID);
            goto end;
          case ENC_CODERANGE_VALID:
            left = rb_enc_left_char_head(head, ptr, head+len, enc);
            width = rb_enc_precise_mbclen(left, head+len, enc);
            *ptr = byte;
            nlen = rb_enc_precise_mbclen(left, head+len, enc);
            if (!MBCLEN_CHARFOUND_P(nlen))
                ENC_CODERANGE_SET(str, ENC_CODERANGE_BROKEN);
            else if (MBCLEN_CHARFOUND_LEN(nlen) != width || ISASCII(byte))
                ENC_CODERANGE_CLEAR(str);
            goto end;
        }
    }
    ENC_CODERANGE_CLEAR(str);
    *ptr = byte;

  end:
    return value;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-shellescape">
            
              <b>str.shellescape => string
</b>
            
            <a href="../classes/String.html#method-i-shellescape" name="method-i-shellescape" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Escapes <code>str</code> so that it can be safely used in a Bourne shell
command line.</p>

<p>See <a
href="Shellwords.html#method-c-shellescape">Shellwords.shellescape</a> for
details.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-shellescape_source')" id="l_method-i-shellescape_source">show</a>
                
              </p>
              <div id="method-i-shellescape_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/shellwords.rb, line 215</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">shellescape</span>
  <span class="ruby-constant">Shellwords</span>.<span class="ruby-identifier">escape</span>(<span class="ruby-keyword">self</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-shellsplit">
            
              <b>str.shellsplit => array
</b>
            
            <a href="../classes/String.html#method-i-shellsplit" name="method-i-shellsplit" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Splits <code>str</code> into an array of tokens in the same way the UNIX
Bourne shell does.</p>

<p>See <a href="Shellwords.html#method-c-shellsplit">Shellwords.shellsplit</a>
for details.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-shellsplit_source')" id="l_method-i-shellsplit_source">show</a>
                
              </p>
              <div id="method-i-shellsplit_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/shellwords.rb, line 204</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">shellsplit</span>
  <span class="ruby-constant">Shellwords</span>.<span class="ruby-identifier">split</span>(<span class="ruby-keyword">self</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-size">
            
              <b>str.size     &rarr; integer</b>
            
            <a href="../classes/String.html#method-i-size" name="method-i-size" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns the character length of <em>str</em>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-size_source')" id="l_method-i-size_source">show</a>
                
              </p>
              <div id="method-i-size_source" class="dyn-source">
                <pre>VALUE
rb_str_length(VALUE str)
{
    return LONG2NUM(str_strlen(str, NULL));
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-slice">
            
              <b>str.slice(index)           &rarr; new_str or nil<br />str.slice(start, length)   &rarr; new_str or nil<br />str.slice(range)           &rarr; new_str or nil<br />str.slice(regexp)          &rarr; new_str or nil<br />str.slice(regexp, capture) &rarr; new_str or nil<br />str.slice(match_str)       &rarr; new_str or nil</b>
            
            <a href="../classes/String.html#method-i-slice" name="method-i-slice" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Element Reference — If passed a single <code>index</code>, returns a
substring of one character at that index. If passed a <code>start</code>
index and a <code>length</code>, returns a substring containing
<code>length</code> characters starting at the <code>start</code> index. If
passed a <code>range</code>, its beginning and end are interpreted as
offsets delimiting the substring to be returned.</p>

<p>In these three cases, if an index is negative, it is counted from the end
of the string.  For the <code>start</code> and <code>range</code> cases the
starting index is just before a character and an index matching the
string&#39;s size. Additionally, an empty string is returned when the
starting index for a character range is at the end of the string.</p>

<p>Returns <code>nil</code> if the initial index falls outside the string or
the length is negative.</p>

<p>If a <code>Regexp</code> is supplied, the matching portion of the string is
returned.  If a <code>capture</code> follows the regular expression, which
may be a capture group index or name, follows the regular expression that
component of the <a href="MatchData.html">MatchData</a> is returned
instead.</p>

<p>If a <code>match_str</code> is given, that string is returned if it occurs
in the string.</p>

<p>Returns <code>nil</code> if the regular expression does not match or the
match string cannot be found.</p>

<pre><code>a = &quot;hello there&quot;

a[1]                   #=&gt; &quot;e&quot;
a[2, 3]                #=&gt; &quot;llo&quot;
a[2..3]                #=&gt; &quot;ll&quot;

a[-3, 2]               #=&gt; &quot;er&quot;
a[7..-2]               #=&gt; &quot;her&quot;
a[-4..-2]              #=&gt; &quot;her&quot;
a[-2..-4]              #=&gt; &quot;&quot;

a[11, 0]               #=&gt; &quot;&quot;
a[11]                  #=&gt; nil
a[12, 0]               #=&gt; nil
a[12..-1]              #=&gt; nil

a[/[aeiou](.)\1/]      #=&gt; &quot;ell&quot;
a[/[aeiou](.)\1/, 0]   #=&gt; &quot;ell&quot;
a[/[aeiou](.)\1/, 1]   #=&gt; &quot;l&quot;
a[/[aeiou](.)\1/, 2]   #=&gt; nil

a[/(?&lt;vowel&gt;[aeiou])(?&lt;non_vowel&gt;[^aeiou])/, &quot;non_vowel&quot;] #=&gt; &quot;l&quot;
a[/(?&lt;vowel&gt;[aeiou])(?&lt;non_vowel&gt;[^aeiou])/, &quot;vowel&quot;]     #=&gt; &quot;e&quot;

a[&quot;lo&quot;]                #=&gt; &quot;lo&quot;
a[&quot;bye&quot;]               #=&gt; nil
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-slice_source')" id="l_method-i-slice_source">show</a>
                
              </p>
              <div id="method-i-slice_source" class="dyn-source">
                <pre>static VALUE
rb_str_aref_m(int argc, VALUE *argv, VALUE str)
{
    if (argc == 2) {
        if (RB_TYPE_P(argv[0], T_REGEXP)) {
            return rb_str_subpat(str, argv[0], argv[1]);
        }
        else {
            long beg = NUM2LONG(argv[0]);
            long len = NUM2LONG(argv[1]);
            return rb_str_substr(str, beg, len);
        }
    }
    rb_check_arity(argc, 1, 2);
    return rb_str_aref(str, argv[0]);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-slice-21">
            
              <b>str.slice!(integer)           &rarr; new_str or nil<br />str.slice!(integer, integer)   &rarr; new_str or nil<br />str.slice!(range)            &rarr; new_str or nil<br />str.slice!(regexp)           &rarr; new_str or nil<br />str.slice!(other_str)        &rarr; new_str or nil
</b>
            
            <a href="../classes/String.html#method-i-slice-21" name="method-i-slice-21" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Deletes the specified portion from <em>str</em>, and returns the portion
deleted.</p>

<pre><code>string = &quot;this is a string&quot;
string.slice!(2)        #=&gt; &quot;i&quot;
string.slice!(3..6)     #=&gt; &quot; is &quot;
string.slice!(/s.*t/)   #=&gt; &quot;sa st&quot;
string.slice!(&quot;r&quot;)      #=&gt; &quot;r&quot;
string                  #=&gt; &quot;thing&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-slice-21_source')" id="l_method-i-slice-21_source">show</a>
                
              </p>
              <div id="method-i-slice-21_source" class="dyn-source">
                <pre>static VALUE
rb_str_slice_bang(int argc, VALUE *argv, VALUE str)
{
    VALUE result;
    VALUE buf[3];
    int i;

    rb_check_arity(argc, 1, 2);
    for (i=0; i&lt;argc; i++) {
        buf[i] = argv[i];
    }
    str_modify_keep_cr(str);
    result = rb_str_aref_m(argc, buf, str);
    if (!NIL_P(result)) {
        buf[i] = rb_str_new(0,0);
        rb_str_aset_m(argc+1, buf, str);
    }
    return result;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-split">
            
              <b>str.split(pattern=nil, [limit])                &rarr; an_array<br />str.split(pattern=nil, [limit]) {|sub| block } &rarr; str
</b>
            
            <a href="../classes/String.html#method-i-split" name="method-i-split" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Divides <em>str</em> into substrings based on a delimiter, returning an
array of these substrings.</p>

<p>If <em>pattern</em> is a <code>String</code>, then its contents are used as
the delimiter when splitting <em>str</em>. If <em>pattern</em> is a single
space, <em>str</em> is split on whitespace, with leading and trailing
whitespace and runs of contiguous whitespace characters ignored.</p>

<p>If <em>pattern</em> is a <code>Regexp</code>, <em>str</em> is divided where
the pattern matches. Whenever the pattern matches a zero-length string,
<em>str</em> is split into individual characters. If <em>pattern</em>
contains groups, the respective matches will be returned in the array as
well.</p>

<p>If <em>pattern</em> is <code>nil</code>, the value of <code>$;</code> is
used. If <code>$;</code> is <code>nil</code> (which is the default),
<em>str</em> is split on whitespace as if &#39; &#39; were specified.</p>

<p>If the <em>limit</em> parameter is omitted, trailing null fields are
suppressed. If <em>limit</em> is a positive number, at most that number of
split substrings will be returned (captured groups will be returned as
well, but are not counted towards the limit). If <em>limit</em> is
<code>1</code>, the entire string is returned as the only entry in an
array. If negative, there is no limit to the number of fields returned, and
trailing null fields are not suppressed.</p>

<p>When the input <code>str</code> is empty an empty <a
href="Array.html">Array</a> is returned as the string is considered to have
no fields to split.</p>

<pre><code>&quot; now&#39;s  the time &quot;.split       #=&gt; [&quot;now&#39;s&quot;, &quot;the&quot;, &quot;time&quot;]
&quot; now&#39;s  the time &quot;.split(&#39; &#39;)  #=&gt; [&quot;now&#39;s&quot;, &quot;the&quot;, &quot;time&quot;]
&quot; now&#39;s  the time&quot;.split(/ /)   #=&gt; [&quot;&quot;, &quot;now&#39;s&quot;, &quot;&quot;, &quot;the&quot;, &quot;time&quot;]
&quot;1, 2.34,56, 7&quot;.split(%r{,\s*}) #=&gt; [&quot;1&quot;, &quot;2.34&quot;, &quot;56&quot;, &quot;7&quot;]
&quot;hello&quot;.split(//)               #=&gt; [&quot;h&quot;, &quot;e&quot;, &quot;l&quot;, &quot;l&quot;, &quot;o&quot;]
&quot;hello&quot;.split(//, 3)            #=&gt; [&quot;h&quot;, &quot;e&quot;, &quot;llo&quot;]
&quot;hi mom&quot;.split(%r{\s*})         #=&gt; [&quot;h&quot;, &quot;i&quot;, &quot;m&quot;, &quot;o&quot;, &quot;m&quot;]

&quot;mellow yellow&quot;.split(&quot;ello&quot;)   #=&gt; [&quot;m&quot;, &quot;w y&quot;, &quot;w&quot;]
&quot;1,2,,3,4,,&quot;.split(&#39;,&#39;)         #=&gt; [&quot;1&quot;, &quot;2&quot;, &quot;&quot;, &quot;3&quot;, &quot;4&quot;]
&quot;1,2,,3,4,,&quot;.split(&#39;,&#39;, 4)      #=&gt; [&quot;1&quot;, &quot;2&quot;, &quot;&quot;, &quot;3,4,,&quot;]
&quot;1,2,,3,4,,&quot;.split(&#39;,&#39;, -4)     #=&gt; [&quot;1&quot;, &quot;2&quot;, &quot;&quot;, &quot;3&quot;, &quot;4&quot;, &quot;&quot;, &quot;&quot;]

&quot;1:2:3&quot;.split(/(:)()()/, 2)     #=&gt; [&quot;1&quot;, &quot;:&quot;, &quot;&quot;, &quot;&quot;, &quot;2:3&quot;]

&quot;&quot;.split(&#39;,&#39;, -1)               #=&gt; []
</code></pre>

<p>If a block is given, invoke the block with each split substring.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-split_source')" id="l_method-i-split_source">show</a>
                
              </p>
              <div id="method-i-split_source" class="dyn-source">
                <pre>static VALUE
rb_str_split_m(int argc, VALUE *argv, VALUE str)
{
    rb_encoding *enc;
    VALUE spat;
    VALUE limit;
    enum {awk, string, regexp} split_type;
    long beg, end, i = 0, empty_count = -1;
    int lim = 0;
    VALUE result, tmp;

    result = rb_block_given_p() ? Qfalse : Qnil;
    if (rb_scan_args(argc, argv, &quot;02&quot;, &amp;spat, &amp;limit) == 2) {
        lim = NUM2INT(limit);
        if (lim &lt;= 0) limit = Qnil;
        else if (lim == 1) {
            if (RSTRING_LEN(str) == 0)
                return result ? rb_ary_new2(0) : str;
            tmp = rb_str_dup(str);
            if (!result) {
                rb_yield(tmp);
                return str;
            }
            return rb_ary_new3(1, tmp);
        }
        i = 1;
    }
    if (NIL_P(limit) &amp;&amp; !lim) empty_count = 0;

    enc = STR_ENC_GET(str);
    split_type = regexp;
    if (!NIL_P(spat)) {
        spat = get_pat_quoted(spat, 0);
    }
    else if (NIL_P(spat = rb_fs)) {
        split_type = awk;
    }
    else if (!(spat = rb_fs_check(spat))) {
        rb_raise(rb_eTypeError, &quot;value of $; must be String or Regexp&quot;);
    }
    if (split_type != awk) {
        if (BUILTIN_TYPE(spat) == T_STRING) {
            rb_encoding *enc2 = STR_ENC_GET(spat);

            mustnot_broken(spat);
            split_type = string;
            if (RSTRING_LEN(spat) == 0) {
                /* Special case - split into chars */
                spat = rb_reg_regcomp(spat);
                split_type = regexp;
            }
            else if (rb_enc_asciicompat(enc2) == 1) {
                if (RSTRING_LEN(spat) == 1 &amp;&amp; RSTRING_PTR(spat)[0] == &#39; &#39;) {
                    split_type = awk;
                }
            }
            else {
                int l;
                if (rb_enc_ascget(RSTRING_PTR(spat), RSTRING_END(spat), &amp;l, enc2) == &#39; &#39; &amp;&amp;
                    RSTRING_LEN(spat) == l) {
                    split_type = awk;
                }
            }
        }
    }

#define SPLIT_STR(beg, len) (empty_count = split_string(result, str, beg, len, empty_count))

    if (result) result = rb_ary_new();
    beg = 0;
    if (split_type == awk) {
        char *ptr = RSTRING_PTR(str);
        char *eptr = RSTRING_END(str);
        char *bptr = ptr;
        int skip = 1;
        unsigned int c;

        end = beg;
        if (is_ascii_string(str)) {
            while (ptr &lt; eptr) {
                c = (unsigned char)*ptr++;
                if (skip) {
                    if (ascii_isspace(c)) {
                        beg = ptr - bptr;
                    }
                    else {
                        end = ptr - bptr;
                        skip = 0;
                        if (!NIL_P(limit) &amp;&amp; lim &lt;= i) break;
                    }
                }
                else if (ascii_isspace(c)) {
                    SPLIT_STR(beg, end-beg);
                    skip = 1;
                    beg = ptr - bptr;
                    if (!NIL_P(limit)) ++i;
                }
                else {
                    end = ptr - bptr;
                }
            }
        }
        else {
            while (ptr &lt; eptr) {
                int n;

                c = rb_enc_codepoint_len(ptr, eptr, &amp;n, enc);
                ptr += n;
                if (skip) {
                    if (rb_isspace(c)) {
                        beg = ptr - bptr;
                    }
                    else {
                        end = ptr - bptr;
                        skip = 0;
                        if (!NIL_P(limit) &amp;&amp; lim &lt;= i) break;
                    }
                }
                else if (rb_isspace(c)) {
                    SPLIT_STR(beg, end-beg);
                    skip = 1;
                    beg = ptr - bptr;
                    if (!NIL_P(limit)) ++i;
                }
                else {
                    end = ptr - bptr;
                }
            }
        }
    }
    else if (split_type == string) {
        char *ptr = RSTRING_PTR(str);
        char *str_start = ptr;
        char *substr_start = ptr;
        char *eptr = RSTRING_END(str);
        char *sptr = RSTRING_PTR(spat);
        long slen = RSTRING_LEN(spat);

        mustnot_broken(str);
        enc = rb_enc_check(str, spat);
        while (ptr &lt; eptr &amp;&amp;
               (end = rb_memsearch(sptr, slen, ptr, eptr - ptr, enc)) &gt;= 0) {
            /* Check we are at the start of a char */
            char *t = rb_enc_right_char_head(ptr, ptr + end, eptr, enc);
            if (t != ptr + end) {
                ptr = t;
                continue;
            }
            SPLIT_STR(substr_start - str_start, (ptr+end) - substr_start);
            ptr += end + slen;
            substr_start = ptr;
            if (!NIL_P(limit) &amp;&amp; lim &lt;= ++i) break;
        }
        beg = ptr - str_start;
    }
    else {
        char *ptr = RSTRING_PTR(str);
        long len = RSTRING_LEN(str);
        long start = beg;
        long idx;
        int last_null = 0;
        struct re_registers *regs;
        VALUE match = 0;

        for (; (end = rb_reg_search(spat, str, start, 0)) &gt;= 0;
             (match ? (rb_match_unbusy(match), rb_backref_set(match)) : (void)0)) {
            match = rb_backref_get();
            if (!result) rb_match_busy(match);
            regs = RMATCH_REGS(match);
            if (start == end &amp;&amp; BEG(0) == END(0)) {
                if (!ptr) {
                    SPLIT_STR(0, 0);
                    break;
                }
                else if (last_null == 1) {
                    SPLIT_STR(beg, rb_enc_fast_mbclen(ptr+beg, ptr+len, enc));
                    beg = start;
                }
                else {
                    if (start == len)
                        start++;
                    else
                        start += rb_enc_fast_mbclen(ptr+start,ptr+len,enc);
                    last_null = 1;
                    continue;
                }
            }
            else {
                SPLIT_STR(beg, end-beg);
                beg = start = END(0);
            }
            last_null = 0;

            for (idx=1; idx &lt; regs-&gt;num_regs; idx++) {
                if (BEG(idx) == -1) continue;
                SPLIT_STR(BEG(idx), END(idx)-BEG(idx));
            }
            if (!NIL_P(limit) &amp;&amp; lim &lt;= ++i) break;
        }
        if (match) rb_match_unbusy(match);
    }
    if (RSTRING_LEN(str) &gt; 0 &amp;&amp; (!NIL_P(limit) || RSTRING_LEN(str) &gt; beg || lim &lt; 0)) {
        SPLIT_STR(beg, RSTRING_LEN(str)-beg);
    }

    return result ? result : str;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-squeeze">
            
              <b>str.squeeze([other_str]*)    &rarr; new_str
</b>
            
            <a href="../classes/String.html#method-i-squeeze" name="method-i-squeeze" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Builds a set of characters from the <em>other_str</em> parameter(s) using
the procedure described for <code>String#count</code>. Returns a new string
where runs of the same character that occur in this set are replaced by a
single character. If no arguments are given, all runs of identical
characters are replaced by a single character.</p>

<pre><code>&quot;yellow moon&quot;.squeeze                  #=&gt; &quot;yelow mon&quot;
&quot;  now   is  the&quot;.squeeze(&quot; &quot;)         #=&gt; &quot; now is the&quot;
&quot;putters shoot balls&quot;.squeeze(&quot;m-z&quot;)   #=&gt; &quot;puters shot balls&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-squeeze_source')" id="l_method-i-squeeze_source">show</a>
                
              </p>
              <div id="method-i-squeeze_source" class="dyn-source">
                <pre>static VALUE
rb_str_squeeze(int argc, VALUE *argv, VALUE str)
{
    str = rb_str_dup(str);
    rb_str_squeeze_bang(argc, argv, str);
    return str;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-squeeze-21">
            
              <b>str.squeeze!([other_str]*)   &rarr; str or nil
</b>
            
            <a href="../classes/String.html#method-i-squeeze-21" name="method-i-squeeze-21" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Squeezes <em>str</em> in place, returning either <em>str</em>, or
<code>nil</code> if no changes were made.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-squeeze-21_source')" id="l_method-i-squeeze-21_source">show</a>
                
              </p>
              <div id="method-i-squeeze-21_source" class="dyn-source">
                <pre>static VALUE
rb_str_squeeze_bang(int argc, VALUE *argv, VALUE str)
{
    char squeez[TR_TABLE_SIZE];
    rb_encoding *enc = 0;
    VALUE del = 0, nodel = 0;
    unsigned char *s, *send, *t;
    int i, modify = 0;
    int ascompat, singlebyte = single_byte_optimizable(str);
    unsigned int save;

    if (argc == 0) {
        enc = STR_ENC_GET(str);
    }
    else {
        for (i=0; i&lt;argc; i++) {
            VALUE s = argv[i];

            StringValue(s);
            enc = rb_enc_check(str, s);
            if (singlebyte &amp;&amp; !single_byte_optimizable(s))
                singlebyte = 0;
            tr_setup_table(s, squeez, i==0, &amp;del, &amp;nodel, enc);
        }
    }

    str_modify_keep_cr(str);
    s = t = (unsigned char *)RSTRING_PTR(str);
    if (!s || RSTRING_LEN(str) == 0) return Qnil;
    send = (unsigned char *)RSTRING_END(str);
    save = -1;
    ascompat = rb_enc_asciicompat(enc);

    if (singlebyte) {
        while (s &lt; send) {
            unsigned int c = *s++;
            if (c != save || (argc &gt; 0 &amp;&amp; !squeez[c])) {
                *t++ = save = c;
            }
        }
    }
    else {
        while (s &lt; send) {
            unsigned int c;
            int clen;

            if (ascompat &amp;&amp; (c = *s) &lt; 0x80) {
                if (c != save || (argc &gt; 0 &amp;&amp; !squeez[c])) {
                    *t++ = save = c;
                }
                s++;
            }
            else {
                c = rb_enc_codepoint_len((char *)s, (char *)send, &amp;clen, enc);

                if (c != save || (argc &gt; 0 &amp;&amp; !tr_find(c, squeez, del, nodel))) {
                    if (t != s) rb_enc_mbcput(c, t, enc);
                    save = c;
                    t += clen;
                }
                s += clen;
            }
        }
    }

    TERM_FILL((char *)t, TERM_LEN(str));
    if ((char *)t - RSTRING_PTR(str) != RSTRING_LEN(str)) {
        STR_SET_LEN(str, (char *)t - RSTRING_PTR(str));
        modify = 1;
    }

    if (modify) return str;
    return Qnil;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-start_with-3F">
            
              <b>str.start_with?([prefixes]+)   &rarr; true or false
</b>
            
            <a href="../classes/String.html#method-i-start_with-3F" name="method-i-start_with-3F" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns true if <code>str</code> starts with one of the
<code>prefixes</code> given. Each of the <code>prefixes</code> should be a
<a href="String.html">String</a> or a <a href="Regexp.html">Regexp</a>.</p>

<pre><code>&quot;hello&quot;.start_with?(&quot;hell&quot;)               #=&gt; true
&quot;hello&quot;.start_with?(/H/i)                 #=&gt; true

# returns true if one of the prefixes matches.
&quot;hello&quot;.start_with?(&quot;heaven&quot;, &quot;hell&quot;)     #=&gt; true
&quot;hello&quot;.start_with?(&quot;heaven&quot;, &quot;paradise&quot;) #=&gt; false
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-start_with-3F_source')" id="l_method-i-start_with-3F_source">show</a>
                
              </p>
              <div id="method-i-start_with-3F_source" class="dyn-source">
                <pre>static VALUE
rb_str_start_with(int argc, VALUE *argv, VALUE str)
{
    int i;

    for (i=0; i&lt;argc; i++) {
        VALUE tmp = argv[i];
        if (RB_TYPE_P(tmp, T_REGEXP)) {
            if (rb_reg_start_with_p(tmp, str))
                return Qtrue;
        }
        else {
            StringValue(tmp);
            rb_enc_check(str, tmp);
            if (RSTRING_LEN(str) &lt; RSTRING_LEN(tmp)) continue;
            if (memcmp(RSTRING_PTR(str), RSTRING_PTR(tmp), RSTRING_LEN(tmp)) == 0)
                return Qtrue;
        }
    }
    return Qfalse;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-strip">
            
              <b>str.strip   &rarr; new_str
</b>
            
            <a href="../classes/String.html#method-i-strip" name="method-i-strip" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns a copy of the receiver with leading and trailing whitespace
removed.</p>

<p>Whitespace is defined as any of the following characters: null, horizontal
tab, line feed, vertical tab, form feed, carriage return, space.</p>

<pre><code>&quot;    hello    &quot;.strip   #=&gt; &quot;hello&quot;
&quot;\tgoodbye\r\n&quot;.strip   #=&gt; &quot;goodbye&quot;
&quot;\x00\t\n\v\f\r &quot;.strip #=&gt; &quot;&quot;
&quot;hello&quot;.strip           #=&gt; &quot;hello&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-strip_source')" id="l_method-i-strip_source">show</a>
                
              </p>
              <div id="method-i-strip_source" class="dyn-source">
                <pre>static VALUE
rb_str_strip(VALUE str)
{
    char *start;
    long olen, loffset, roffset;
    rb_encoding *enc = STR_ENC_GET(str);

    RSTRING_GETMEM(str, start, olen);
    loffset = lstrip_offset(str, start, start+olen, enc);
    roffset = rstrip_offset(str, start+loffset, start+olen, enc);

    if (loffset &lt;= 0 &amp;&amp; roffset &lt;= 0) return rb_str_dup(str);
    return rb_str_subseq(str, loffset, olen-loffset-roffset);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-strip-21">
            
              <b>str.strip!   &rarr; self or nil
</b>
            
            <a href="../classes/String.html#method-i-strip-21" name="method-i-strip-21" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Removes leading and trailing whitespace from the receiver. Returns the
altered receiver, or <code>nil</code> if there was no change.</p>

<p>Refer to <a href="String.html#method-i-strip">#strip</a> for the definition
of whitespace.</p>

<pre><code>&quot;  hello  &quot;.strip!  #=&gt; &quot;hello&quot;
&quot;hello&quot;.strip!      #=&gt; nil
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-strip-21_source')" id="l_method-i-strip-21_source">show</a>
                
              </p>
              <div id="method-i-strip-21_source" class="dyn-source">
                <pre>static VALUE
rb_str_strip_bang(VALUE str)
{
    char *start;
    long olen, loffset, roffset;
    rb_encoding *enc;

    str_modify_keep_cr(str);
    enc = STR_ENC_GET(str);
    RSTRING_GETMEM(str, start, olen);
    loffset = lstrip_offset(str, start, start+olen, enc);
    roffset = rstrip_offset(str, start+loffset, start+olen, enc);

    if (loffset &gt; 0 || roffset &gt; 0) {
        long len = olen-roffset;
        if (loffset &gt; 0) {
            len -= loffset;
            memmove(start, start + loffset, len);
        }
        STR_SET_LEN(str, len);
#if !SHARABLE_MIDDLE_SUBSTRING
        TERM_FILL(start+len, rb_enc_mbminlen(enc));
#endif
        return str;
    }
    return Qnil;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-sub">
            
              <b>str.sub(pattern, replacement)         &rarr; new_str<br />str.sub(pattern, hash)                &rarr; new_str<br />str.sub(pattern) {|match| block }     &rarr; new_str
</b>
            
            <a href="../classes/String.html#method-i-sub" name="method-i-sub" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns a copy of <code>str</code> with the <em>first</em> occurrence of
<code>pattern</code> replaced by the second argument. The
<code>pattern</code> is typically a <a href="Regexp.html">Regexp</a>; if
given as a <a href="String.html">String</a>, any regular expression
metacharacters it contains will be interpreted literally, e.g.
<code>&#39;\\d&#39;</code> will match a backslash followed by &#39;d&#39;,
instead of a digit.</p>

<p>If <code>replacement</code> is a <a href="String.html">String</a> it will
be substituted for the matched text. It may contain back-references to the
pattern&#39;s capture groups of the form <code>&quot;\d&quot;</code>, where
<em>d</em> is a group number, or <code>&quot;\k&lt;n&gt;&quot;</code>,
where <em>n</em> is a group name. If it is a double-quoted string, both
back-references must be preceded by an additional backslash. However,
within <code>replacement</code> the special match variables, such as
<code>$&amp;</code>, will not refer to the current match. If
<code>replacement</code> is a <a href="String.html">String</a> that looks
like a pattern&#39;s capture group but is actually not a pattern capture
group e.g. <code>&quot;\&#39;&quot;</code>, then it will have to be
preceded by two backslashes like so <code>&quot;\\&#39;&quot;</code>.</p>

<p>If the second argument is a <a href="Hash.html">Hash</a>, and the matched
text is one of its keys, the corresponding value is the replacement string.</p>

<p>In the block form, the current match string is passed in as a parameter,
and variables such as <code>$1</code>, <code>$2</code>, <code>$`</code>,
<code>$&amp;</code>, and <code>$&#39;</code> will be set appropriately. The
value returned by the block will be substituted for the match on each call.</p>

<p>The result inherits any tainting in the original string or any supplied
replacement string.</p>

<pre><code>&quot;hello&quot;.sub(/[aeiou]/, &#39;*&#39;)                  #=&gt; &quot;h*llo&quot;
&quot;hello&quot;.sub(/([aeiou])/, &#39;&lt;\1&gt;&#39;)             #=&gt; &quot;h&lt;e&gt;llo&quot;
&quot;hello&quot;.sub(/./) {|s| s.ord.to_s + &#39; &#39; }     #=&gt; &quot;104 ello&quot;
&quot;hello&quot;.sub(/(?&lt;foo&gt;[aeiou])/, &#39;*\k&lt;foo&gt;*&#39;)  #=&gt; &quot;h*e*llo&quot;
&#39;Is SHELL your preferred shell?&#39;.sub(/[[:upper:]]{2,}/, ENV)
 #=&gt; &quot;Is /bin/bash your preferred shell?&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-sub_source')" id="l_method-i-sub_source">show</a>
                
              </p>
              <div id="method-i-sub_source" class="dyn-source">
                <pre>static VALUE
rb_str_sub(int argc, VALUE *argv, VALUE str)
{
    str = rb_str_dup(str);
    rb_str_sub_bang(argc, argv, str);
    return str;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-sub-21">
            
              <b>str.sub!(pattern, replacement)          &rarr; str or nil<br />str.sub!(pattern) {|match| block }      &rarr; str or nil
</b>
            
            <a href="../classes/String.html#method-i-sub-21" name="method-i-sub-21" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Performs the same substitution as <a
href="String.html#method-i-sub">#sub</a> in-place.</p>

<p>Returns <code>str</code> if a substitution was performed or
<code>nil</code> if no substitution was performed.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-sub-21_source')" id="l_method-i-sub-21_source">show</a>
                
              </p>
              <div id="method-i-sub-21_source" class="dyn-source">
                <pre>static VALUE
rb_str_sub_bang(int argc, VALUE *argv, VALUE str)
{
    VALUE pat, repl, hash = Qnil;
    int iter = 0;
    int tainted = 0;
    long plen;
    int min_arity = rb_block_given_p() ? 1 : 2;
    long beg;

    rb_check_arity(argc, min_arity, 2);
    if (argc == 1) {
        iter = 1;
    }
    else {
        repl = argv[1];
        hash = rb_check_hash_type(argv[1]);
        if (NIL_P(hash)) {
            StringValue(repl);
        }
        tainted = OBJ_TAINTED_RAW(repl);
    }

    pat = get_pat_quoted(argv[0], 1);

    str_modifiable(str);
    beg = rb_pat_search(pat, str, 0, 1);
    if (beg &gt;= 0) {
        rb_encoding *enc;
        int cr = ENC_CODERANGE(str);
        long beg0, end0;
        VALUE match, match0 = Qnil;
        struct re_registers *regs;
        char *p, *rp;
        long len, rlen;

        match = rb_backref_get();
        regs = RMATCH_REGS(match);
        if (RB_TYPE_P(pat, T_STRING)) {
            beg0 = beg;
            end0 = beg0 + RSTRING_LEN(pat);
            match0 = pat;
        }
        else {
            beg0 = BEG(0);
            end0 = END(0);
            if (iter) match0 = rb_reg_nth_match(0, match);
        }

        if (iter || !NIL_P(hash)) {
            p = RSTRING_PTR(str); len = RSTRING_LEN(str);

            if (iter) {
                repl = rb_obj_as_string(rb_yield(match0));
            }
            else {
                repl = rb_hash_aref(hash, rb_str_subseq(str, beg0, end0 - beg0));
                repl = rb_obj_as_string(repl);
            }
            str_mod_check(str, p, len);
            rb_check_frozen(str);
        }
        else {
            repl = rb_reg_regsub(repl, str, regs, RB_TYPE_P(pat, T_STRING) ? Qnil : pat);
        }

        enc = rb_enc_compatible(str, repl);
        if (!enc) {
            rb_encoding *str_enc = STR_ENC_GET(str);
            p = RSTRING_PTR(str); len = RSTRING_LEN(str);
            if (coderange_scan(p, beg0, str_enc) != ENC_CODERANGE_7BIT ||
                coderange_scan(p+end0, len-end0, str_enc) != ENC_CODERANGE_7BIT) {
                rb_raise(rb_eEncCompatError, &quot;incompatible character encodings: %s and %s&quot;,
                         rb_enc_name(str_enc),
                         rb_enc_name(STR_ENC_GET(repl)));
            }
            enc = STR_ENC_GET(repl);
        }
        rb_str_modify(str);
        rb_enc_associate(str, enc);
        tainted |= OBJ_TAINTED_RAW(repl);
        if (ENC_CODERANGE_UNKNOWN &lt; cr &amp;&amp; cr &lt; ENC_CODERANGE_BROKEN) {
            int cr2 = ENC_CODERANGE(repl);
            if (cr2 == ENC_CODERANGE_BROKEN ||
                (cr == ENC_CODERANGE_VALID &amp;&amp; cr2 == ENC_CODERANGE_7BIT))
                cr = ENC_CODERANGE_UNKNOWN;
            else
                cr = cr2;
        }
        plen = end0 - beg0;
        rlen = RSTRING_LEN(repl);
        len = RSTRING_LEN(str);
        if (rlen &gt; plen) {
            RESIZE_CAPA(str, len + rlen - plen);
        }
        p = RSTRING_PTR(str);
        if (rlen != plen) {
            memmove(p + beg0 + rlen, p + beg0 + plen, len - beg0 - plen);
        }
        rp = RSTRING_PTR(repl);
        memmove(p + beg0, rp, rlen);
        len += rlen - plen;
        STR_SET_LEN(str, len);
        TERM_FILL(&amp;RSTRING_PTR(str)[len], TERM_LEN(str));
        ENC_CODERANGE_SET(str, cr);
        FL_SET_RAW(str, tainted);

        return str;
    }
    return Qnil;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-succ">
            
              <b>str.succ   &rarr; new_str</b>
            
            <a href="../classes/String.html#method-i-succ" name="method-i-succ" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns the successor to <em>str</em>. The successor is calculated by
incrementing characters starting from the rightmost alphanumeric (or the
rightmost character if there are no alphanumerics) in the string.
Incrementing a digit always results in another digit, and incrementing a
letter results in another letter of the same case. Incrementing
nonalphanumerics uses the underlying character set&#39;s collating
sequence.</p>

<p>If the increment generates a “carry,&#39;&#39; the character to the left of
it is incremented. This process repeats until there is no carry, adding an
additional character if necessary.</p>

<pre><code>&quot;abcd&quot;.succ        #=&gt; &quot;abce&quot;
&quot;THX1138&quot;.succ     #=&gt; &quot;THX1139&quot;
&quot;&lt;&lt;koala&gt;&gt;&quot;.succ   #=&gt; &quot;&lt;&lt;koalb&gt;&gt;&quot;
&quot;1999zzz&quot;.succ     #=&gt; &quot;2000aaa&quot;
&quot;ZZZ9999&quot;.succ     #=&gt; &quot;AAAA0000&quot;
&quot;***&quot;.succ         #=&gt; &quot;**+&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-succ_source')" id="l_method-i-succ_source">show</a>
                
              </p>
              <div id="method-i-succ_source" class="dyn-source">
                <pre>VALUE
rb_str_succ(VALUE orig)
{
    VALUE str;
    str = rb_str_new_with_class(orig, RSTRING_PTR(orig), RSTRING_LEN(orig));
    rb_enc_cr_str_copy_for_substr(str, orig);
    OBJ_INFECT(str, orig);
    return str_succ(str);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-succ-21">
            
              <b>str.succ!   &rarr; str</b>
            
            <a href="../classes/String.html#method-i-succ-21" name="method-i-succ-21" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Equivalent to <code>String#succ</code>, but modifies the receiver in place.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-succ-21_source')" id="l_method-i-succ-21_source">show</a>
                
              </p>
              <div id="method-i-succ-21_source" class="dyn-source">
                <pre>static VALUE
rb_str_succ_bang(VALUE str)
{
    rb_str_modify(str);
    str_succ(str);
    return str;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-sum">
            
              <b>str.sum(n=16)   &rarr; integer
</b>
            
            <a href="../classes/String.html#method-i-sum" name="method-i-sum" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns a basic <em>n</em>-bit checksum of the characters in <em>str</em>,
where <em>n</em> is the optional <code>Integer</code> parameter, defaulting
to 16. The result is simply the sum of the binary value of each byte in
<em>str</em> modulo <code>2**n - 1</code>. This is not a particularly good
checksum.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-sum_source')" id="l_method-i-sum_source">show</a>
                
              </p>
              <div id="method-i-sum_source" class="dyn-source">
                <pre>static VALUE
rb_str_sum(int argc, VALUE *argv, VALUE str)
{
    int bits = 16;
    char *ptr, *p, *pend;
    long len;
    VALUE sum = INT2FIX(0);
    unsigned long sum0 = 0;

    if (rb_check_arity(argc, 0, 1) &amp;&amp; (bits = NUM2INT(argv[0])) &lt; 0) {
        bits = 0;
    }
    ptr = p = RSTRING_PTR(str);
    len = RSTRING_LEN(str);
    pend = p + len;

    while (p &lt; pend) {
        if (FIXNUM_MAX - UCHAR_MAX &lt; sum0) {
            sum = rb_funcall(sum, &#39;+&#39;, 1, LONG2FIX(sum0));
            str_mod_check(str, ptr, len);
            sum0 = 0;
        }
        sum0 += (unsigned char)*p;
        p++;
    }

    if (bits == 0) {
        if (sum0) {
            sum = rb_funcall(sum, &#39;+&#39;, 1, LONG2FIX(sum0));
        }
    }
    else {
        if (sum == INT2FIX(0)) {
            if (bits &lt; (int)sizeof(long)*CHAR_BIT) {
                sum0 &amp;= (((unsigned long)1)&lt;&lt;bits)-1;
            }
            sum = LONG2FIX(sum0);
        }
        else {
            VALUE mod;

            if (sum0) {
                sum = rb_funcall(sum, &#39;+&#39;, 1, LONG2FIX(sum0));
            }

            mod = rb_funcall(INT2FIX(1), idLTLT, 1, INT2FIX(bits));
            mod = rb_funcall(mod, &#39;-&#39;, 1, INT2FIX(1));
            sum = rb_funcall(sum, &#39;&amp;&#39;, 1, mod);
        }
    }
    return sum;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-swapcase">
            
              <b>str.swapcase              &rarr; new_str<br />str.swapcase([options])   &rarr; new_str
</b>
            
            <a href="../classes/String.html#method-i-swapcase" name="method-i-swapcase" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns a copy of <em>str</em> with uppercase alphabetic characters
converted to lowercase and lowercase characters converted to uppercase.</p>

<p>See <a href="String.html#method-i-downcase">#downcase</a> for meaning of
<code>options</code> and use with different encodings.</p>

<pre><code>&quot;Hello&quot;.swapcase          #=&gt; &quot;hELLO&quot;
&quot;cYbEr_PuNk11&quot;.swapcase   #=&gt; &quot;CyBeR_pUnK11&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-swapcase_source')" id="l_method-i-swapcase_source">show</a>
                
              </p>
              <div id="method-i-swapcase_source" class="dyn-source">
                <pre>static VALUE
rb_str_swapcase(int argc, VALUE *argv, VALUE str)
{
    str = rb_str_dup(str);
    rb_str_swapcase_bang(argc, argv, str);
    return str;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-swapcase-21">
            
              <b>str.swapcase!              &rarr; str or nil<br />str.swapcase!([options])   &rarr; str or nil
</b>
            
            <a href="../classes/String.html#method-i-swapcase-21" name="method-i-swapcase-21" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Equivalent to <code>String#swapcase</code>, but modifies the receiver in
place, returning <em>str</em>, or <code>nil</code> if no changes were made.</p>

<p>See <a href="String.html#method-i-downcase">#downcase</a> for meaning of
<code>options</code> and use with different encodings.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-swapcase-21_source')" id="l_method-i-swapcase-21_source">show</a>
                
              </p>
              <div id="method-i-swapcase-21_source" class="dyn-source">
                <pre>static VALUE
rb_str_swapcase_bang(int argc, VALUE *argv, VALUE str)
{
    rb_encoding *enc;
    OnigCaseFoldType flags = ONIGENC_CASE_UPCASE | ONIGENC_CASE_DOWNCASE;

    flags = check_case_options(argc, argv, flags);
    str_modify_keep_cr(str);
    enc = STR_ENC_GET(str);
    rb_str_check_dummy_enc(enc);
    if (flags&amp;ONIGENC_CASE_ASCII_ONLY)
        rb_str_ascii_casemap(str, &amp;flags, enc);
    else
        str_shared_replace(str, rb_str_casemap(str, &amp;flags, enc));

    if (ONIGENC_CASE_MODIFIED&amp;flags) return str;
    return Qnil;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-to_f">
            
              <b>str.to_f   &rarr; float
</b>
            
            <a href="../classes/String.html#method-i-to_f" name="method-i-to_f" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns the result of interpreting leading characters in <em>str</em> as a
floating point number. Extraneous characters past the end of a valid number
are ignored. If there is not a valid number at the start of <em>str</em>,
<code>0.0</code> is returned. This method never raises an exception.</p>

<pre><code>&quot;123.45e1&quot;.to_f        #=&gt; 1234.5
&quot;45.67 degrees&quot;.to_f   #=&gt; 45.67
&quot;thx1138&quot;.to_f         #=&gt; 0.0
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-to_f_source')" id="l_method-i-to_f_source">show</a>
                
              </p>
              <div id="method-i-to_f_source" class="dyn-source">
                <pre>static VALUE
rb_str_to_f(VALUE str)
{
    return DBL2NUM(rb_str_to_dbl(str, FALSE));
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-to_i">
            
              <b>str.to_i(base=10)   &rarr; integer
</b>
            
            <a href="../classes/String.html#method-i-to_i" name="method-i-to_i" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns the result of interpreting leading characters in <em>str</em> as an
integer base <em>base</em> (between 2 and 36). Extraneous characters past
the end of a valid number are ignored. If there is not a valid number at
the start of <em>str</em>, <code>0</code> is returned. This method never
raises an exception when <em>base</em> is valid.</p>

<pre><code>&quot;12345&quot;.to_i             #=&gt; 12345
&quot;99 red balloons&quot;.to_i   #=&gt; 99
&quot;0a&quot;.to_i                #=&gt; 0
&quot;0a&quot;.to_i(16)            #=&gt; 10
&quot;hello&quot;.to_i             #=&gt; 0
&quot;1100101&quot;.to_i(2)        #=&gt; 101
&quot;1100101&quot;.to_i(8)        #=&gt; 294977
&quot;1100101&quot;.to_i(10)       #=&gt; 1100101
&quot;1100101&quot;.to_i(16)       #=&gt; 17826049
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-to_i_source')" id="l_method-i-to_i_source">show</a>
                
              </p>
              <div id="method-i-to_i_source" class="dyn-source">
                <pre>static VALUE
rb_str_to_i(int argc, VALUE *argv, VALUE str)
{
    int base = 10;

    if (rb_check_arity(argc, 0, 1) &amp;&amp; (base = NUM2INT(argv[0])) &lt; 0) {
        rb_raise(rb_eArgError, &quot;invalid radix %d&quot;, base);
    }
    return rb_str_to_inum(str, base, FALSE);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-to_r">
            
              <b>str.to_r  &rarr;  rational
</b>
            
            <a href="../classes/String.html#method-i-to_r" name="method-i-to_r" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns the result of interpreting leading characters in <code>str</code>
as a rational.  Leading whitespace and extraneous characters past the end
of a valid number are ignored. Digit sequences can be separated by an
underscore. If there is not a valid number at the start of
<code>str</code>, zero is returned.  This method never raises an exception.</p>

<pre><code>&#39;  2  &#39;.to_r       #=&gt; (2/1)
&#39;300/2&#39;.to_r       #=&gt; (150/1)
&#39;-9.2&#39;.to_r        #=&gt; (-46/5)
&#39;-9.2e2&#39;.to_r      #=&gt; (-920/1)
&#39;1_234_567&#39;.to_r   #=&gt; (1234567/1)
&#39;21 June 09&#39;.to_r  #=&gt; (21/1)
&#39;21/06/09&#39;.to_r    #=&gt; (7/2)
&#39;BWV 1079&#39;.to_r    #=&gt; (0/1)
</code></pre>

<p>NOTE: “0.3”.to_r isn&#39;t the same as 0.3.to_r.  The former is equivalent
to “3/10”.to_r, but the latter isn&#39;t so.</p>

<pre><code>&quot;0.3&quot;.to_r == 3/10r  #=&gt; true
0.3.to_r   == 3/10r  #=&gt; false
</code></pre>

<p>See also Kernel#Rational.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-to_r_source')" id="l_method-i-to_r_source">show</a>
                
              </p>
              <div id="method-i-to_r_source" class="dyn-source">
                <pre>static VALUE
string_to_r(VALUE self)
{
    VALUE num;

    rb_must_asciicompat(self);

    num = parse_rat(RSTRING_PTR(self), RSTRING_END(self), 0, TRUE);

    if (RB_FLOAT_TYPE_P(num) &amp;&amp; !FLOAT_ZERO_P(num))
        rb_raise(rb_eFloatDomainError, &quot;Infinity&quot;);
    return num;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-to_s">
            
              <b>str.to_s     &rarr; str<br />str.to_str   &rarr; str</b>
            
            <a href="../classes/String.html#method-i-to_s" name="method-i-to_s" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns <code>self</code>.</p>

<p>If called on a subclass of <a href="String.html">String</a>, converts the
receiver to a <a href="String.html">String</a> object.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-to_s_source')" id="l_method-i-to_s_source">show</a>
                
              </p>
              <div id="method-i-to_s_source" class="dyn-source">
                <pre>static VALUE
rb_str_to_s(VALUE str)
{
    if (rb_obj_class(str) != rb_cString) {
        return str_duplicate(rb_cString, str);
    }
    return str;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-to_str">
            
              <b>str.to_str   &rarr; str</b>
            
            <a href="../classes/String.html#method-i-to_str" name="method-i-to_str" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns <code>self</code>.</p>

<p>If called on a subclass of <a href="String.html">String</a>, converts the
receiver to a <a href="String.html">String</a> object.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-to_str_source')" id="l_method-i-to_str_source">show</a>
                
              </p>
              <div id="method-i-to_str_source" class="dyn-source">
                <pre>static VALUE
rb_str_to_s(VALUE str)
{
    if (rb_obj_class(str) != rb_cString) {
        return str_duplicate(rb_cString, str);
    }
    return str;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-to_sym">
            
              <b>str.to_sym   &rarr; symbol</b>
            
            <a href="../classes/String.html#method-i-to_sym" name="method-i-to_sym" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns the <code>Symbol</code> corresponding to <em>str</em>, creating the
symbol if it did not previously exist. See <code>Symbol#id2name</code>.</p>

<pre><code>&quot;Koala&quot;.intern         #=&gt; :Koala
s = &#39;cat&#39;.to_sym       #=&gt; :cat
s == :cat              #=&gt; true
s = &#39;@cat&#39;.to_sym      #=&gt; :@cat
s == :@cat             #=&gt; true
</code></pre>

<p>This can also be used to create symbols that cannot be represented using
the <code>:xxx</code> notation.</p>

<pre><code>&#39;cat and dog&#39;.to_sym   #=&gt; :&quot;cat and dog&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-to_sym_source')" id="l_method-i-to_sym_source">show</a>
                
              </p>
              <div id="method-i-to_sym_source" class="dyn-source">
                <pre>VALUE
rb_str_intern(VALUE str)
{
#if USE_SYMBOL_GC
    rb_encoding *enc, *ascii;
    int type;
#else
    ID id;
#endif
    VALUE sym = lookup_str_sym(str);

    if (sym) {
	return sym;
    }

#if USE_SYMBOL_GC
    enc = rb_enc_get(str);
    ascii = rb_usascii_encoding();
    if (enc != ascii &amp;&amp; sym_check_asciionly(str)) {
	str = rb_str_dup(str);
	rb_enc_associate(str, ascii);
	OBJ_FREEZE(str);
	enc = ascii;
    }
    else {
        str = rb_str_dup(str);
        OBJ_FREEZE(str);
    }
    str = rb_fstring(str);
    type = rb_str_symname_type(str, IDSET_ATTRSET_FOR_INTERN);
    if (type &lt; 0) type = ID_JUNK;
    return dsymbol_alloc(rb_cSymbol, str, enc, type);
#else
    id = intern_str(str, 0);
    return ID2SYM(id);
#endif
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-tr">
            
              <b>str.tr(from_str, to_str)   => new_str
</b>
            
            <a href="../classes/String.html#method-i-tr" name="method-i-tr" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns a copy of <code>str</code> with the characters in
<code>from_str</code> replaced by the corresponding characters in
<code>to_str</code>.  If <code>to_str</code> is shorter than
<code>from_str</code>, it is padded with its last character in order to
maintain the correspondence.</p>

<pre><code>&quot;hello&quot;.tr(&#39;el&#39;, &#39;ip&#39;)      #=&gt; &quot;hippo&quot;
&quot;hello&quot;.tr(&#39;aeiou&#39;, &#39;*&#39;)    #=&gt; &quot;h*ll*&quot;
&quot;hello&quot;.tr(&#39;aeiou&#39;, &#39;AA*&#39;)  #=&gt; &quot;hAll*&quot;
</code></pre>

<p>Both strings may use the <code>c1-c2</code> notation to denote ranges of
characters, and <code>from_str</code> may start with a <code>^</code>,
which denotes all characters except those listed.</p>

<pre><code>&quot;hello&quot;.tr(&#39;a-y&#39;, &#39;b-z&#39;)    #=&gt; &quot;ifmmp&quot;
&quot;hello&quot;.tr(&#39;^aeiou&#39;, &#39;*&#39;)   #=&gt; &quot;*e**o&quot;
</code></pre>

<p>The backslash character <code>\</code> can be used to escape <code>^</code>
or <code>-</code> and is otherwise ignored unless it appears at the end of
a range or the end of the <code>from_str</code> or <code>to_str</code>:</p>

<pre><code>&quot;hello^world&quot;.tr(&quot;\\^aeiou&quot;, &quot;*&quot;) #=&gt; &quot;h*ll**w*rld&quot;
&quot;hello-world&quot;.tr(&quot;a\\-eo&quot;, &quot;*&quot;)   #=&gt; &quot;h*ll**w*rld&quot;

&quot;hello\r\nworld&quot;.tr(&quot;\r&quot;, &quot;&quot;)   #=&gt; &quot;hello\nworld&quot;
&quot;hello\r\nworld&quot;.tr(&quot;\\r&quot;, &quot;&quot;)  #=&gt; &quot;hello\r\nwold&quot;
&quot;hello\r\nworld&quot;.tr(&quot;\\\r&quot;, &quot;&quot;) #=&gt; &quot;hello\nworld&quot;

&quot;X[&#39;\\b&#39;]&quot;.tr(&quot;X\\&quot;, &quot;&quot;)   #=&gt; &quot;[&#39;b&#39;]&quot;
&quot;X[&#39;\\b&#39;]&quot;.tr(&quot;X-\\]&quot;, &quot;&quot;) #=&gt; &quot;&#39;b&#39;&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-tr_source')" id="l_method-i-tr_source">show</a>
                
              </p>
              <div id="method-i-tr_source" class="dyn-source">
                <pre>static VALUE
rb_str_tr(VALUE str, VALUE src, VALUE repl)
{
    str = rb_str_dup(str);
    tr_trans(str, src, repl, 0);
    return str;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-tr-21">
            
              <b>str.tr!(from_str, to_str)   &rarr; str or nil
</b>
            
            <a href="../classes/String.html#method-i-tr-21" name="method-i-tr-21" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Translates <em>str</em> in place, using the same rules as
<code>String#tr</code>. Returns <em>str</em>, or <code>nil</code> if no
changes were made.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-tr-21_source')" id="l_method-i-tr-21_source">show</a>
                
              </p>
              <div id="method-i-tr-21_source" class="dyn-source">
                <pre>static VALUE
rb_str_tr_bang(VALUE str, VALUE src, VALUE repl)
{
    return tr_trans(str, src, repl, 0);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-tr_s">
            
              <b>str.tr_s(from_str, to_str)   &rarr; new_str
</b>
            
            <a href="../classes/String.html#method-i-tr_s" name="method-i-tr_s" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Processes a copy of <em>str</em> as described under <code>String#tr</code>,
then removes duplicate characters in regions that were affected by the
translation.</p>

<pre><code>&quot;hello&quot;.tr_s(&#39;l&#39;, &#39;r&#39;)     #=&gt; &quot;hero&quot;
&quot;hello&quot;.tr_s(&#39;el&#39;, &#39;*&#39;)    #=&gt; &quot;h*o&quot;
&quot;hello&quot;.tr_s(&#39;el&#39;, &#39;hx&#39;)   #=&gt; &quot;hhxo&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-tr_s_source')" id="l_method-i-tr_s_source">show</a>
                
              </p>
              <div id="method-i-tr_s_source" class="dyn-source">
                <pre>static VALUE
rb_str_tr_s(VALUE str, VALUE src, VALUE repl)
{
    str = rb_str_dup(str);
    tr_trans(str, src, repl, 1);
    return str;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-tr_s-21">
            
              <b>str.tr_s!(from_str, to_str)   &rarr; str or nil
</b>
            
            <a href="../classes/String.html#method-i-tr_s-21" name="method-i-tr_s-21" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Performs <code>String#tr_s</code> processing on <em>str</em> in place,
returning <em>str</em>, or <code>nil</code> if no changes were made.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-tr_s-21_source')" id="l_method-i-tr_s-21_source">show</a>
                
              </p>
              <div id="method-i-tr_s-21_source" class="dyn-source">
                <pre>static VALUE
rb_str_tr_s_bang(VALUE str, VALUE src, VALUE repl)
{
    return tr_trans(str, src, repl, 1);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-undump">
            
              <b>str.undump   &rarr; new_str
</b>
            
            <a href="../classes/String.html#method-i-undump" name="method-i-undump" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Produces unescaped version of <code>str</code>. See also <a
href="String.html#method-i-dump">#dump</a> because <a
href="String.html#method-i-undump">#undump</a> does inverse of <a
href="String.html#method-i-dump">#dump</a>.</p>

<pre><code>&quot;\&quot;hello \\n &#39;&#39;\&quot;&quot;.undump #=&gt; &quot;hello \n &#39;&#39;&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-undump_source')" id="l_method-i-undump_source">show</a>
                
              </p>
              <div id="method-i-undump_source" class="dyn-source">
                <pre>static VALUE
str_undump(VALUE str)
{
    const char *s = RSTRING_PTR(str);
    const char *s_end = RSTRING_END(str);
    rb_encoding *enc = rb_enc_get(str);
    VALUE undumped = rb_enc_str_new(s, 0L, enc);
    bool utf8 = false;
    bool binary = false;
    int w;

    rb_must_asciicompat(str);
    if (rb_str_is_ascii_only_p(str) == Qfalse) {
        rb_raise(rb_eRuntimeError, &quot;non-ASCII character detected&quot;);
    }
    if (!str_null_check(str, &amp;w)) {
       rb_raise(rb_eRuntimeError, &quot;string contains null byte&quot;);
    }
    if (RSTRING_LEN(str) &lt; 2) goto invalid_format;
    if (*s != &#39;&quot;&#39;) goto invalid_format;

    /* strip &#39;&quot;&#39; at the start */
    s++;

    for (;;) {
        if (s &gt;= s_end) {
            rb_raise(rb_eRuntimeError, &quot;unterminated dumped string&quot;);
        }

        if (*s == &#39;&quot;&#39;) {
            /* epilogue */
            s++;
            if (s == s_end) {
                /* ascii compatible dumped string */
                break;
            }
            else {
                static const char force_encoding_suffix[] = &quot;.force_encoding(\&quot;&quot;; /* &quot;\&quot;)&quot; */
                static const char dup_suffix[] = &quot;.dup&quot;;
                const char *encname;
                int encidx;
                ptrdiff_t size;

                /* check separately for strings dumped by older versions */
                size = sizeof(dup_suffix) - 1;
                if (s_end - s &gt; size &amp;&amp; memcmp(s, dup_suffix, size) == 0) s += size;

                size = sizeof(force_encoding_suffix) - 1;
                if (s_end - s &lt;= size) goto invalid_format;
                if (memcmp(s, force_encoding_suffix, size) != 0) goto invalid_format;
                s += size;

                if (utf8) {
                    rb_raise(rb_eRuntimeError, &quot;dumped string contained Unicode escape but used force_encoding&quot;);
                }

                encname = s;
                s = memchr(s, &#39;&quot;&#39;, s_end-s);
                size = s - encname;
                if (!s) goto invalid_format;
                if (s_end - s != 2) goto invalid_format;
                if (s[0] != &#39;&quot;&#39; || s[1] != &#39;)&#39;) goto invalid_format;

                encidx = rb_enc_find_index2(encname, (long)size);
                if (encidx &lt; 0) {
                    rb_raise(rb_eRuntimeError, &quot;dumped string has unknown encoding name&quot;);
                }
                rb_enc_associate_index(undumped, encidx);
            }
            break;
        }

        if (*s == &#39;\\&#39;) {
            s++;
            if (s &gt;= s_end) {
                rb_raise(rb_eRuntimeError, &quot;invalid escape&quot;);
            }
            undump_after_backslash(undumped, &amp;s, s_end, &amp;enc, &amp;utf8, &amp;binary);
        }
        else {
            rb_str_cat(undumped, s++, 1);
        }
    }

    OBJ_INFECT(undumped, str);
    return undumped;
invalid_format:
    rb_raise(rb_eRuntimeError, &quot;invalid dumped string; not wrapped with &#39;\&quot;&#39; nor &#39;\&quot;...\&quot;.force_encoding(\&quot;...\&quot;)&#39; form&quot;);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-unicode_normalize">
            
              <b>str.unicode_normalize(form=:nfc)
</b>
            
            <a href="../classes/String.html#method-i-unicode_normalize" name="method-i-unicode_normalize" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Unicode Normalization—Returns a normalized form of <code>str</code>, using
Unicode normalizations NFC, NFD, NFKC, or NFKD. The normalization form used
is determined by <code>form</code>, which can be any of the four values
<code>:nfc</code>, <code>:nfd</code>, <code>:nfkc</code>, or
<code>:nfkd</code>. The default is <code>:nfc</code>.</p>

<p>If the string is not in a Unicode <a href="Encoding.html">Encoding</a>,
then an <a href="Exception.html">Exception</a> is raised. In this context,
&#39;Unicode Encoding&#39; means any of UTF-8, UTF-16BE/LE, and
UTF-32BE/LE, as well as GB18030, UCS_2BE, and UCS_4BE. Anything other than
UTF-8 is implemented by converting to UTF-8, which makes it slower than
UTF-8.</p>

<pre><code>&quot;a\u0300&quot;.unicode_normalize        #=&gt; &quot;\u00E0&quot;
&quot;a\u0300&quot;.unicode_normalize(:nfc)  #=&gt; &quot;\u00E0&quot;
&quot;\u00E0&quot;.unicode_normalize(:nfd)   #=&gt; &quot;a\u0300&quot;
&quot;\xE0&quot;.force_encoding(&#39;ISO-8859-1&#39;).unicode_normalize(:nfd)
                                   #=&gt; Encoding::CompatibilityError raised
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-unicode_normalize_source')" id="l_method-i-unicode_normalize_source">show</a>
                
              </p>
              <div id="method-i-unicode_normalize_source" class="dyn-source">
                <pre>static VALUE
rb_str_unicode_normalize(int argc, VALUE *argv, VALUE str)
{
    return unicode_normalize_common(argc, argv, str, id_normalize);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-unicode_normalize-21">
            
              <b>str.unicode_normalize!(form=:nfc)
</b>
            
            <a href="../classes/String.html#method-i-unicode_normalize-21" name="method-i-unicode_normalize-21" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Destructive version of <a
href="String.html#method-i-unicode_normalize">#unicode_normalize</a>, doing
Unicode normalization in place.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-unicode_normalize-21_source')" id="l_method-i-unicode_normalize-21_source">show</a>
                
              </p>
              <div id="method-i-unicode_normalize-21_source" class="dyn-source">
                <pre>static VALUE
rb_str_unicode_normalize_bang(int argc, VALUE *argv, VALUE str)
{
    return rb_str_replace(str, unicode_normalize_common(argc, argv, str, id_normalize));
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-unicode_normalized-3F">
            
              <b>str.unicode_normalized?(form=:nfc)
</b>
            
            <a href="../classes/String.html#method-i-unicode_normalized-3F" name="method-i-unicode_normalized-3F" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Checks whether <code>str</code> is in Unicode normalization form
<code>form</code>, which can be any of the four values <code>:nfc</code>,
<code>:nfd</code>, <code>:nfkc</code>, or <code>:nfkd</code>. The default
is <code>:nfc</code>.</p>

<p>If the string is not in a Unicode <a href="Encoding.html">Encoding</a>,
then an <a href="Exception.html">Exception</a> is raised. For details, see
<a href="String.html#method-i-unicode_normalize">#unicode_normalize</a>.</p>

<pre><code>&quot;a\u0300&quot;.unicode_normalized?        #=&gt; false
&quot;a\u0300&quot;.unicode_normalized?(:nfd)  #=&gt; true
&quot;\u00E0&quot;.unicode_normalized?         #=&gt; true
&quot;\u00E0&quot;.unicode_normalized?(:nfd)   #=&gt; false
&quot;\xE0&quot;.force_encoding(&#39;ISO-8859-1&#39;).unicode_normalized?
                                     #=&gt; Encoding::CompatibilityError raised
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-unicode_normalized-3F_source')" id="l_method-i-unicode_normalized-3F_source">show</a>
                
              </p>
              <div id="method-i-unicode_normalized-3F_source" class="dyn-source">
                <pre>static VALUE
rb_str_unicode_normalized_p(int argc, VALUE *argv, VALUE str)
{
    return unicode_normalize_common(argc, argv, str, id_normalized_p);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-unpack">
            
              <b>str.unpack(format)    &rarr;  anArray
</b>
            
            <a href="../classes/String.html#method-i-unpack" name="method-i-unpack" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Decodes <em>str</em> (which may contain binary data) according to the
format string, returning an array of each value extracted. The format
string consists of a sequence of single-character directives, summarized in
the table at the end of this entry. Each directive may be followed by a
number, indicating the number of times to repeat with this directive. An
asterisk (“<code>*</code>&#39;&#39;) will use up all remaining elements.
The directives <code>sSiIlL</code> may each be followed by an underscore
(“<code>_</code>&#39;&#39;) or exclamation mark (“<code>!</code>&#39;&#39;)
to use the underlying platform&#39;s native size for the specified type;
otherwise, it uses a platform-independent consistent size. Spaces are
ignored in the format string. See also <code>String#unpack1</code>, 
<code>Array#pack</code>.</p>

<pre><code>&quot;abc \0\0abc \0\0&quot;.unpack(&#39;A6Z6&#39;)   #=&gt; [&quot;abc&quot;, &quot;abc &quot;]
&quot;abc \0\0&quot;.unpack(&#39;a3a3&#39;)           #=&gt; [&quot;abc&quot;, &quot; \000\000&quot;]
&quot;abc \0abc \0&quot;.unpack(&#39;Z*Z*&#39;)       #=&gt; [&quot;abc &quot;, &quot;abc &quot;]
&quot;aa&quot;.unpack(&#39;b8B8&#39;)                 #=&gt; [&quot;10000110&quot;, &quot;01100001&quot;]
&quot;aaa&quot;.unpack(&#39;h2H2c&#39;)               #=&gt; [&quot;16&quot;, &quot;61&quot;, 97]
&quot;\xfe\xff\xfe\xff&quot;.unpack(&#39;sS&#39;)     #=&gt; [-2, 65534]
&quot;now=20is&quot;.unpack(&#39;M*&#39;)             #=&gt; [&quot;now is&quot;]
&quot;whole&quot;.unpack(&#39;xax2aX2aX1aX2a&#39;)    #=&gt; [&quot;h&quot;, &quot;e&quot;, &quot;l&quot;, &quot;l&quot;, &quot;o&quot;]
</code></pre>

<p>This table summarizes the various formats and the Ruby classes returned by
each.</p>

<pre><code>Integer       |         |
Directive     | Returns | Meaning
------------------------------------------------------------------
C             | Integer | 8-bit unsigned (unsigned char)
S             | Integer | 16-bit unsigned, native endian (uint16_t)
L             | Integer | 32-bit unsigned, native endian (uint32_t)
Q             | Integer | 64-bit unsigned, native endian (uint64_t)
J             | Integer | pointer width unsigned, native endian (uintptr_t)
              |         |
c             | Integer | 8-bit signed (signed char)
s             | Integer | 16-bit signed, native endian (int16_t)
l             | Integer | 32-bit signed, native endian (int32_t)
q             | Integer | 64-bit signed, native endian (int64_t)
j             | Integer | pointer width signed, native endian (intptr_t)
              |         |
S_ S!         | Integer | unsigned short, native endian
I I_ I!       | Integer | unsigned int, native endian
L_ L!         | Integer | unsigned long, native endian
Q_ Q!         | Integer | unsigned long long, native endian (ArgumentError
              |         | if the platform has no long long type.)
J!            | Integer | uintptr_t, native endian (same with J)
              |         |
s_ s!         | Integer | signed short, native endian
i i_ i!       | Integer | signed int, native endian
l_ l!         | Integer | signed long, native endian
q_ q!         | Integer | signed long long, native endian (ArgumentError
              |         | if the platform has no long long type.)
j!            | Integer | intptr_t, native endian (same with j)
              |         |
S&gt; s&gt; S!&gt; s!&gt; | Integer | same as the directives without &quot;&gt;&quot; except
L&gt; l&gt; L!&gt; l!&gt; |         | big endian
I!&gt; i!&gt;       |         |
Q&gt; q&gt; Q!&gt; q!&gt; |         | &quot;S&gt;&quot; is same as &quot;n&quot;
J&gt; j&gt; J!&gt; j!&gt; |         | &quot;L&gt;&quot; is same as &quot;N&quot;
              |         |
S&lt; s&lt; S!&lt; s!&lt; | Integer | same as the directives without &quot;&lt;&quot; except
L&lt; l&lt; L!&lt; l!&lt; |         | little endian
I!&lt; i!&lt;       |         |
Q&lt; q&lt; Q!&lt; q!&lt; |         | &quot;S&lt;&quot; is same as &quot;v&quot;
J&lt; j&lt; J!&lt; j!&lt; |         | &quot;L&lt;&quot; is same as &quot;V&quot;
              |         |
n             | Integer | 16-bit unsigned, network (big-endian) byte order
N             | Integer | 32-bit unsigned, network (big-endian) byte order
v             | Integer | 16-bit unsigned, VAX (little-endian) byte order
V             | Integer | 32-bit unsigned, VAX (little-endian) byte order
              |         |
U             | Integer | UTF-8 character
w             | Integer | BER-compressed integer (see Array.pack)

Float        |         |
Directive    | Returns | Meaning
-----------------------------------------------------------------
D d          | Float   | double-precision, native format
F f          | Float   | single-precision, native format
E            | Float   | double-precision, little-endian byte order
e            | Float   | single-precision, little-endian byte order
G            | Float   | double-precision, network (big-endian) byte order
g            | Float   | single-precision, network (big-endian) byte order

String       |         |
Directive    | Returns | Meaning
-----------------------------------------------------------------
A            | String  | arbitrary binary string (remove trailing nulls and ASCII spaces)
a            | String  | arbitrary binary string
Z            | String  | null-terminated string
B            | String  | bit string (MSB first)
b            | String  | bit string (LSB first)
H            | String  | hex string (high nibble first)
h            | String  | hex string (low nibble first)
u            | String  | UU-encoded string
M            | String  | quoted-printable, MIME encoding (see RFC2045)
m            | String  | base64 encoded string (RFC 2045) (default)
             |         | base64 encoded string (RFC 4648) if followed by 0
P            | String  | pointer to a structure (fixed-length string)
p            | String  | pointer to a null-terminated string

Misc.        |         |
Directive    | Returns | Meaning
-----------------------------------------------------------------
@            | ---     | skip to the offset given by the length argument
X            | ---     | skip backward one byte
x            | ---     | skip forward one byte</code></pre>

<p>HISTORY</p>
<ul><li>
<p>J, J! j, and j! are available since Ruby 2.3.</p>
</li><li>
<p>Q_, Q!, q_, and q! are available since Ruby 2.1.</p>
</li><li>
<p>I!&lt;, i!&lt;, I!&gt;, and i!&gt; are available since Ruby 1.9.3.</p>
</li></ul>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-unpack_source')" id="l_method-i-unpack_source">show</a>
                
              </p>
              <div id="method-i-unpack_source" class="dyn-source">
                <pre>static VALUE
pack_unpack(VALUE str, VALUE fmt)
{
    int mode = rb_block_given_p() ? UNPACK_BLOCK : UNPACK_ARRAY;
    return pack_unpack_internal(str, fmt, mode);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-unpack1">
            
              <b>str.unpack1(format)    &rarr;  obj
</b>
            
            <a href="../classes/String.html#method-i-unpack1" name="method-i-unpack1" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Decodes <em>str</em> (which may contain binary data) according to the
format string, returning the first value extracted. See also
<code>String#unpack</code>, <code>Array#pack</code>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-unpack1_source')" id="l_method-i-unpack1_source">show</a>
                
              </p>
              <div id="method-i-unpack1_source" class="dyn-source">
                <pre>static VALUE
pack_unpack1(VALUE str, VALUE fmt)
{
    return pack_unpack_internal(str, fmt, UNPACK_1);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-upcase">
            
              <b>str.upcase              &rarr; new_str<br />str.upcase([options])   &rarr; new_str
</b>
            
            <a href="../classes/String.html#method-i-upcase" name="method-i-upcase" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns a copy of <em>str</em> with all lowercase letters replaced with
their uppercase counterparts.</p>

<p>See <a href="String.html#method-i-downcase">#downcase</a> for meaning of
<code>options</code> and use with different encodings.</p>

<pre><code>&quot;hEllO&quot;.upcase   #=&gt; &quot;HELLO&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-upcase_source')" id="l_method-i-upcase_source">show</a>
                
              </p>
              <div id="method-i-upcase_source" class="dyn-source">
                <pre>static VALUE
rb_str_upcase(int argc, VALUE *argv, VALUE str)
{
    str = rb_str_dup(str);
    rb_str_upcase_bang(argc, argv, str);
    return str;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-upcase-21">
            
              <b>str.upcase!              &rarr; str or nil<br />str.upcase!([options])   &rarr; str or nil
</b>
            
            <a href="../classes/String.html#method-i-upcase-21" name="method-i-upcase-21" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Upcases the contents of <em>str</em>, returning <code>nil</code> if no
changes were made.</p>

<p>See <a href="String.html#method-i-downcase">#downcase</a> for meaning of
<code>options</code> and use with different encodings.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-upcase-21_source')" id="l_method-i-upcase-21_source">show</a>
                
              </p>
              <div id="method-i-upcase-21_source" class="dyn-source">
                <pre>static VALUE
rb_str_upcase_bang(int argc, VALUE *argv, VALUE str)
{
    rb_encoding *enc;
    OnigCaseFoldType flags = ONIGENC_CASE_UPCASE;

    flags = check_case_options(argc, argv, flags);
    str_modify_keep_cr(str);
    enc = STR_ENC_GET(str);
    rb_str_check_dummy_enc(enc);
    if (((flags&amp;ONIGENC_CASE_ASCII_ONLY) &amp;&amp; (enc==rb_utf8_encoding() || rb_enc_mbmaxlen(enc)==1))
        || (!(flags&amp;ONIGENC_CASE_FOLD_TURKISH_AZERI) &amp;&amp; ENC_CODERANGE(str)==ENC_CODERANGE_7BIT)) {
        char *s = RSTRING_PTR(str), *send = RSTRING_END(str);

        while (s &lt; send) {
            unsigned int c = *(unsigned char*)s;

            if (rb_enc_isascii(c, enc) &amp;&amp; &#39;a&#39; &lt;= c &amp;&amp; c &lt;= &#39;z&#39;) {
                *s = &#39;A&#39; + (c - &#39;a&#39;);
                flags |= ONIGENC_CASE_MODIFIED;
            }
            s++;
        }
    }
    else if (flags&amp;ONIGENC_CASE_ASCII_ONLY)
        rb_str_ascii_casemap(str, &amp;flags, enc);
    else
        str_shared_replace(str, rb_str_casemap(str, &amp;flags, enc));

    if (ONIGENC_CASE_MODIFIED&amp;flags) return str;
    return Qnil;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-upto">
            
              <b>str.upto(other_str, exclusive=false) {|s| block }   &rarr; str<br />str.upto(other_str, exclusive=false)                &rarr; an_enumerator
</b>
            
            <a href="../classes/String.html#method-i-upto" name="method-i-upto" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Iterates through successive values, starting at <em>str</em> and ending at
<em>other_str</em> inclusive, passing each value in turn to the block. The
<code>String#succ</code> method is used to generate each value.  If
optional second argument exclusive is omitted or is false, the last value
will be included; otherwise it will be excluded.</p>

<p>If no block is given, an enumerator is returned instead.</p>

<pre><code>&quot;a8&quot;.upto(&quot;b6&quot;) {|s| print s, &#39; &#39; }
for s in &quot;a8&quot;..&quot;b6&quot;
  print s, &#39; &#39;
end
</code></pre>

<p><em>produces:</em></p>

<pre><code>a8 a9 b0 b1 b2 b3 b4 b5 b6
a8 a9 b0 b1 b2 b3 b4 b5 b6
</code></pre>

<p>If <em>str</em> and <em>other_str</em> contains only ascii numeric
characters, both are recognized as decimal numbers. In addition, the width
of string (e.g. leading zeros) is handled appropriately.</p>

<pre><code>&quot;9&quot;.upto(&quot;11&quot;).to_a   #=&gt; [&quot;9&quot;, &quot;10&quot;, &quot;11&quot;]
&quot;25&quot;.upto(&quot;5&quot;).to_a   #=&gt; []
&quot;07&quot;.upto(&quot;11&quot;).to_a  #=&gt; [&quot;07&quot;, &quot;08&quot;, &quot;09&quot;, &quot;10&quot;, &quot;11&quot;]
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-upto_source')" id="l_method-i-upto_source">show</a>
                
              </p>
              <div id="method-i-upto_source" class="dyn-source">
                <pre>static VALUE
rb_str_upto(int argc, VALUE *argv, VALUE beg)
{
    VALUE end, exclusive;

    rb_scan_args(argc, argv, &quot;11&quot;, &amp;end, &amp;exclusive);
    RETURN_ENUMERATOR(beg, argc, argv);
    return rb_str_upto_each(beg, end, RTEST(exclusive), str_upto_i, Qnil);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-valid_encoding-3F">
            
              <b>str.valid_encoding?  &rarr; true or false
</b>
            
            <a href="../classes/String.html#method-i-valid_encoding-3F" name="method-i-valid_encoding-3F" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Returns true for a string which is encoded correctly.</p>

<pre><code>&quot;\xc2\xa1&quot;.force_encoding(&quot;UTF-8&quot;).valid_encoding?  #=&gt; true
&quot;\xc2&quot;.force_encoding(&quot;UTF-8&quot;).valid_encoding?      #=&gt; false
&quot;\x80&quot;.force_encoding(&quot;UTF-8&quot;).valid_encoding?      #=&gt; false
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-valid_encoding-3F_source')" id="l_method-i-valid_encoding-3F_source">show</a>
                
              </p>
              <div id="method-i-valid_encoding-3F_source" class="dyn-source">
                <pre>static VALUE
rb_str_valid_encoding_p(VALUE str)
{
    int cr = rb_enc_str_coderange(str);

    return cr == ENC_CODERANGE_BROKEN ? Qfalse : Qtrue;
}</pre>
              </div>
            </div>
            
          </div>
                    </div>

    </div>
  </body>
</html>
