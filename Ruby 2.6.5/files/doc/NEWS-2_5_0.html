<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>NEWS-2.5.0</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="../../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../css/github.css" type="text/css" media="screen" />
<script src="../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>
    <div class="banner">
        
        <h1>
            NEWS-2.5.0
        </h1>
        <ul class="files">
            
            <li>
                doc/NEWS-2.5.0
                
            </li>
            <li>Last modified: 2019-10-01 13:01:01 +0200</li>
        </ul>
    </div>

    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<h1 id="label-NEWS+for+Ruby+2.5.0"><a href="../NEWS.html">NEWS</a> for Ruby 2.5.0</h1>

<p>This document is a list of user visible feature changes made between
releases except for bug fixes.</p>

<p>Note that each entry is kept so brief that no reason behind or reference
information is supplied with.  For a full list of changes with all
sufficient information, see the ChangeLog file or Redmine (e.g.
<code>https://bugs.ruby-lang.org/issues/$FEATURE_OR_BUG_NUMBER</code>)</p>

<h2 id="label-Changes+since+the+2.4.0+release">Changes since the 2.4.0 release</h2>

<h3 id="label-Language+changes">Language changes</h3>
<ul><li>
<p>Top-level constant look-up is removed.  [Feature #11547]</p>
</li><li>
<p>rescue/else/ensure are allowed inside do/end blocks.  [Feature #12906]</p>
</li><li>
<p>refinements take place in string interpolations.  [Feature #13812]</p>
</li></ul>

<h3 id="label-Core+classes+updates+-28outstanding+ones+only-29">Core classes updates (outstanding ones only)</h3>
<ul><li>
<p><a href="../../classes/Array.html">Array</a></p>
<ul><li>
<p>New methods:</p>
<ul><li>
<p><a href="../../classes/Array.html#method-i-append">Array#append</a> 
[Feature #12746]</p>
</li><li>
<p><a href="../../classes/Array.html#method-i-prepend">Array#prepend</a> 
[Feature #12746]</p>
</li></ul>
</li></ul>
</li><li>
<p><a href="../../classes/Data.html">Data</a></p>
<ul><li>
<p>Is deprecated. It was a base class for C extensions, and it&#39;s not
necessary to expose in Ruby level. [Feature #3072]</p>
</li></ul>
</li><li>
<p><a href="../../classes/Exception.html">Exception</a></p>
<ul><li>
<p>New methods:</p>
<ul><li>
<p><a
href="../../classes/Exception.html#method-i-full_message">Exception#full_message</a>
to retrieve a <a href="../../classes/String.html">String</a> expression of
an exception, formatted in the same way in which Ruby prints out an
uncaught exception.  [Feature #14141] [experimental]</p>
</li></ul>
</li></ul>
</li><li>
<p><a href="../../classes/Dir.html">Dir</a></p>
<ul><li>
<p><a href="../../classes/Dir.html#method-c-glob">Dir.glob</a> provides new
optional keyword argument, <code>:base</code> .  [Feature #13056]</p>
</li><li>
<p><a href="../../classes/Dir.html#method-c-chdir">Dir.chdir</a> (without
block arg), <a href="../../classes/Dir.html#method-c-open">Dir.open</a>, <a
href="../../classes/Dir.html#method-c-new">Dir.new</a>, <a
href="../../classes/Dir.html#method-c-mkdir">Dir.mkdir</a>, <a
href="../../classes/Dir.html#method-c-rmdir">Dir.rmdir</a>, <a
href="../../classes/Dir.html#method-c-empty-3F">Dir.empty?</a> releases GVL</p>
</li><li>
<p>New methods:</p>
<ul><li>
<p><a href="../../classes/Dir.html#method-c-children">Dir.children</a> 
[Feature #11302]</p>
</li><li>
<p><a href="../../classes/Dir.html#method-c-each_child">Dir.each_child</a> 
[Feature #11302]</p>
</li></ul>
</li></ul>
</li><li>
<p><a href="../../classes/Enumerable.html">Enumerable</a></p>
<ul><li>
<p><a
href="../../classes/Enumerable.html#method-i-any-3F">Enumerable#any?</a>,
<a
href="../../classes/Enumerable.html#method-i-all-3F">Enumerable#all?</a>,
<a
href="../../classes/Enumerable.html#method-i-none-3F">Enumerable#none?</a>
and <a
href="../../classes/Enumerable.html#method-i-one-3F">Enumerable#one?</a>
accept a pattern argument. [Feature #11286]</p>
</li></ul>
</li><li>
<p><a href="../../classes/File.html">File</a></p>
<ul><li>
<p><a href="../../classes/File.html#method-c-open">File.open</a> accepts
<code>:newline</code> option to imply text mode. [Bug #13350]</p>
</li><li>
<p><a href="../../classes/File.html#method-i-path">File#path</a> raises an <a
href="../../classes/IOError.html">IOError</a> for files opened with
File::Constants::TMPFILE option. [Feature #13568]</p>
</li><li>
<p><a href="../../classes/File.html#method-c-stat">File.stat</a>, <a
href="../../classes/File.html#method-c-exist-3F">File.exist?</a> and other
<code>rb_stat()</code>-using methods release GVL. [Bug #13941]</p>
</li><li>
<p><a href="../../classes/File.html#method-c-rename">File.rename</a> releases
GVL. [Feature #13951]</p>
</li><li>
<p><a href="../../classes/File/Stat.html#method-i-atime">File::Stat#atime</a>,
<a href="../../classes/File/Stat.html#method-i-mtime">File::Stat#mtime</a>
and <a
href="../../classes/File/Stat.html#method-i-ctime">File::Stat#ctime</a>
support fractional second timestamps on Windows 8 and later.  [Feature
#13726]</p>
</li><li>
<p><a href="../../classes/File/Stat.html#method-i-ino">File::Stat#ino</a> and
File.indentical? support ReFS 128bit ino on Windows 8.1 and later. 
[Feature #13731]</p>
</li><li>
<p><a href="../../classes/File.html#method-c-readable-3F">File.readable?</a>,
<a
href="../../classes/File.html#method-c-readable_real-3F">File.readable_real?</a>,
<a href="../../classes/File.html#method-c-writable-3F">File.writable?</a>,
<a
href="../../classes/File.html#method-c-writable_real-3F">File.writable_real?</a>,
<a
href="../../classes/File.html#method-c-executable-3F">File.executable?</a>,
<a
href="../../classes/File.html#method-c-executable_real-3F">File.executable_real?</a>,
<a href="../../classes/File.html#method-c-mkfifo">File.mkfifo</a>, <a
href="../../classes/File.html#method-c-readlink">File.readlink</a>, <a
href="../../classes/File.html#method-c-truncate">File.truncate</a>, <a
href="../../classes/File.html#method-i-truncate">File#truncate</a>, <a
href="../../classes/File.html#method-c-chmod">File.chmod</a>, <a
href="../../classes/File.html#method-c-lchmod">File.lchmod</a>, <a
href="../../classes/File.html#method-c-chown">File.chown</a>, <a
href="../../classes/File.html#method-c-lchown">File.lchown</a>, <a
href="../../classes/File.html#method-c-unlink">File.unlink</a>, <a
href="../../classes/File.html#method-c-utime">File.utime</a>, <a
href="../../classes/File.html#method-c-lstat">File.lstat</a> release GVL</p>
</li><li>
<p>New method:</p>
<ul><li>
<p><a href="../../classes/File.html#method-c-lutime">File.lutime</a>  [Feature
#4052]</p>
</li></ul>
</li></ul>
</li><li>
<p><a href="../../classes/Hash.html">Hash</a></p>
<ul><li>
<p>New methods:</p>
<ul><li>
<p><a
href="../../classes/Hash.html#method-i-transform_keys">Hash#transform_keys</a>
[Feature #13583]</p>
</li><li>
<p><a
href="../../classes/Hash.html#method-i-transform_keys-21">Hash#transform_keys!</a>
[Feature #13583]</p>
</li><li>
<p><a href="../../classes/Hash.html#method-i-slice">Hash#slice</a>  [Feature
#8499]</p>
</li></ul>
</li></ul>
</li><li>
<p><a href="../../classes/IO.html">IO</a></p>
<ul><li>
<p><a href="../../classes/IO.html#method-c-copy_stream">IO.copy_stream</a>
tries copy offload with copy_file_range(2) [Feature #13867]</p>
</li><li>
<p>New methods:</p>
<ul><li>
<p><a href="../../classes/IO.html#method-i-pread">IO#pread</a>  [Feature
#4532]</p>
</li><li>
<p><a href="../../classes/IO.html#method-i-pwrite">IO#pwrite</a>  [Feature
#4532]</p>
</li><li>
<p><a href="../../classes/IO.html#method-i-write">IO#write</a> accepts
multiple arguments  [Feature #9323]</p>
</li></ul>
</li></ul>
</li><li>
<p><a href="../../classes/IOError.html">IOError</a></p>
<ul><li>
<p><a href="../../classes/IO.html#method-i-close">IO#close</a> might raise an
error with message “stream closed”, but it is refined to “stream closed in
another thread”. The new message is more clear for user. [Bug #13405]</p>
</li></ul>
</li><li>
<p><a href="../../classes/Integer.html">Integer</a></p>
<ul><li>
<p><a href="../../classes/Integer.html#method-i-round">Integer#round</a>, <a
href="../../classes/Integer.html#method-i-floor">Integer#floor</a>, <a
href="../../classes/Integer.html#method-i-ceil">Integer#ceil</a> and <a
href="../../classes/Integer.html#method-i-truncate">Integer#truncate</a>
always return an <a href="../../classes/Integer.html">Integer</a>. [Bug
#13420]</p>
</li><li>
<p><a href="../../classes/Integer.html#method-i-pow">Integer#pow</a> accepts
modulo argument for calculating modular exponentiation.  [Feature #12508]
[Feature #11003]</p>
</li><li>
<p>New methods:</p>
<ul><li>
<p><a
href="../../classes/Integer.html#method-i-allbits-3F">Integer#allbits?</a>,
<a
href="../../classes/Integer.html#method-i-anybits-3F">Integer#anybits?</a>,
<a href="../../classes/Integer.html#method-i-nobits-3F">Integer#nobits?</a>
[Feature #12753]</p>
</li><li>
<p><a href="../../classes/Integer.html#method-c-sqrt">Integer.sqrt</a> 
[Feature #13219]</p>
</li></ul>
</li></ul>
</li><li>
<p><a href="../../classes/Kernel.html">Kernel</a></p>
<ul><li>
<p>Kernel#yield_self   [Feature #6721]</p>
</li><li>
<p>Kernel#pp  [Feature #14123]</p>
</li><li>
<p><a href="../../classes/Kernel.html#method-i-warn">Kernel#warn</a>(…,
uplevel:n)  [Feature #12882]</p>
</li></ul>
</li><li>
<p><a href="../../classes/Method.html">Method</a></p>
<ul><li>
<p>New methods:</p>
<ul><li>
<p><a href="../../classes/Method.html#method-i-3D-3D-3D">Method#===</a> that
invokes <a href="../../classes/Method.html#method-i-call">Method#call</a>,
as same as <a href="../../classes/Proc.html#method-i-3D-3D-3D">Proc#===</a>
[Feature #14142]</p>
</li></ul>
</li></ul>
</li><li>
<p><a href="../../classes/Module.html">Module</a></p>
<ul><li>
<p><a href="../../classes/Module.html#method-i-attr">Module#attr</a>, <a
href="../../classes/Module.html#method-i-attr_accessor">Module#attr_accessor</a>,
<a
href="../../classes/Module.html#method-i-attr_reader">Module#attr_reader</a>
and <a
href="../../classes/Module.html#method-i-attr_writer">Module#attr_writer</a>
become public. [Feature #14132]</p>
</li><li>
<p><a
href="../../classes/Module.html#method-i-define_method">Module#define_method</a>,
<a
href="../../classes/Module.html#method-i-alias_method">Module#alias_method</a>,
<a
href="../../classes/Module.html#method-i-undef_method">Module#undef_method</a>
and <a
href="../../classes/Module.html#method-i-remove_method">Module#remove_method</a>
become public. [Feature #14133]</p>
</li></ul>
</li><li>
<p><a href="../../classes/Numeric.html">Numeric</a></p>
<ul><li>
<p><a href="../../classes/Numeric.html#method-i-step">Numeric#step</a> no
longer hides errors from coerce method when given a step value which cannot
be compared with #&gt; to 0. [Feature #7688]</p>
</li><li>
<p>Numerical comparison operators (&lt;,&lt;=,&gt;=,&gt;) no longer hide
exceptions from coerce method internally. Return nil in coerce if the
coercion is impossible.  [Feature #7688]</p>
</li></ul>
</li><li>
<p><a href="../../classes/Process.html">Process</a></p>
<ul><li>
<p>Precision of <a
href="../../classes/Process.html#method-c-times">Process.times</a> is
improved if getrusage(2) exists. [Feature #11952]</p>
</li><li>
<p>New method:</p>
<ul><li>
<p><a
href="../../classes/Process.html#method-c-last_status">Process.last_status</a>
as an alias of $? [Feature #14043]</p>
</li></ul>
</li></ul>
</li><li>
<p><a href="../../classes/Range.html">Range</a></p>
<ul><li>
<p>Range#initialize no longer hides exceptions when comparing begin and end
with #&lt;=&gt; and raise a “bad value for range” <a
href="../../classes/ArgumentError.html">ArgumentError</a> but instead lets
the exception from the #&lt;=&gt; call go through. [Feature #7688]</p>
</li></ul>
</li><li>
<p><a href="../../classes/Regexp.html">Regexp</a></p>
<ul><li>
<p>Update to Onigmo 6.1.3-669ac9997619954c298da971fcfacccf36909d05.</p>
<ul><li>
<p>Support absence operator <a
href="https://github.com/k-takata/Onigmo/issues/82">github.com/k-takata/Onigmo/issues/82</a></p>
</li></ul>
</li><li>
<p>Support new 5 emoji-related Unicode character properties</p>
</li></ul>
</li><li>
<p><a
href="../../classes/RubyVM/InstructionSequence.html">RubyVM::InstructionSequence</a></p>
<ul><li>
<p>New method:</p>
<ul><li>
<p><a
href="../../classes/RubyVM/InstructionSequence.html#method-i-each_child">RubyVM::InstructionSequence#each_child</a></p>
</li><li>
<p><a
href="../../classes/RubyVM/InstructionSequence.html#method-i-trace_points">RubyVM::InstructionSequence#trace_points</a></p>
</li></ul>
</li></ul>
</li><li>
<p><a href="../../classes/String.html">String</a></p>
<ul><li>
<p><code>String#-@</code> deduplicates unfrozen strings.  Already-frozen
strings remain unchanged for compatibility.  [Feature #13077]</p>
</li><li>
<p><code>-&quot;literal&quot;</code> (<code>String#-@</code>) optimized to
return the same object (same as <code>&quot;literal&quot;.freeze</code> in
Ruby 2.1+) [Feature #13295]</p>
</li><li>
<p><a href="../../classes/String.html#method-i-casecmp">String#casecmp</a> and
<a href="../../classes/String.html#method-i-casecmp-3F">String#casecmp?</a>
return nil for non-string arguments instead of raising a <a
href="../../classes/TypeError.html">TypeError</a>. [Bug #13312]</p>
</li><li>
<p><a
href="../../classes/String.html#method-i-start_with-3F">String#start_with?</a>
accepts a regexp [Feature #13712]</p>
</li><li>
<p>New methods:</p>
<ul><li>
<p><a
href="../../classes/String.html#method-i-delete_prefix">String#delete_prefix</a>,
<a
href="../../classes/String.html#method-i-delete_prefix-21">String#delete_prefix!</a>
[Feature #12694]</p>
</li><li>
<p><a
href="../../classes/String.html#method-i-delete_suffix">String#delete_suffix</a>,
<a
href="../../classes/String.html#method-i-delete_suffix-21">String#delete_suffix!</a>
[Feature #13665]</p>
</li><li>
<p><a
href="../../classes/String.html#method-i-each_grapheme_cluster">String#each_grapheme_cluster</a>
and <a
href="../../classes/String.html#method-i-grapheme_clusters">String#grapheme_clusters</a>
to enumerate grapheme clusters [Feature #13780]</p>
</li><li>
<p><a href="../../classes/String.html#method-i-undump">String#undump</a> to
unescape <a
href="../../classes/String.html#method-i-dump">String#dump</a>&#39;ed
string [Feature #12275]</p>
</li></ul>
</li></ul>
</li><li>
<p><a href="../../classes/Struct.html">Struct</a></p>
<ul><li>
<p><a href="../../classes/Struct.html#method-c-new">Struct.new</a> takes
`keyword_init: true` option to initialize members with keyword arguments.
[Feature #11925]</p>
</li></ul>
</li><li>
<p>Regexp/String: Update Unicode version from 9.0.0 to 10.0.0 [Feature #13685]</p>
</li><li>
<p><a href="../../classes/Thread.html">Thread</a></p>
<ul><li>
<p>Description set by <a
href="../../classes/Thread.html#method-i-name-3D">Thread#name=</a> is now
visible on Windows 10.</p>
</li><li>
<p>New method:</p>
<ul><li>
<p><a href="../../classes/Thread.html#method-i-fetch">Thread#fetch</a> 
[Feature #13009]</p>
</li></ul>
</li><li>
<p>The default of <a
href="../../classes/Thread.html#method-c-report_on_exception">Thread.report_on_exception</a>
is now true, showing unhandled exceptions terminating threads on $stderr.
[Feature #14143]</p>
</li></ul>
</li><li>
<p><a href="../../classes/Time.html">Time</a></p>
<ul><li>
<p><a href="../../classes/Time.html#method-c-at">Time.at</a> receives 3rd
argument which specifies the unit of 2nd argument. [Feature #13919]</p>
</li></ul>
</li><li>
<p><a href="../../classes/KeyError.html">KeyError</a></p>
<ul><li>
<p>New methods:</p>
<ul><li>
<p><a
href="../../classes/KeyError.html#method-i-receiver">KeyError#receiver</a>
[Feature #12063]</p>
</li><li>
<p><a href="../../classes/KeyError.html#method-i-key">KeyError#key</a>     
[Feature #12063]</p>
</li></ul>
</li></ul>
</li><li>
<p><a href="../../classes/FrozenError.html">FrozenError</a></p>
<ul><li>
<p>New exception class. [Feature #13224]</p>
</li></ul>
</li></ul>

<h3 id="label-Stdlib+updates+-28outstanding+ones+only-29">Stdlib updates (outstanding ones only)</h3>
<ul><li>
<p><a href="../../classes/BigDecimal.html">BigDecimal</a></p>
<ul><li>
<p>Update to <a href="../../classes/BigDecimal.html">BigDecimal</a> 1.3.4</p>
</li><li>
<p>The following features are added:</p>
<ul><li>
<p>BigDecimal::VERSION</p>
</li></ul>
</li><li>
<p>The following features have been deprecated, and are planned to be removed
in the version 1.4.0:</p>
<ul><li>
<p><a href="../../classes/BigDecimal.html#method-c-new">BigDecimal.new</a></p>
</li><li>
<p>BigDecimal.ver</p>
</li></ul>
</li><li>
<p><a href="../../classes/BigDecimal.html#method-i-clone">BigDecimal#clone</a>
and dup now do not make a new instance, but returns the receiver itself.</p>
</li></ul>
</li><li>
<p><a href="../../classes/Coverage.html">Coverage</a></p>
<ul><li>
<p>Support branch coverage and method coverage measurement. [Feature #13901]
Branch coverage tells you which branches are executed, and which not. <a
href="../../classes/Method.html">Method</a> coverage tells you which
methods are invoked, and which not. By running a test suite with this new
feature, you can know which branches and methods are executed by a test,
and evaluate total coverage of a test suite more strictly.</p>

<p>You can specify the measuring target by an option to `Coverage.start`:</p>

<pre><code>Coverage.start(lines: true, branches: true, methods: true)
</code></pre>

<p>After some Ruby files are loaded, you can use `Coverage.result` to get the
coverage result:</p>

<pre><code>Coverage.result
#=&gt; { &quot;/path/to/file.rb&quot;=&gt;
#     { :lines =&gt; [1, 2, 0, nil, ...],
#       :branches =&gt;
#         { [:if, 0, 2, 1, 6, 4] =&gt;
#             { [:then, 1, 3, 2, 3, 8] =&gt; 0,
#               [:else, 2, 5, 2, 5, 8] =&gt; 2
#             }
#         },
#       :methods =&gt; {
#          [Object, :foo, 1, 0, 7, 3] =&gt; 2
#       }
#     }
#   }
</code></pre>

<p>The result type of line coverage is not changed; it is just an array that
contains numbers, which means the count that each line was executed, or
`nil`s, which means that the line is not relevant.</p>

<p>The result type of branch coverage is:</p>

<pre><code>{ (jump base) =&gt; { (jump target) =&gt; (counter) } }
</code></pre>

<p>where jump base and targets have the format</p>

<pre><code>[type, unique-id, start lineno, start column, end lineno, end column]</code></pre>

<p>For example, `[:if, 0, 2, 1, 6, 4]` reads an `if` statement that ranges
from line 2 and column 1, to line 6 and column 4.  `[:then, 1, 3, 2, 3, 8]`
reads a `then` clause that ranges from line 3 and column 2, to line 3 and
column 8. Note that lineno starts from 1, and that columnno starts from 0. 
So, the above example shows a branch from the `if` to the `then` was never
executed, and a branch from the `if` to the `else` was executed twice.</p>

<p>The result type of method coverage is:</p>

<pre><code>{ (method key) =&gt; (counter) }
</code></pre>

<p>where method key has the format</p>

<pre><code>[class, method-name, start lineno, start column, end lineno, end column]</code></pre>

<p>For example, `[Object, :foo, 1, 0, 7, 3]` reads `Object#foo` that ranges
from line 1 and column 0, to line 7 and column 3.  The above example shows
this `Object#foo` was invoked twice.</p>

<p>Note: To keep compatibility, passing no option to `Coverage.start` will
measure only line coverage, and `Coverage.result` will return the old
format:</p>

<pre><code>Coverage.result
#=&gt; { &quot;/path/to/file.rb&quot;=&gt; [1, 2, 0, nil, ...] }
</code></pre>
</li></ul>
</li><li>
<p><a href="../../classes/DRb.html">DRb</a></p>
<ul><li>
<p><a
href="../../classes/ACL/ACLEntry.html#method-c-new">ACL::ACLEntry.new</a>
no longer suppresses <a
href="../../classes/IPAddr/InvalidPrefixError.html">IPAddr::InvalidPrefixError</a>.</p>
</li></ul>
</li><li>
<p><a href="../../classes/ERB.html">ERB</a></p>
<ul><li>
<p>Add <a
href="../../classes/ERB.html#method-i-result_with_hash">ERB#result_with_hash</a>
to render a template with local variables passed with a <a
href="../../classes/Hash.html">Hash</a> object. [Feature #8631]</p>
</li><li>
<p>Default template file encoding is changed from ASCII-8BIT to UTF-8 in erb
command. [Bug #14095]</p>
</li><li>
<p>Carriage returns are changed to be trimmed properly if trim_mode is
specified and used. Duplicated newlines will be removed on Windows. [Bug
#5339] [Bug #11464]</p>
</li></ul>
</li><li>
<p><a href="../../classes/IPAddr.html">IPAddr</a></p>
<ul><li>
<p><a href="../../classes/IPAddr.html">IPAddr</a> no longer accepts invalid
address mask. [Bug #13399]</p>
</li><li>
<p><a
href="../../classes/IPAddr.html#method-i-ipv4_compat">IPAddr#ipv4_compat</a>
and <a
href="../../classes/IPAddr.html#method-i-ipv4_compat-3F">IPAddr#ipv4_compat?</a>
are marked for deprecation. [Bug #13769]</p>
</li><li>
<p>New methods:</p>
<ul><li>
<p><a href="../../classes/IPAddr.html#method-i-prefix">IPAddr#prefix</a></p>
</li><li>
<p><a
href="../../classes/IPAddr.html#method-i-loopback-3F">IPAddr#loopback?</a></p>
</li><li>
<p><a href="../../classes/IPAddr.html#method-i-private-3F">IPAddr#private?</a>
[Feature #11666]</p>
</li><li>
<p><a
href="../../classes/IPAddr.html#method-i-link_local-3F">IPAddr#link_local?</a>
[Feature #10912]</p>
</li></ul>
</li></ul>
</li><li>
<p>IRB</p>
<ul><li>
<p>Print backtrace and error message in reverse order [Feature #8661]
[experimental]</p>
</li><li>
<p>`binding.irb` automatically requires irb and runs [Bug #13099]
[experimental]</p>
</li><li>
<p>`binding.irb` on its start shows source around the line where it was called
[Feature #14124]</p>
</li></ul>
</li><li>
<p><a href="../../classes/Matrix.html">Matrix</a></p>
<ul><li>
<p>New methods:</p>
<ul><li>
<p><a href="../../classes/Matrix.html#method-c-combine">Matrix.combine</a> and
<a href="../../classes/Matrix.html#method-i-combine">Matrix#combine</a>
[Feature #10903]</p>
</li><li>
<p>Matrix#hadamard_product and Matrix#entrywise_product</p>
</li></ul>
</li></ul>
</li><li>
<p><a href="../../classes/Net/HTTP.html">Net::HTTP</a></p>
<ul><li>
<p><a href="../../classes/Net/HTTP.html#method-c-new">Net::HTTP.new</a>
supports no_proxy parameter [Feature #11195]</p>
</li><li>
<p><a
href="../../classes/Net/HTTP.html#attribute-i-min_version">Net::HTTP#min_version</a>
and <a
href="../../classes/Net/HTTP.html#attribute-i-max_version">Net::HTTP#max_version</a>
[Feature #9450]</p>
</li><li>
<p>Add more HTTP status classes</p>
</li><li>
<p>Net::HTTP::STATUS_CODES is added as HTTP Status Code Repository [Misc
#12935]</p>
</li><li>
<p><a
href="../../classes/Net/HTTP.html#method-i-proxy_user">Net::HTTP#proxy_user</a>
and <a
href="../../classes/Net/HTTP.html#method-i-proxy_pass">Net::HTTP#proxy_pass</a>
reflect http_proxy environment variable if the system&#39;s environment
variable is multiuser safe. [Bug #12921]</p>
</li></ul>
</li><li>
<p>open-uri</p>
<ul><li>
<p>URI.open method defined as an alias to open-uri&#39;s <a
href="../../classes/Kernel.html#method-c-open">Kernel.open</a>.
open-uri&#39;s <a
href="../../classes/Kernel.html#method-c-open">Kernel.open</a> will be
deprecated in future.</p>
</li></ul>
</li><li>
<p><a href="../../classes/OpenSSL.html">OpenSSL</a></p>
<ul><li>
<p>Updated Ruby/OpenSSL from version 2.0 to 2.1. Changes are noted in “Version
2.1.0” section in ext/openssl/History.md.</p>
</li></ul>
</li><li>
<p><a href="../../classes/Pathname.html">Pathname</a></p>
<ul><li>
<p>New method:</p>
<ul><li>
<p><a href="../../classes/Pathname.html#method-i-glob">Pathname#glob</a>
[Feature #7360]</p>
</li></ul>
</li></ul>
</li><li>
<p><a href="../../classes/Psych.html">Psych</a></p>
<ul><li>
<p>Update to <a href="../../classes/Psych.html">Psych</a> 3.0.2.</p>
<ul><li>
<p>Convert fallback option to a keyword argument <a
href="https://github.com/ruby/psych/pull/342">github.com/ruby/psych/pull/342</a></p>
</li><li>
<p>Add :symbolize_names option to <a
href="../../classes/Psych.html#method-c-load">Psych.load</a>, <a
href="../../classes/Psych.html#method-c-safe_load">Psych.safe_load</a> like
<a href="../../classes/JSON.html#method-i-parse">JSON#parse</a> <a
href="https://github.com/ruby/psych/pull/333">github.com/ruby/psych/pull/333</a>,
<a
href="https://github.com/ruby/psych/pull/337">github.com/ruby/psych/pull/337</a></p>
</li><li>
<p>Add <a
href="../../classes/Psych/Handler.html#method-i-event_location">Psych::Handler#event_location</a>
<a
href="https://github.com/ruby/psych/pull/326">github.com/ruby/psych/pull/326</a></p>
</li><li>
<p>Make frozen string literal = true <a
href="https://github.com/ruby/psych/pull/320">github.com/ruby/psych/pull/320</a></p>
</li><li>
<p>Preserve time zone offset when deserializing times <a
href="https://github.com/ruby/psych/pull/316">github.com/ruby/psych/pull/316</a></p>
</li><li>
<p>Remove deprecated method aliases for syck gem <a
href="https://github.com/ruby/psych/pull/312">github.com/ruby/psych/pull/312</a></p>
</li></ul>
</li></ul>
</li><li>
<p>RbConfig</p>
<ul><li>
<p>RbConfig::LIMITS is added to provide the limits of C types. This is
available when rbconfig/sizeof is loaded.</p>
</li></ul>
</li><li>
<p><a href="../../classes/Ripper.html">Ripper</a></p>
<ul><li>
<p>Ripper::EXPR_BEG and so on for <a
href="../../classes/Ripper.html#method-i-state">Ripper#state</a>.</p>
</li><li>
<p>New method:</p>
<ul><li>
<p><a href="../../classes/Ripper.html#method-i-state">Ripper#state</a> to tell
the state of scanner. [Feature #13686]</p>
</li></ul>
</li></ul>
</li><li>
<p><a href="../../classes/RDoc.html">RDoc</a></p>
<ul><li>
<p>Update to <a href="../../classes/RDoc.html">RDoc</a> 6.0.1.</p>
<ul><li>
<p>Replace IRB based lexer with <a
href="../../classes/Ripper.html">Ripper</a>.</p>
<ul><li>
<p><a
href="https://github.com/ruby/rdoc/pull/512">github.com/ruby/rdoc/pull/512</a></p>
</li><li>
<p>This much improves the speed of generating documents.</p>
</li><li>
<p>It also facilitates supporting new syntax in the future.</p>
</li></ul>
</li><li>
<p>Support many new syntaxes of Ruby from the past few years.</p>
</li><li>
<p>Use “frozen_string_literal: true”. Performance survey: <a
href="https://gist.github.com/aycabta/abdfaa75ea8a6877eeb734e942e73800">gist.github.com/aycabta/abdfaa75ea8a6877eeb734e942e73800</a></p>
</li><li>
<p>Support did_you_mean.</p>
</li></ul>
</li></ul>
</li><li>
<p>Rubygems</p>
<ul><li>
<p>Update to Rubygems 2.7.3.</p>
<ul><li>
<p><a
href="http://blog.rubygems.org/2017/11/28/2.7.3-released.html">blog.rubygems.org/2017/11/28/2.7.3-released.html</a></p>
</li><li>
<p><a
href="http://blog.rubygems.org/2017/11/08/2.7.2-released.html">blog.rubygems.org/2017/11/08/2.7.2-released.html</a></p>
</li><li>
<p><a
href="http://blog.rubygems.org/2017/11/03/2.7.1-released.html">blog.rubygems.org/2017/11/03/2.7.1-released.html</a></p>
</li><li>
<p><a
href="http://blog.rubygems.org/2017/11/01/2.7.0-released.html">blog.rubygems.org/2017/11/01/2.7.0-released.html</a></p>
</li><li>
<p><a
href="http://blog.rubygems.org/2017/10/09/2.6.14-released.html">blog.rubygems.org/2017/10/09/2.6.14-released.html</a></p>
</li><li>
<p><a
href="http://blog.rubygems.org/2017/08/27/2.6.13-released.html">blog.rubygems.org/2017/08/27/2.6.13-released.html</a></p>
</li></ul>
</li></ul>
</li><li>
<p><a href="../../classes/SecureRandom.html">SecureRandom</a></p>
<ul><li>
<p>New method:</p>
<ul><li>
<p>SecureRandom.alphanumeric</p>
</li></ul>
</li></ul>
</li><li>
<p><a href="../../classes/Set.html">Set</a></p>
<ul><li>
<p>New methods:</p>
<ul><li>
<p><a href="../../classes/Set.html#method-i-to_s">Set#to_s</a> as alias to
inspect [Feature #13676]</p>
</li><li>
<p><a href="../../classes/Set.html#method-i-3D-3D-3D">Set#===</a> as alias to
include? [Feature #13801]</p>
</li><li>
<p><a href="../../classes/Set.html#method-i-reset">Set#reset</a> [Feature
#6589]</p>
</li></ul>
</li></ul>
</li><li>
<p><a href="../../classes/StringIO.html">StringIO</a></p>
<ul><li>
<p><a href="../../classes/StringIO.html#method-i-write">StringIO#write</a>
accepts multiple arguments</p>
</li></ul>
</li><li>
<p><a href="../../classes/StringScanner.html">StringScanner</a></p>
<ul><li>
<p>New methods:</p>
<ul><li>
<p><a
href="../../classes/StringScanner.html#method-i-size">StringScanner#size</a>,
<a
href="../../classes/StringScanner.html#method-i-captures">StringScanner#captures</a>,
<a
href="../../classes/StringScanner.html#method-i-values_at">StringScanner#values_at</a>
[Feature #836]</p>
</li></ul>
</li></ul>
</li><li>
<p><a href="../../classes/URI.html">URI</a></p>
<ul><li>
<p>Relative path operations no longer collapse consecutive slashes to a single
slash. [Bug #8352]</p>
</li></ul>
</li><li>
<p><a href="../../classes/WEBrick.html">WEBrick</a></p>
<ul><li>
<p>Add Server Name Indication (SNI) support [Feature #13729]</p>
</li><li>
<p>support <a href="../../classes/Proc.html">Proc</a> objects as body
responses [Feature #855]</p>
</li><li>
<p>released as a RubyGem [Feature #13173]</p>
</li><li>
<p>avoid unintended behavior from Kernel#open [Misc #14216]</p>
</li></ul>
</li><li>
<p><a href="../../classes/Zlib.html">Zlib</a></p>
<ul><li>
<p><a
href="../../classes/Zlib/GzipWriter.html#method-i-write">Zlib::GzipWriter#write</a>
accepts multiple arguments</p>
</li></ul>
</li></ul>

<h3 id="label-Compatibility+issues+-28excluding+feature+bug+fixes-29">Compatibility issues (excluding feature bug fixes)</h3>
<ul><li>
<p><a href="../../classes/Socket.html">Socket</a></p>
<ul><li>
<p><a href="../../classes/IO.html#method-i-read_nonblock">IO#read_nonblock</a>
and <a
href="../../classes/IO.html#method-i-write_nonblock">IO#write_nonblock</a>
no longer set the O_NONBLOCK file description flag as side effect (on Linux
only) [Feature #13362]</p>
</li></ul>
</li><li>
<p><a href="../../classes/Random.html">Random</a></p>
<ul><li>
<p>Random.raw_seed renamed to become <a
href="../../classes/Random.html#method-c-urandom">Random.urandom</a>.  It
is now applicable to non-seeding purposes due to [Bug #9569].</p>
</li></ul>
</li><li>
<p><a href="../../classes/Socket.html">Socket</a></p>
<ul><li>
<p><a
href="../../classes/Socket/Ifaddr.html#method-i-vhid">Socket::Ifaddr#vhid</a>
is added [Feature #13803]</p>
</li></ul>
</li><li>
<p><a href="../../classes/ConditionVariable.html">ConditionVariable</a>, <a
href="../../classes/Queue.html">Queue</a> and <a
href="../../classes/SizedQueue.html">SizedQueue</a> reimplemented for
speed. They no longer subclass <a
href="../../classes/Struct.html">Struct</a>. [Feature #13552]</p>
</li></ul>

<h3 id="label-Stdlib+compatibility+issues+-28excluding+feature+bug+fixes-29">Stdlib compatibility issues (excluding feature bug fixes)</h3>
<ul><li>
<p>Gemification</p>
<ul><li>
<p>Promote following standard libraries to default gems.</p>
<ul><li>
<p>cmath</p>
</li><li>
<p>csv</p>
</li><li>
<p>date</p>
</li><li>
<p>dbm</p>
</li><li>
<p>etc</p>
</li><li>
<p>fcntl</p>
</li><li>
<p>fiddle</p>
</li><li>
<p>fileutils</p>
</li><li>
<p>gdbm</p>
</li><li>
<p>ipaddr</p>
</li><li>
<p>scanf</p>
</li><li>
<p>sdbm</p>
</li><li>
<p>stringio</p>
</li><li>
<p>strscan</p>
</li><li>
<p>webrick</p>
</li><li>
<p>zlib</p>
</li></ul>
</li></ul>
</li><li>
<p><a href="../../classes/Logger.html">Logger</a></p>
<ul><li>
<p><a href="../../classes/Logger.html#method-c-new">Logger.new</a>(“|
command”) had been working to open a command unintentionally. It was
prohibited, and now Logger#initialize treats a <a
href="../../classes/String.html">String</a> argument only as a filename, as
its specification. [Bug #14212]</p>
</li></ul>
</li><li>
<p><a href="../../classes/Net/HTTP.html">Net::HTTP</a></p>
<ul><li>
<p><a href="../../classes/Net/HTTP.html#method-i-start">Net::HTTP#start</a>
now passes :ENV to p_addr by default. [Bug #13351] To avoid this, pass nil
explicitly.</p>
</li></ul>
</li><li>
<p>mathn.rb</p>
<ul><li>
<p>Removed from stdlib. [Feature #10169]</p>
</li></ul>
</li><li>
<p>Rubygems</p>
<ul><li>
<p>Removed “ubygems.rb” file from stdlib. It&#39;s needless since Ruby 1.9.</p>
</li></ul>
</li></ul>

<h3 id="label-C+API+updates">C API updates</h3>

<h3 id="label-Supported+platform+changes">Supported platform changes</h3>
<ul><li>
<p>Drop support of NaCl platform</p>
<ul><li>
<p><a
href="https://bugs.chromium.org/p/chromium/issues/detail?id=239656#c160">bugs.chromium.org/p/chromium/issues/detail?id=239656#c160</a></p>
</li></ul>
</li></ul>

<h3 id="label-Implementation+improvements">Implementation improvements</h3>
<ul><li>
<p>(This might not be a “user visible feature change” but) <a
href="../../classes/Hash.html">Hash</a> class&#39;s hash function is now
SipHash13. [Feature #13017]</p>
</li><li>
<p><a href="../../classes/SecureRandom.html">SecureRandom</a> now prefers
OS-provided sources than <a href="../../classes/OpenSSL.html">OpenSSL</a>.
[Bug #9569]</p>
</li><li>
<p><a href="../../classes/Mutex.html">Mutex</a> rewritten to be smaller and
faster [Feature #13517]</p>
</li><li>
<p>Performance of block passing using block parameters is improved by lazy <a
href="../../classes/Proc.html">Proc</a> allocation [Feature #14045]</p>
</li><li>
<p>Dynamic instrumentation for <a
href="../../classes/TracePoint.html">TracePoint</a> hooks instead of using
“trace” instruction to avoid overhead [Feature #14104]</p>
</li><li>
<p><a href="../../classes/ERB.html">ERB</a> now generates code from a template
twice as fast as Ruby 2.4</p>
</li></ul>

<h3 id="label-Miscellaneous+changes">Miscellaneous changes</h3>
<ul><li>
<p>Print backtrace and error message in reverse order if $stderr is unchanged
and a tty. [Feature #8661] [experimental]</p>
</li><li>
<p>Print error message in bold/underlined text if $stderr is unchanged and a
tty. [Feature #14140] [experimental]</p>
</li><li>
<p>configure option –with-ext now mandates its arguments.  So for instance if
you run ./configure –with-ext=openssl,+ then the openssl library is
guaranteed compiled, otherwise the build fails abnormally.</p>

<p>Note however to always add the “,+” at the end of the argument. Otherwise
nothing but openssl are built.  [Feature #13302]</p>
</li></ul>

    </div>
  


  


  
  


  


  

  



  

    

    

    


    


    <!-- Methods -->
              </div>

    </div>
  </body>
</html>
