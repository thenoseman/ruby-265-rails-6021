<!DOCTYPE html>
<html lang="en">
<head>
    <title>CHANGELOG.md</title>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="../../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../css/github.css" type="text/css" media="screen" />
<script src="../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>
    <div class="banner">
        
        <h1>
            CHANGELOG.md
        </h1>
        <ul class="files">
            
            <li>
                activemodel/CHANGELOG.md
                
                    <a href="https://github.com/rails/rails/blob/f33d52c95217212cbacc8d5e44b5a8e3cdc6f5b3/activemodel/CHANGELOG.md" target="_blank" class="github_url">on GitHub</a>
                
            </li>
            <li>Last modified: 2019-12-31 20:53:00 +0100</li>
        </ul>
    </div>

    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<h2 id="label-Rails+6.0.2.1+-28December+18-2C+2019-29"><a href="../../classes/Rails.html"><code>Rails</code></a> 6.0.2.1 (December 18, 2019)</h2>
<ul><li>
<p>No changes.</p>
</li></ul>

<h2 id="label-Rails+6.0.2+-28December+13-2C+2019-29"><a href="../../classes/Rails.html"><code>Rails</code></a> 6.0.2 (December 13, 2019)</h2>
<ul><li>
<p>No changes.</p>
</li></ul>

<h2 id="label-Rails+6.0.1+-28November+5-2C+2019-29"><a href="../../classes/Rails.html"><code>Rails</code></a> 6.0.1 (November 5, 2019)</h2>
<ul><li>
<p>No changes.</p>
</li></ul>

<h2 id="label-Rails+6.0.0+-28August+16-2C+2019-29"><a href="../../classes/Rails.html"><code>Rails</code></a> 6.0.0 (August 16, 2019)</h2>
<ul><li>
<p>No changes.</p>
</li></ul>

<h2 id="label-Rails+6.0.0.rc2+-28July+22-2C+2019-29"><a href="../../classes/Rails.html"><code>Rails</code></a> 6.0.0.rc2 (July 22, 2019)</h2>
<ul><li>
<p>No changes.</p>
</li></ul>

<h2 id="label-Rails+6.0.0.rc1+-28April+24-2C+2019-29"><a href="../../classes/Rails.html"><code>Rails</code></a> 6.0.0.rc1 (April 24, 2019)</h2>
<ul><li>
<p>Type cast falsy boolean symbols on boolean attribute as false.</p>

<p>Fixes #35676.</p>

<p><em>Ryuta Kamizono</em></p>
</li><li>
<p>Change how validation error translation strings are fetched: The new behavior will first try the more specific keys, including doing locale fallback, then try the less specific ones.</p>

<p>For example, this is the order in which keys will now be tried for a <code>blank</code> error on a <code>product</code>&#39;s <code>title</code> attribute with current locale set to <code>en-US</code>:</p>

<pre><code>en-US.activerecord.errors.models.product.attributes.title.blank
en-US.activerecord.errors.models.product.blank
en-US.activerecord.errors.messages.blank

en.activerecord.errors.models.product.attributes.title.blank
en.activerecord.errors.models.product.blank
en.activerecord.errors.messages.blank

en-US.errors.attributes.title.blank
en-US.errors.messages.blank

en.errors.attributes.title.blank
en.errors.messages.blank
</code></pre>

<p><em>Hugo Vacher</em></p>
</li></ul>

<h2 id="label-Rails+6.0.0.beta3+-28March+11-2C+2019-29"><a href="../../classes/Rails.html"><code>Rails</code></a> 6.0.0.beta3 (March 11, 2019)</h2>
<ul><li>
<p>No changes.</p>
</li></ul>

<h2 id="label-Rails+6.0.0.beta2+-28February+25-2C+2019-29"><a href="../../classes/Rails.html"><code>Rails</code></a> 6.0.0.beta2 (February 25, 2019)</h2>
<ul><li>
<p>Fix date value when casting a multiparameter date hash to not convert from Gregorian date to Julian date.</p>

<p>Before:</p>

<pre><code>Day.new({&quot;day(1i)&quot;=&gt;&quot;1&quot;, &quot;day(2i)&quot;=&gt;&quot;1&quot;, &quot;day(3i)&quot;=&gt;&quot;1&quot;})
# =&gt; #&lt;Day id: nil, day: &quot;0001-01-03&quot;, created_at: nil, updated_at: nil&gt;
</code></pre>

<p>After:</p>

<pre><code>Day.new({&quot;day(1i)&quot;=&gt;&quot;1&quot;, &quot;day(2i)&quot;=&gt;&quot;1&quot;, &quot;day(3i)&quot;=&gt;&quot;1&quot;})
# =&gt; #&lt;Day id: nil, day: &quot;0001-01-01&quot;, created_at: nil, updated_at: nil&gt;
</code></pre>

<p>Fixes #28521.</p>

<p><em>Sayan Chakraborty</em></p>
</li><li>
<p>Fix year value when casting a multiparameter time hash.</p>

<p>When assigning a hash to a time attribute that&#39;s missing a year component (e.g. a <code>time_select</code> with <code>:ignore_date</code> set to <code>true</code>) then the year defaults to 1970 instead of the expected 2000. This results in the attribute changing as a result of the save.</p>

<p>Before: <code> event = Event.new(start_time: { 4 =&gt; 20, 5 =&gt; 30 }) event.start_time # =&gt; 1970-01-01 20:30:00 UTC event.save event.reload event.start_time # =&gt; 2000-01-01 20:30:00 UTC </code></p>

<p>After: <code> event = Event.new(start_time: { 4 =&gt; 20, 5 =&gt; 30 }) event.start_time # =&gt; 2000-01-01 20:30:00 UTC event.save event.reload event.start_time # =&gt; 2000-01-01 20:30:00 UTC </code></p>

<p><em>Andrew White</em></p>
</li></ul>

<h2 id="label-Rails+6.0.0.beta1+-28January+18-2C+2019-29"><a href="../../classes/Rails.html"><code>Rails</code></a> 6.0.0.beta1 (January 18, 2019)</h2>
<ul><li>
<p>Internal calls to <code>human_attribute_name</code> on an <code>Active Model</code> now pass attributes as strings instead of symbols in some cases.</p>

<p>This is in line with examples in <a href="../../classes/Rails.html"><code>Rails</code></a> docs and puts the code in line with the intention - the potential use of strings or symbols.</p>

<p>It is recommended to cast the attribute input to your desired type as if you you are overriding that methid.</p>

<p><em>Martin Larochelle</em></p>
</li><li>
<p>Add <code>ActiveModel::Errors#of_kind?</code>.</p>

<p><em>bogdanvlviv</em>, <em>Rafael Mendonça França</em></p>
</li><li>
<p>Fix numericality equality validation of <code>BigDecimal</code> and <code>Float</code> by casting to <code>BigDecimal</code> on both ends of the validation.</p>

<p><em>Gannon McGibbon</em></p>
</li><li>
<p>Add <code>#slice!</code> method to <code>ActiveModel::Errors</code>.</p>

<p><em>Daniel López Prat</em></p>
</li><li>
<p>Fix numericality validator to still use value before type cast except Active Record.</p>

<p>Fixes #33651, #33686.</p>

<p><em>Ryuta Kamizono</em></p>
</li><li>
<p>Fix <code>ActiveModel::Serializers::JSON#as_json</code> method for timestamps.</p>

<p>Before: <code> contact = Contact.new(created_at: Time.utc(2006, 8, 1)) contact.as_json["created_at"] # =&gt; 2006-08-01 00:00:00 UTC </code></p>

<p>After: <code> contact = Contact.new(created_at: Time.utc(2006, 8, 1)) contact.as_json["created_at"] # =&gt; &quot;2006-08-01T00:00:00.000Z&quot; </code></p>

<p><em>Bogdan Gusiev</em></p>
</li><li>
<p>Allows configurable attribute name for <code>#has_secure_password</code>. This still defaults to an attribute named &#39;password&#39;, causing no breaking change. There is a new method <code>#authenticate_XXX</code> where XXX is the configured attribute name, making the existing <code>#authenticate</code> now an alias for this when the attribute is the default &#39;password&#39;.</p>

<p>Example:</p>

<pre><code>class User &lt; ActiveRecord::Base
  has_secure_password :recovery_password, validations: false
end

user = User.new()
user.recovery_password = &quot;42password&quot;
user.recovery_password_digest # =&gt; &quot;$2a$04$iOfhwahFymCs5weB3BNH/uX...&quot;
user.authenticate_recovery_password(&#39;42password&#39;) # =&gt; user
</code></pre>

<p><em>Unathi Chonco</em></p>
</li><li>
<p>Add <code>config.active_model.i18n_customize_full_message</code> in order to control whether the <code>full_message</code> error format can be overridden at the attribute or model level in the locale files. This is <code>false</code> by default.</p>

<p><em>Martin Larochelle</em></p>
</li><li>
<p><a href="../../classes/Rails.html"><code>Rails</code></a> 6 requires Ruby 2.5.0 or newer.</p>

<p><em>Jeremy Daer</em>, <em>Kasper Timm Hansen</em></p>
</li></ul>

<p>Please check <a href="https://github.com/rails/rails/blob/5-2-stable/activemodel/CHANGELOG.md">5-2-stable</a> for previous changes.</p>

    </div>
  


  


  
  


  


  

  



  

    

    

    


    


    <!-- Methods -->
    
    
    
  
</div>

    </div>
  </body>
</html>
