<!DOCTYPE html>
<html lang="en">
<head>
    <title>ActiveRecord::Tasks::DatabaseTasks</title>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="../../../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../../css/github.css" type="text/css" media="screen" />
<script src="../../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>


    <meta property="og:title" value="ActiveRecord::Tasks::DatabaseTasks">

  
    
    <meta name="description" content="ActiveRecord::Tasks::DatabaseTasks is a utility class, which encapsulates logic behind common tasks used to manage database and migrations.">
    <meta property="og:description" content="ActiveRecord::Tasks::DatabaseTasks is a utility class, which encapsulates logic behind common tasks used to manage database and migrations.">
  

    <meta name="keywords" content="ActiveRecord::Tasks::DatabaseTasks class">
  
    <meta name="keywords" content="structure_dump_flags, structure_load_flags, check_protected_environments!, register_task, db_dir, migrations_paths, fixtures_path, root, env, spec, seed_loader, current_config, create, create_all, setup_initial_database_yaml, for_each, raise_for_multi_db, create_current, drop, drop_all, drop_current, truncate_all, migrate, migrate_status, check_target_version, target_version, charset_current, charset, collation_current, collation, purge, purge_all, purge_current, structure_dump, structure_load, schema_up_to_date?, schema_file, schema_file_type, dump_filename, cache_dump_filename, load_schema_current, check_schema_file, load_seed, dump_schema_cache">
  
</head>

<body>
    <div class="banner">
        
        <h1>
            <span class="type">Module</span>
            ActiveRecord::Tasks::DatabaseTasks
            
        </h1>
        <ul class="files">
            
            <li><a href="../../../files/activerecord/lib/active_record/tasks/database_tasks_rb.html">activerecord/lib/active_record/tasks/database_tasks.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<p><a href="DatabaseTasks.html"><code>ActiveRecord::Tasks::DatabaseTasks</code></a> is a utility class, which encapsulates logic behind common tasks used to manage database and migrations.</p>

<p>The tasks defined here are used with <a href="../../Rails.html"><code>Rails</code></a> commands provided by Active Record.</p>

<p>In order to use <a href="DatabaseTasks.html"><code>DatabaseTasks</code></a>, a few config values need to be set. All the needed config values are set by <a href="../../Rails.html"><code>Rails</code></a> already, so it&#39;s necessary to do it only if you want to change the defaults or when you want to use Active Record outside of <a href="../../Rails.html"><code>Rails</code></a> (in such case after configuring the database tasks, you can also use the rake tasks defined in Active Record).</p>

<p>The possible config values are:</p>
<ul><li>
<p><code>env</code>: current environment (like <a href="../../Rails.html#method-c-env"><code>Rails.env</code></a>).</p>
</li><li>
<p><code>database_configuration</code>: configuration of your databases (as in <code>config/database.yml</code>).</p>
</li><li>
<p><code>db_dir</code>: your <code>db</code> directory.</p>
</li><li>
<p><code>fixtures_path</code>: a path to fixtures directory.</p>
</li><li>
<p><code>migrations_paths</code>: a list of paths to directories with migrations.</p>
</li><li>
<p><code>seed_loader</code>: an object which will load seeds, it needs to respond to the <code>load_seed</code> method.</p>
</li><li>
<p><code>root</code>: a path to the root of the application.</p>
</li></ul>

<p>Example usage of <a href="DatabaseTasks.html"><code>DatabaseTasks</code></a> outside <a href="../../Rails.html"><code>Rails</code></a> could look as such:</p>

<pre><code>include ActiveRecord::Tasks
DatabaseTasks.database_configuration = YAML.load_file(&#39;my_database_config.yml&#39;)
DatabaseTasks.db_dir = &#39;db&#39;
# other settings...

DatabaseTasks.create_current(&#39;production&#39;)
</code></pre>

    </div>
  


  


  
  


  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>C</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-cache_dump_filename">cache_dump_filename</a>,
              </li>
            
              
              <li>
                <a href="#method-i-charset">charset</a>,
              </li>
            
              
              <li>
                <a href="#method-i-charset_current">charset_current</a>,
              </li>
            
              
              <li>
                <a href="#method-i-check_protected_environments-21">check_protected_environments!</a>,
              </li>
            
              
              <li>
                <a href="#method-i-check_schema_file">check_schema_file</a>,
              </li>
            
              
              <li>
                <a href="#method-i-check_target_version">check_target_version</a>,
              </li>
            
              
              <li>
                <a href="#method-i-collation">collation</a>,
              </li>
            
              
              <li>
                <a href="#method-i-collation_current">collation_current</a>,
              </li>
            
              
              <li>
                <a href="#method-i-create">create</a>,
              </li>
            
              
              <li>
                <a href="#method-i-create_all">create_all</a>,
              </li>
            
              
              <li>
                <a href="#method-i-create_current">create_current</a>,
              </li>
            
              
              <li>
                <a href="#method-i-current_config">current_config</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>D</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-db_dir">db_dir</a>,
              </li>
            
              
              <li>
                <a href="#method-i-drop">drop</a>,
              </li>
            
              
              <li>
                <a href="#method-i-drop_all">drop_all</a>,
              </li>
            
              
              <li>
                <a href="#method-i-drop_current">drop_current</a>,
              </li>
            
              
              <li>
                <a href="#method-i-dump_filename">dump_filename</a>,
              </li>
            
              
              <li>
                <a href="#method-i-dump_schema_cache">dump_schema_cache</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>E</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-env">env</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>F</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-fixtures_path">fixtures_path</a>,
              </li>
            
              
              <li>
                <a href="#method-i-for_each">for_each</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>L</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-load_schema_current">load_schema_current</a>,
              </li>
            
              
              <li>
                <a href="#method-i-load_seed">load_seed</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>M</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-migrate">migrate</a>,
              </li>
            
              
              <li>
                <a href="#method-i-migrate_status">migrate_status</a>,
              </li>
            
              
              <li>
                <a href="#method-i-migrations_paths">migrations_paths</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>P</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-purge">purge</a>,
              </li>
            
              
              <li>
                <a href="#method-i-purge_all">purge_all</a>,
              </li>
            
              
              <li>
                <a href="#method-i-purge_current">purge_current</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>R</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-raise_for_multi_db">raise_for_multi_db</a>,
              </li>
            
              
              <li>
                <a href="#method-i-register_task">register_task</a>,
              </li>
            
              
              <li>
                <a href="#method-i-root">root</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>S</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-schema_file">schema_file</a>,
              </li>
            
              
              <li>
                <a href="#method-i-schema_file_type">schema_file_type</a>,
              </li>
            
              
              <li>
                <a href="#method-i-schema_up_to_date-3F">schema_up_to_date?</a>,
              </li>
            
              
              <li>
                <a href="#method-i-seed_loader">seed_loader</a>,
              </li>
            
              
              <li>
                <a href="#method-i-setup_initial_database_yaml">setup_initial_database_yaml</a>,
              </li>
            
              
              <li>
                <a href="#method-i-spec">spec</a>,
              </li>
            
              
              <li>
                <a href="#method-i-structure_dump">structure_dump</a>,
              </li>
            
              
              <li>
                <a href="#method-c-structure_dump_flags">structure_dump_flags</a>,
              </li>
            
              
              <li>
                <a href="#method-i-structure_load">structure_load</a>,
              </li>
            
              
              <li>
                <a href="#method-c-structure_load_flags">structure_load_flags</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>T</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-target_version">target_version</a>,
              </li>
            
              
              <li>
                <a href="#method-i-truncate_all">truncate_all</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  



  

    

    

    
      <!-- Section constants -->
      <div class="sectiontitle">Constants</div>
      <table border='0' cellpadding='5'>
        
          <tr valign='top'>
            <td class="attr-name">LOCAL_HOSTS</td>
            <td>=</td>
            <td class="attr-value">[&quot;127.0.0.1&quot;, &quot;localhost&quot;]</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
      </table>
    


    
      <!-- Section attributes -->
      <div class="sectiontitle">Attributes</div>
      <table border='0' cellpadding='5'>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [W]
            </td>
            <td class='attr-name'>current_config</td>
            <td class='attr-desc'></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [RW]
            </td>
            <td class='attr-name'>database_configuration</td>
            <td class='attr-desc'></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [W]
            </td>
            <td class='attr-name'>db_dir</td>
            <td class='attr-desc'></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [W]
            </td>
            <td class='attr-name'>env</td>
            <td class='attr-desc'></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [W]
            </td>
            <td class='attr-name'>fixtures_path</td>
            <td class='attr-desc'></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [W]
            </td>
            <td class='attr-name'>migrations_paths</td>
            <td class='attr-desc'></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [W]
            </td>
            <td class='attr-name'>root</td>
            <td class='attr-desc'></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [W]
            </td>
            <td class='attr-name'>seed_loader</td>
            <td class='attr-desc'></td>
          </tr>
        
      </table>
    


    <!-- Methods -->
    
      <div class="sectiontitle">Class Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-c-structure_dump_flags">
            
              <b>structure_dump_flags</b>
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-c-structure_dump_flags" name="method-c-structure_dump_flags" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Extra flags passed to database CLI tool (mysqldump/pg_dump) when calling db:structure:dump</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-structure_dump_flags_source')" id="l_method-c-structure_dump_flags_source">show</a>
                
              </p>
              <div id="method-c-structure_dump_flags_source" class="dyn-source">
                <pre>   <span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb</span>
<span class="line-num">43</span> <span class="ruby-identifier">mattr_accessor</span> <span class="ruby-value">:structure_dump_flags</span>, <span class="ruby-value">instance_accessor:</span> <span class="ruby-keyword">false</span>
</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-structure_load_flags">
            
              <b>structure_load_flags</b>
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-c-structure_load_flags" name="method-c-structure_load_flags" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Extra flags passed to database CLI tool when calling db:structure:load</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-structure_load_flags_source')" id="l_method-c-structure_load_flags_source">show</a>
                
              </p>
              <div id="method-c-structure_load_flags_source" class="dyn-source">
                <pre>   <span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb</span>
<span class="line-num">48</span> <span class="ruby-identifier">mattr_accessor</span> <span class="ruby-value">:structure_load_flags</span>, <span class="ruby-value">instance_accessor:</span> <span class="ruby-keyword">false</span>
</pre>
              </div>
            </div>
            
          </div>
        
      
    
      <div class="sectiontitle">Instance Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-i-cache_dump_filename">
            
              <b>cache_dump_filename</b>(namespace)
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-cache_dump_filename" name="method-i-cache_dump_filename" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-cache_dump_filename_source')" id="l_method-i-cache_dump_filename_source">show</a>
                
              </p>
              <div id="method-i-cache_dump_filename_source" class="dyn-source">
                <pre>    <span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb</span>
<span class="line-num">413</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">cache_dump_filename</span>(<span class="ruby-identifier">namespace</span>)
<span class="line-num">414</span>   <span class="ruby-identifier">filename</span> = <span class="ruby-keyword">if</span> <span class="ruby-identifier">namespace</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;primary&quot;</span>
<span class="line-num">415</span>     <span class="ruby-string">&quot;schema_cache.yml&quot;</span>
<span class="line-num">416</span>   <span class="ruby-keyword">else</span>
<span class="line-num">417</span>     <span class="ruby-node">&quot;#{namespace}_schema_cache.yml&quot;</span>
<span class="line-num">418</span>   <span class="ruby-keyword">end</span>
<span class="line-num">419</span> 
<span class="line-num">420</span>   <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;SCHEMA_CACHE&quot;</span>] <span class="ruby-operator">||</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Tasks</span><span class="ruby-operator">::</span><span class="ruby-constant">DatabaseTasks</span>.<span class="ruby-identifier">db_dir</span>, <span class="ruby-identifier">filename</span>)
<span class="line-num">421</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-charset">
            
              <b>charset</b>(*arguments)
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-charset" name="method-i-charset" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-charset_source')" id="l_method-i-charset_source">show</a>
                
              </p>
              <div id="method-i-charset_source" class="dyn-source">
                <pre>    <span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb</span>
<span class="line-num">276</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">charset</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">arguments</span>)
<span class="line-num">277</span>   <span class="ruby-identifier">configuration</span> = <span class="ruby-identifier">arguments</span>.<span class="ruby-identifier">first</span>
<span class="line-num">278</span>   <span class="ruby-identifier">class_for_adapter</span>(<span class="ruby-identifier">configuration</span>[<span class="ruby-string">&quot;adapter&quot;</span>]).<span class="ruby-identifier">new</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">arguments</span>).<span class="ruby-identifier">charset</span>
<span class="line-num">279</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-charset_current">
            
              <b>charset_current</b>(environment = env, specification_name = spec)
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-charset_current" name="method-i-charset_current" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-charset_current_source')" id="l_method-i-charset_current_source">show</a>
                
              </p>
              <div id="method-i-charset_current_source" class="dyn-source">
                <pre>    <span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb</span>
<span class="line-num">272</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">charset_current</span>(<span class="ruby-identifier">environment</span> = <span class="ruby-identifier">env</span>, <span class="ruby-identifier">specification_name</span> = <span class="ruby-identifier">spec</span>)
<span class="line-num">273</span>   <span class="ruby-identifier">charset</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">configurations</span>.<span class="ruby-identifier">configs_for</span>(<span class="ruby-value">env_name:</span> <span class="ruby-identifier">environment</span>, <span class="ruby-value">spec_name:</span> <span class="ruby-identifier">specification_name</span>).<span class="ruby-identifier">config</span>
<span class="line-num">274</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-check_protected_environments-21">
            
              <b>check_protected_environments!</b>()
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-check_protected_environments-21" name="method-i-check_protected_environments-21" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-check_protected_environments-21_source')" id="l_method-i-check_protected_environments-21_source">show</a>
                
              </p>
              <div id="method-i-check_protected_environments-21_source" class="dyn-source">
                <pre>   <span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb</span>
<span class="line-num">57</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">check_protected_environments!</span>
<span class="line-num">58</span>   <span class="ruby-keyword">unless</span> <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;DISABLE_DATABASE_ENVIRONMENT_CHECK&quot;</span>]
<span class="line-num">59</span>     <span class="ruby-identifier">current</span> = <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">connection</span>.<span class="ruby-identifier">migration_context</span>.<span class="ruby-identifier">current_environment</span>
<span class="line-num">60</span>     <span class="ruby-identifier">stored</span>  = <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">connection</span>.<span class="ruby-identifier">migration_context</span>.<span class="ruby-identifier">last_stored_environment</span>
<span class="line-num">61</span> 
<span class="line-num">62</span>     <span class="ruby-keyword">if</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">connection</span>.<span class="ruby-identifier">migration_context</span>.<span class="ruby-identifier">protected_environment?</span>
<span class="line-num">63</span>       <span class="ruby-identifier">raise</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">ProtectedEnvironmentError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">stored</span>)
<span class="line-num">64</span>     <span class="ruby-keyword">end</span>
<span class="line-num">65</span> 
<span class="line-num">66</span>     <span class="ruby-keyword">if</span> <span class="ruby-identifier">stored</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">stored</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">current</span>
<span class="line-num">67</span>       <span class="ruby-identifier">raise</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">EnvironmentMismatchError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">current:</span> <span class="ruby-identifier">current</span>, <span class="ruby-value">stored:</span> <span class="ruby-identifier">stored</span>)
<span class="line-num">68</span>     <span class="ruby-keyword">end</span>
<span class="line-num">69</span>   <span class="ruby-keyword">end</span>
<span class="line-num">70</span> <span class="ruby-keyword">rescue</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">NoDatabaseError</span>
<span class="line-num">71</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-check_schema_file">
            
              <b>check_schema_file</b>(filename)
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-check_schema_file" name="method-i-check_schema_file" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-check_schema_file_source')" id="l_method-i-check_schema_file_source">show</a>
                
              </p>
              <div id="method-i-check_schema_file_source" class="dyn-source">
                <pre>    <span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb</span>
<span class="line-num">430</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">check_schema_file</span>(<span class="ruby-identifier">filename</span>)
<span class="line-num">431</span>   <span class="ruby-keyword">unless</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-identifier">filename</span>)
<span class="line-num">432</span>     <span class="ruby-identifier">message</span> = <span class="ruby-node">+%{#{filename} doesn&#39;t exist yet. Run `rails db:migrate` to create it, then try again.}</span>
<span class="line-num">433</span>     <span class="ruby-identifier">message</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">%{ If you do not intend to use a database, you should instead alter #{Rails.root}/config/application.rb to limit the frameworks that will be loaded.}</span> <span class="ruby-keyword">if</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-operator">::</span><span class="ruby-constant">Rails</span>.<span class="ruby-identifier">root</span>)
<span class="line-num">434</span>     <span class="ruby-constant">Kernel</span>.<span class="ruby-identifier">abort</span> <span class="ruby-identifier">message</span>
<span class="line-num">435</span>   <span class="ruby-keyword">end</span>
<span class="line-num">436</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-check_target_version">
            
              <b>check_target_version</b>()
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-check_target_version" name="method-i-check_target_version" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-check_target_version_source')" id="l_method-i-check_target_version_source">show</a>
                
              </p>
              <div id="method-i-check_target_version_source" class="dyn-source">
                <pre>    <span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb</span>
<span class="line-num">262</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">check_target_version</span>
<span class="line-num">263</span>   <span class="ruby-keyword">if</span> <span class="ruby-identifier">target_version</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span>(<span class="ruby-constant">Migration</span><span class="ruby-operator">::</span><span class="ruby-constant">MigrationFilenameRegexp</span>.<span class="ruby-identifier">match?</span>(<span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;VERSION&quot;</span>]) <span class="ruby-operator">||</span> <span class="ruby-regexp">/\A\d+\z/</span>.<span class="ruby-identifier">match?</span>(<span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;VERSION&quot;</span>]))
<span class="line-num">264</span>     <span class="ruby-identifier">raise</span> <span class="ruby-node">&quot;Invalid format of target version: `VERSION=#{ENV[&#39;VERSION&#39;]}`&quot;</span>
<span class="line-num">265</span>   <span class="ruby-keyword">end</span>
<span class="line-num">266</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-collation">
            
              <b>collation</b>(*arguments)
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-collation" name="method-i-collation" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-collation_source')" id="l_method-i-collation_source">show</a>
                
              </p>
              <div id="method-i-collation_source" class="dyn-source">
                <pre>    <span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb</span>
<span class="line-num">285</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">collation</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">arguments</span>)
<span class="line-num">286</span>   <span class="ruby-identifier">configuration</span> = <span class="ruby-identifier">arguments</span>.<span class="ruby-identifier">first</span>
<span class="line-num">287</span>   <span class="ruby-identifier">class_for_adapter</span>(<span class="ruby-identifier">configuration</span>[<span class="ruby-string">&quot;adapter&quot;</span>]).<span class="ruby-identifier">new</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">arguments</span>).<span class="ruby-identifier">collation</span>
<span class="line-num">288</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-collation_current">
            
              <b>collation_current</b>(environment = env, specification_name = spec)
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-collation_current" name="method-i-collation_current" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-collation_current_source')" id="l_method-i-collation_current_source">show</a>
                
              </p>
              <div id="method-i-collation_current_source" class="dyn-source">
                <pre>    <span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb</span>
<span class="line-num">281</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">collation_current</span>(<span class="ruby-identifier">environment</span> = <span class="ruby-identifier">env</span>, <span class="ruby-identifier">specification_name</span> = <span class="ruby-identifier">spec</span>)
<span class="line-num">282</span>   <span class="ruby-identifier">collation</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">configurations</span>.<span class="ruby-identifier">configs_for</span>(<span class="ruby-value">env_name:</span> <span class="ruby-identifier">environment</span>, <span class="ruby-value">spec_name:</span> <span class="ruby-identifier">specification_name</span>).<span class="ruby-identifier">config</span>
<span class="line-num">283</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-create">
            
              <b>create</b>(*arguments)
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-create" name="method-i-create" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-create_source')" id="l_method-i-create_source">show</a>
                
              </p>
              <div id="method-i-create_source" class="dyn-source">
                <pre>    <span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb</span>
<span class="line-num">124</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">create</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">arguments</span>)
<span class="line-num">125</span>   <span class="ruby-identifier">configuration</span> = <span class="ruby-identifier">arguments</span>.<span class="ruby-identifier">first</span>
<span class="line-num">126</span>   <span class="ruby-identifier">class_for_adapter</span>(<span class="ruby-identifier">configuration</span>[<span class="ruby-string">&quot;adapter&quot;</span>]).<span class="ruby-identifier">new</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">arguments</span>).<span class="ruby-identifier">create</span>
<span class="line-num">127</span>   <span class="ruby-identifier">$stdout</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;Created database &#39;#{configuration[&#39;database&#39;]}&#39;&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">verbose?</span>
<span class="line-num">128</span> <span class="ruby-keyword">rescue</span> <span class="ruby-constant">DatabaseAlreadyExists</span>
<span class="line-num">129</span>   <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;Database &#39;#{configuration[&#39;database&#39;]}&#39; already exists&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">verbose?</span>
<span class="line-num">130</span> <span class="ruby-keyword">rescue</span> <span class="ruby-constant">Exception</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">error</span>
<span class="line-num">131</span>   <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">puts</span> <span class="ruby-identifier">error</span>
<span class="line-num">132</span>   <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;Couldn&#39;t create &#39;#{configuration[&#39;database&#39;]}&#39; database. Please check your configuration.&quot;</span>
<span class="line-num">133</span>   <span class="ruby-identifier">raise</span>
<span class="line-num">134</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-create_all">
            
              <b>create_all</b>()
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-create_all" name="method-i-create_all" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-create_all_source')" id="l_method-i-create_all_source">show</a>
                
              </p>
              <div id="method-i-create_all_source" class="dyn-source">
                <pre>    <span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb</span>
<span class="line-num">136</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">create_all</span>
<span class="line-num">137</span>   <span class="ruby-identifier">old_pool</span> = <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">connection_handler</span>.<span class="ruby-identifier">retrieve_connection_pool</span>(<span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">connection_specification_name</span>)
<span class="line-num">138</span>   <span class="ruby-identifier">each_local_configuration</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">configuration</span><span class="ruby-operator">|</span> <span class="ruby-identifier">create</span> <span class="ruby-identifier">configuration</span> }
<span class="line-num">139</span>   <span class="ruby-keyword">if</span> <span class="ruby-identifier">old_pool</span>
<span class="line-num">140</span>     <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">connection_handler</span>.<span class="ruby-identifier">establish_connection</span>(<span class="ruby-identifier">old_pool</span>.<span class="ruby-identifier">spec</span>.<span class="ruby-identifier">to_hash</span>)
<span class="line-num">141</span>   <span class="ruby-keyword">end</span>
<span class="line-num">142</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-create_current">
            
              <b>create_current</b>(environment = env, spec_name = nil)
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-create_current" name="method-i-create_current" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-create_current_source')" id="l_method-i-create_current_source">show</a>
                
              </p>
              <div id="method-i-create_current_source" class="dyn-source">
                <pre>    <span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb</span>
<span class="line-num">183</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">create_current</span>(<span class="ruby-identifier">environment</span> = <span class="ruby-identifier">env</span>, <span class="ruby-identifier">spec_name</span> = <span class="ruby-keyword">nil</span>)
<span class="line-num">184</span>   <span class="ruby-identifier">each_current_configuration</span>(<span class="ruby-identifier">environment</span>, <span class="ruby-identifier">spec_name</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">configuration</span><span class="ruby-operator">|</span>
<span class="line-num">185</span>     <span class="ruby-identifier">create</span> <span class="ruby-identifier">configuration</span>
<span class="line-num">186</span>   }
<span class="line-num">187</span>   <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">establish_connection</span>(<span class="ruby-identifier">environment</span>.<span class="ruby-identifier">to_sym</span>)
<span class="line-num">188</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-current_config">
            
              <b>current_config</b>(options = {})
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-current_config" name="method-i-current_config" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-current_config_source')" id="l_method-i-current_config_source">show</a>
                
              </p>
              <div id="method-i-current_config_source" class="dyn-source">
                <pre>    <span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb</span>
<span class="line-num">114</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">current_config</span>(<span class="ruby-identifier">options</span> = {})
<span class="line-num">115</span>   <span class="ruby-identifier">options</span>.<span class="ruby-identifier">reverse_merge!</span> <span class="ruby-value">env:</span> <span class="ruby-identifier">env</span>
<span class="line-num">116</span>   <span class="ruby-identifier">options</span>[<span class="ruby-value">:spec</span>] <span class="ruby-operator">||=</span> <span class="ruby-string">&quot;primary&quot;</span>
<span class="line-num">117</span>   <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-value">:config</span>)
<span class="line-num">118</span>     <span class="ruby-ivar">@current_config</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:config</span>]
<span class="line-num">119</span>   <span class="ruby-keyword">else</span>
<span class="line-num">120</span>     <span class="ruby-ivar">@current_config</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">configurations</span>.<span class="ruby-identifier">configs_for</span>(<span class="ruby-value">env_name:</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:env</span>], <span class="ruby-value">spec_name:</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:spec</span>]).<span class="ruby-identifier">config</span>
<span class="line-num">121</span>   <span class="ruby-keyword">end</span>
<span class="line-num">122</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-db_dir">
            
              <b>db_dir</b>()
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-db_dir" name="method-i-db_dir" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-db_dir_source')" id="l_method-i-db_dir_source">show</a>
                
              </p>
              <div id="method-i-db_dir_source" class="dyn-source">
                <pre>   <span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb</span>
<span class="line-num">82</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">db_dir</span>
<span class="line-num">83</span>   <span class="ruby-ivar">@db_dir</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Rails</span>.<span class="ruby-identifier">application</span>.<span class="ruby-identifier">config</span>.<span class="ruby-identifier">paths</span>[<span class="ruby-string">&quot;db&quot;</span>].<span class="ruby-identifier">first</span>
<span class="line-num">84</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-drop">
            
              <b>drop</b>(*arguments)
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-drop" name="method-i-drop" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-drop_source')" id="l_method-i-drop_source">show</a>
                
              </p>
              <div id="method-i-drop_source" class="dyn-source">
                <pre>    <span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb</span>
<span class="line-num">190</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">drop</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">arguments</span>)
<span class="line-num">191</span>   <span class="ruby-identifier">configuration</span> = <span class="ruby-identifier">arguments</span>.<span class="ruby-identifier">first</span>
<span class="line-num">192</span>   <span class="ruby-identifier">class_for_adapter</span>(<span class="ruby-identifier">configuration</span>[<span class="ruby-string">&quot;adapter&quot;</span>]).<span class="ruby-identifier">new</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">arguments</span>).<span class="ruby-identifier">drop</span>
<span class="line-num">193</span>   <span class="ruby-identifier">$stdout</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;Dropped database &#39;#{configuration[&#39;database&#39;]}&#39;&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">verbose?</span>
<span class="line-num">194</span> <span class="ruby-keyword">rescue</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">NoDatabaseError</span>
<span class="line-num">195</span>   <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;Database &#39;#{configuration[&#39;database&#39;]}&#39; does not exist&quot;</span>
<span class="line-num">196</span> <span class="ruby-keyword">rescue</span> <span class="ruby-constant">Exception</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">error</span>
<span class="line-num">197</span>   <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">puts</span> <span class="ruby-identifier">error</span>
<span class="line-num">198</span>   <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;Couldn&#39;t drop database &#39;#{configuration[&#39;database&#39;]}&#39;&quot;</span>
<span class="line-num">199</span>   <span class="ruby-identifier">raise</span>
<span class="line-num">200</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-drop_all">
            
              <b>drop_all</b>()
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-drop_all" name="method-i-drop_all" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-drop_all_source')" id="l_method-i-drop_all_source">show</a>
                
              </p>
              <div id="method-i-drop_all_source" class="dyn-source">
                <pre>    <span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb</span>
<span class="line-num">202</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">drop_all</span>
<span class="line-num">203</span>   <span class="ruby-identifier">each_local_configuration</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">configuration</span><span class="ruby-operator">|</span> <span class="ruby-identifier">drop</span> <span class="ruby-identifier">configuration</span> }
<span class="line-num">204</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-drop_current">
            
              <b>drop_current</b>(environment = env)
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-drop_current" name="method-i-drop_current" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-drop_current_source')" id="l_method-i-drop_current_source">show</a>
                
              </p>
              <div id="method-i-drop_current_source" class="dyn-source">
                <pre>    <span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb</span>
<span class="line-num">206</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">drop_current</span>(<span class="ruby-identifier">environment</span> = <span class="ruby-identifier">env</span>)
<span class="line-num">207</span>   <span class="ruby-identifier">each_current_configuration</span>(<span class="ruby-identifier">environment</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">configuration</span><span class="ruby-operator">|</span>
<span class="line-num">208</span>     <span class="ruby-identifier">drop</span> <span class="ruby-identifier">configuration</span>
<span class="line-num">209</span>   }
<span class="line-num">210</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-dump_filename">
            
              <b>dump_filename</b>(namespace, format = ActiveRecord::Base.schema_format)
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-dump_filename" name="method-i-dump_filename" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-dump_filename_source')" id="l_method-i-dump_filename_source">show</a>
                
              </p>
              <div id="method-i-dump_filename_source" class="dyn-source">
                <pre>    <span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb</span>
<span class="line-num">403</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">dump_filename</span>(<span class="ruby-identifier">namespace</span>, <span class="ruby-identifier">format</span> = <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">schema_format</span>)
<span class="line-num">404</span>   <span class="ruby-identifier">filename</span> = <span class="ruby-keyword">if</span> <span class="ruby-identifier">namespace</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;primary&quot;</span>
<span class="line-num">405</span>     <span class="ruby-identifier">schema_file_type</span>(<span class="ruby-identifier">format</span>)
<span class="line-num">406</span>   <span class="ruby-keyword">else</span>
<span class="line-num">407</span>     <span class="ruby-node">&quot;#{namespace}_#{schema_file_type(format)}&quot;</span>
<span class="line-num">408</span>   <span class="ruby-keyword">end</span>
<span class="line-num">409</span> 
<span class="line-num">410</span>   <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;SCHEMA&quot;</span>] <span class="ruby-operator">||</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Tasks</span><span class="ruby-operator">::</span><span class="ruby-constant">DatabaseTasks</span>.<span class="ruby-identifier">db_dir</span>, <span class="ruby-identifier">filename</span>)
<span class="line-num">411</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-dump_schema_cache">
            
              <b>dump_schema_cache</b>(conn, filename)
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-dump_schema_cache" name="method-i-dump_schema_cache" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Dumps the schema cache in YAML format for the connection into the file</p>

<h4 id="method-i-dump_schema_cache-label-Examples-3A">Examples:</h4>

<pre><code>ActiveRecord::Tasks::DatabaseTasks.dump_schema_cache(ActiveRecord::Base.connection, &quot;tmp/schema_dump.yaml&quot;)
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-dump_schema_cache_source')" id="l_method-i-dump_schema_cache_source">show</a>
                
              </p>
              <div id="method-i-dump_schema_cache_source" class="dyn-source">
                <pre>    <span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb</span>
<span class="line-num">452</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">dump_schema_cache</span>(<span class="ruby-identifier">conn</span>, <span class="ruby-identifier">filename</span>)
<span class="line-num">453</span>   <span class="ruby-identifier">conn</span>.<span class="ruby-identifier">schema_cache</span>.<span class="ruby-identifier">clear!</span>
<span class="line-num">454</span>   <span class="ruby-identifier">conn</span>.<span class="ruby-identifier">data_sources</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">table</span><span class="ruby-operator">|</span> <span class="ruby-identifier">conn</span>.<span class="ruby-identifier">schema_cache</span>.<span class="ruby-identifier">add</span>(<span class="ruby-identifier">table</span>) }
<span class="line-num">455</span>   <span class="ruby-identifier">open</span>(<span class="ruby-identifier">filename</span>, <span class="ruby-string">&quot;wb&quot;</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span> <span class="ruby-identifier">f</span>.<span class="ruby-identifier">write</span>(<span class="ruby-constant">YAML</span>.<span class="ruby-identifier">dump</span>(<span class="ruby-identifier">conn</span>.<span class="ruby-identifier">schema_cache</span>)) }
<span class="line-num">456</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-env">
            
              <b>env</b>()
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-env" name="method-i-env" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-env_source')" id="l_method-i-env_source">show</a>
                
              </p>
              <div id="method-i-env_source" class="dyn-source">
                <pre>    <span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb</span>
<span class="line-num">102</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">env</span>
<span class="line-num">103</span>   <span class="ruby-ivar">@env</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Rails</span>.<span class="ruby-identifier">env</span>
<span class="line-num">104</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-fixtures_path">
            
              <b>fixtures_path</b>()
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-fixtures_path" name="method-i-fixtures_path" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-fixtures_path_source')" id="l_method-i-fixtures_path_source">show</a>
                
              </p>
              <div id="method-i-fixtures_path_source" class="dyn-source">
                <pre>   <span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb</span>
<span class="line-num">90</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">fixtures_path</span>
<span class="line-num">91</span>   <span class="ruby-ivar">@fixtures_path</span> <span class="ruby-operator">||=</span> <span class="ruby-keyword">if</span> <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;FIXTURES_PATH&quot;</span>]
<span class="line-num">92</span>     <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">root</span>, <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;FIXTURES_PATH&quot;</span>])
<span class="line-num">93</span>   <span class="ruby-keyword">else</span>
<span class="line-num">94</span>     <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">root</span>, <span class="ruby-string">&quot;test&quot;</span>, <span class="ruby-string">&quot;fixtures&quot;</span>)
<span class="line-num">95</span>   <span class="ruby-keyword">end</span>
<span class="line-num">96</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-for_each">
            
              <b>for_each</b>(databases)
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-for_each" name="method-i-for_each" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-for_each_source')" id="l_method-i-for_each_source">show</a>
                
              </p>
              <div id="method-i-for_each_source" class="dyn-source">
                <pre>    <span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb</span>
<span class="line-num">156</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">for_each</span>(<span class="ruby-identifier">databases</span>)
<span class="line-num">157</span>   <span class="ruby-keyword">return</span> {} <span class="ruby-keyword">unless</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">Rails</span>)
<span class="line-num">158</span> 
<span class="line-num">159</span>   <span class="ruby-identifier">database_configs</span> = <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">DatabaseConfigurations</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">databases</span>).<span class="ruby-identifier">configs_for</span>(<span class="ruby-value">env_name:</span> <span class="ruby-constant">Rails</span>.<span class="ruby-identifier">env</span>)
<span class="line-num">160</span> 
<span class="line-num">161</span>   <span class="ruby-comment"># if this is a single database application we don&#39;t want tasks for each primary database</span>
<span class="line-num">162</span>   <span class="ruby-keyword">return</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">database_configs</span>.<span class="ruby-identifier">count</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span>
<span class="line-num">163</span> 
<span class="line-num">164</span>   <span class="ruby-identifier">database_configs</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">db_config</span><span class="ruby-operator">|</span>
<span class="line-num">165</span>     <span class="ruby-keyword">yield</span> <span class="ruby-identifier">db_config</span>.<span class="ruby-identifier">spec_name</span>
<span class="line-num">166</span>   <span class="ruby-keyword">end</span>
<span class="line-num">167</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-load_schema_current">
            
              <b>load_schema_current</b>(format = ActiveRecord::Base.schema_format, file = nil, environment = env)
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-load_schema_current" name="method-i-load_schema_current" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-load_schema_current_source')" id="l_method-i-load_schema_current_source">show</a>
                
              </p>
              <div id="method-i-load_schema_current_source" class="dyn-source">
                <pre>    <span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb</span>
<span class="line-num">423</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">load_schema_current</span>(<span class="ruby-identifier">format</span> = <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">schema_format</span>, <span class="ruby-identifier">file</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">environment</span> = <span class="ruby-identifier">env</span>)
<span class="line-num">424</span>   <span class="ruby-identifier">each_current_configuration</span>(<span class="ruby-identifier">environment</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">configuration</span>, <span class="ruby-identifier">spec_name</span>, <span class="ruby-identifier">env</span><span class="ruby-operator">|</span>
<span class="line-num">425</span>     <span class="ruby-identifier">load_schema</span>(<span class="ruby-identifier">configuration</span>, <span class="ruby-identifier">format</span>, <span class="ruby-identifier">file</span>, <span class="ruby-identifier">env</span>, <span class="ruby-identifier">spec_name</span>)
<span class="line-num">426</span>   }
<span class="line-num">427</span>   <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">establish_connection</span>(<span class="ruby-identifier">environment</span>.<span class="ruby-identifier">to_sym</span>)
<span class="line-num">428</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-load_seed">
            
              <b>load_seed</b>()
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-load_seed" name="method-i-load_seed" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-load_seed_source')" id="l_method-i-load_seed_source">show</a>
                
              </p>
              <div id="method-i-load_seed_source" class="dyn-source">
                <pre>    <span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb</span>
<span class="line-num">438</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">load_seed</span>
<span class="line-num">439</span>   <span class="ruby-keyword">if</span> <span class="ruby-identifier">seed_loader</span>
<span class="line-num">440</span>     <span class="ruby-identifier">seed_loader</span>.<span class="ruby-identifier">load_seed</span>
<span class="line-num">441</span>   <span class="ruby-keyword">else</span>
<span class="line-num">442</span>     <span class="ruby-identifier">raise</span> <span class="ruby-string">&quot;You tried to load seed data, but no seed loader is specified. Please specify seed &quot;</span> \
<span class="line-num">443</span>           <span class="ruby-string">&quot;loader with ActiveRecord::Tasks::DatabaseTasks.seed_loader = your_seed_loader\n&quot;</span> \
<span class="line-num">444</span>           <span class="ruby-string">&quot;Seed loader should respond to load_seed method&quot;</span>
<span class="line-num">445</span>   <span class="ruby-keyword">end</span>
<span class="line-num">446</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-migrate">
            
              <b>migrate</b>()
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-migrate" name="method-i-migrate" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-migrate_source')" id="l_method-i-migrate_source">show</a>
                
              </p>
              <div id="method-i-migrate_source" class="dyn-source">
                <pre>    <span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb</span>
<span class="line-num">232</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">migrate</span>
<span class="line-num">233</span>   <span class="ruby-identifier">check_target_version</span>
<span class="line-num">234</span> 
<span class="line-num">235</span>   <span class="ruby-identifier">scope</span> = <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;SCOPE&quot;</span>]
<span class="line-num">236</span>   <span class="ruby-identifier">verbose_was</span>, <span class="ruby-constant">Migration</span>.<span class="ruby-identifier">verbose</span> = <span class="ruby-constant">Migration</span>.<span class="ruby-identifier">verbose</span>, <span class="ruby-identifier">verbose?</span>
<span class="line-num">237</span> 
<span class="line-num">238</span>   <span class="ruby-constant">Base</span>.<span class="ruby-identifier">connection</span>.<span class="ruby-identifier">migration_context</span>.<span class="ruby-identifier">migrate</span>(<span class="ruby-identifier">target_version</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">migration</span><span class="ruby-operator">|</span>
<span class="line-num">239</span>     <span class="ruby-identifier">scope</span>.<span class="ruby-identifier">blank?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">scope</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">migration</span>.<span class="ruby-identifier">scope</span>
<span class="line-num">240</span>   <span class="ruby-keyword">end</span>
<span class="line-num">241</span> 
<span class="line-num">242</span>   <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">clear_cache!</span>
<span class="line-num">243</span> <span class="ruby-keyword">ensure</span>
<span class="line-num">244</span>   <span class="ruby-constant">Migration</span>.<span class="ruby-identifier">verbose</span> = <span class="ruby-identifier">verbose_was</span>
<span class="line-num">245</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-migrate_status">
            
              <b>migrate_status</b>()
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-migrate_status" name="method-i-migrate_status" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-migrate_status_source')" id="l_method-i-migrate_status_source">show</a>
                
              </p>
              <div id="method-i-migrate_status_source" class="dyn-source">
                <pre>    <span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb</span>
<span class="line-num">247</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">migrate_status</span>
<span class="line-num">248</span>   <span class="ruby-keyword">unless</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">connection</span>.<span class="ruby-identifier">schema_migration</span>.<span class="ruby-identifier">table_exists?</span>
<span class="line-num">249</span>     <span class="ruby-constant">Kernel</span>.<span class="ruby-identifier">abort</span> <span class="ruby-string">&quot;Schema migrations table does not exist yet.&quot;</span>
<span class="line-num">250</span>   <span class="ruby-keyword">end</span>
<span class="line-num">251</span> 
<span class="line-num">252</span>   <span class="ruby-comment"># output</span>
<span class="line-num">253</span>   <span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;\ndatabase: #{ActiveRecord::Base.connection_config[:database]}\n\n&quot;</span>
<span class="line-num">254</span>   <span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;#{&#39;Status&#39;.center(8)}  #{&#39;Migration ID&#39;.ljust(14)}  Migration Name&quot;</span>
<span class="line-num">255</span>   <span class="ruby-identifier">puts</span> <span class="ruby-string">&quot;-&quot;</span> <span class="ruby-operator">*</span> <span class="ruby-value">50</span>
<span class="line-num">256</span>   <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">connection</span>.<span class="ruby-identifier">migration_context</span>.<span class="ruby-identifier">migrations_status</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">status</span>, <span class="ruby-identifier">version</span>, <span class="ruby-identifier">name</span><span class="ruby-operator">|</span>
<span class="line-num">257</span>     <span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;#{status.center(8)}  #{version.ljust(14)}  #{name}&quot;</span>
<span class="line-num">258</span>   <span class="ruby-keyword">end</span>
<span class="line-num">259</span>   <span class="ruby-identifier">puts</span>
<span class="line-num">260</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-migrations_paths">
            
              <b>migrations_paths</b>()
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-migrations_paths" name="method-i-migrations_paths" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-migrations_paths_source')" id="l_method-i-migrations_paths_source">show</a>
                
              </p>
              <div id="method-i-migrations_paths_source" class="dyn-source">
                <pre>   <span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb</span>
<span class="line-num">86</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">migrations_paths</span>
<span class="line-num">87</span>   <span class="ruby-ivar">@migrations_paths</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Rails</span>.<span class="ruby-identifier">application</span>.<span class="ruby-identifier">paths</span>[<span class="ruby-string">&quot;db/migrate&quot;</span>].<span class="ruby-identifier">to_a</span>
<span class="line-num">88</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-purge">
            
              <b>purge</b>(configuration)
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-purge" name="method-i-purge" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-purge_source')" id="l_method-i-purge_source">show</a>
                
              </p>
              <div id="method-i-purge_source" class="dyn-source">
                <pre>    <span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb</span>
<span class="line-num">290</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">purge</span>(<span class="ruby-identifier">configuration</span>)
<span class="line-num">291</span>   <span class="ruby-identifier">class_for_adapter</span>(<span class="ruby-identifier">configuration</span>[<span class="ruby-string">&quot;adapter&quot;</span>]).<span class="ruby-identifier">new</span>(<span class="ruby-identifier">configuration</span>).<span class="ruby-identifier">purge</span>
<span class="line-num">292</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-purge_all">
            
              <b>purge_all</b>()
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-purge_all" name="method-i-purge_all" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-purge_all_source')" id="l_method-i-purge_all_source">show</a>
                
              </p>
              <div id="method-i-purge_all_source" class="dyn-source">
                <pre>    <span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb</span>
<span class="line-num">294</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">purge_all</span>
<span class="line-num">295</span>   <span class="ruby-identifier">each_local_configuration</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">configuration</span><span class="ruby-operator">|</span>
<span class="line-num">296</span>     <span class="ruby-identifier">purge</span> <span class="ruby-identifier">configuration</span>
<span class="line-num">297</span>   }
<span class="line-num">298</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-purge_current">
            
              <b>purge_current</b>(environment = env)
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-purge_current" name="method-i-purge_current" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-purge_current_source')" id="l_method-i-purge_current_source">show</a>
                
              </p>
              <div id="method-i-purge_current_source" class="dyn-source">
                <pre>    <span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb</span>
<span class="line-num">300</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">purge_current</span>(<span class="ruby-identifier">environment</span> = <span class="ruby-identifier">env</span>)
<span class="line-num">301</span>   <span class="ruby-identifier">each_current_configuration</span>(<span class="ruby-identifier">environment</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">configuration</span><span class="ruby-operator">|</span>
<span class="line-num">302</span>     <span class="ruby-identifier">purge</span> <span class="ruby-identifier">configuration</span>
<span class="line-num">303</span>   }
<span class="line-num">304</span>   <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">establish_connection</span>(<span class="ruby-identifier">environment</span>.<span class="ruby-identifier">to_sym</span>)
<span class="line-num">305</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-raise_for_multi_db">
            
              <b>raise_for_multi_db</b>(environment = env, command:)
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-raise_for_multi_db" name="method-i-raise_for_multi_db" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-raise_for_multi_db_source')" id="l_method-i-raise_for_multi_db_source">show</a>
                
              </p>
              <div id="method-i-raise_for_multi_db_source" class="dyn-source">
                <pre>    <span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb</span>
<span class="line-num">169</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">raise_for_multi_db</span>(<span class="ruby-identifier">environment</span> = <span class="ruby-identifier">env</span>, <span class="ruby-value">command:</span>)
<span class="line-num">170</span>   <span class="ruby-identifier">db_configs</span> = <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">configurations</span>.<span class="ruby-identifier">configs_for</span>(<span class="ruby-value">env_name:</span> <span class="ruby-identifier">environment</span>)
<span class="line-num">171</span> 
<span class="line-num">172</span>   <span class="ruby-keyword">if</span> <span class="ruby-identifier">db_configs</span>.<span class="ruby-identifier">count</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>
<span class="line-num">173</span>     <span class="ruby-identifier">dbs_list</span> = []
<span class="line-num">174</span> 
<span class="line-num">175</span>     <span class="ruby-identifier">db_configs</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">db</span><span class="ruby-operator">|</span>
<span class="line-num">176</span>       <span class="ruby-identifier">dbs_list</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;#{command}:#{db.spec_name}&quot;</span>
<span class="line-num">177</span>     <span class="ruby-keyword">end</span>
<span class="line-num">178</span> 
<span class="line-num">179</span>     <span class="ruby-identifier">raise</span> <span class="ruby-node">&quot;You&#39;re using a multiple database application. To use `#{command}` you must run the namespaced task with a VERSION. Available tasks are #{dbs_list.to_sentence}.&quot;</span>
<span class="line-num">180</span>   <span class="ruby-keyword">end</span>
<span class="line-num">181</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-register_task">
            
              <b>register_task</b>(pattern, task)
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-register_task" name="method-i-register_task" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-register_task_source')" id="l_method-i-register_task_source">show</a>
                
              </p>
              <div id="method-i-register_task_source" class="dyn-source">
                <pre>   <span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb</span>
<span class="line-num">73</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">register_task</span>(<span class="ruby-identifier">pattern</span>, <span class="ruby-identifier">task</span>)
<span class="line-num">74</span>   <span class="ruby-ivar">@tasks</span> <span class="ruby-operator">||=</span> {}
<span class="line-num">75</span>   <span class="ruby-ivar">@tasks</span>[<span class="ruby-identifier">pattern</span>] = <span class="ruby-identifier">task</span>
<span class="line-num">76</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-root">
            
              <b>root</b>()
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-root" name="method-i-root" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-root_source')" id="l_method-i-root_source">show</a>
                
              </p>
              <div id="method-i-root_source" class="dyn-source">
                <pre>    <span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb</span>
<span class="line-num"> 98</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">root</span>
<span class="line-num"> 99</span>   <span class="ruby-ivar">@root</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Rails</span>.<span class="ruby-identifier">root</span>
<span class="line-num">100</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-schema_file">
            
              <b>schema_file</b>(format = ActiveRecord::Base.schema_format)
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-schema_file" name="method-i-schema_file" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-schema_file_source')" id="l_method-i-schema_file_source">show</a>
                
              </p>
              <div id="method-i-schema_file_source" class="dyn-source">
                <pre>    <span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb</span>
<span class="line-num">390</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">schema_file</span>(<span class="ruby-identifier">format</span> = <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">schema_format</span>)
<span class="line-num">391</span>   <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">db_dir</span>, <span class="ruby-identifier">schema_file_type</span>(<span class="ruby-identifier">format</span>))
<span class="line-num">392</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-schema_file_type">
            
              <b>schema_file_type</b>(format = ActiveRecord::Base.schema_format)
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-schema_file_type" name="method-i-schema_file_type" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-schema_file_type_source')" id="l_method-i-schema_file_type_source">show</a>
                
              </p>
              <div id="method-i-schema_file_type_source" class="dyn-source">
                <pre>    <span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb</span>
<span class="line-num">394</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">schema_file_type</span>(<span class="ruby-identifier">format</span> = <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">schema_format</span>)
<span class="line-num">395</span>   <span class="ruby-keyword">case</span> <span class="ruby-identifier">format</span>
<span class="line-num">396</span>   <span class="ruby-keyword">when</span> <span class="ruby-value">:ruby</span>
<span class="line-num">397</span>     <span class="ruby-string">&quot;schema.rb&quot;</span>
<span class="line-num">398</span>   <span class="ruby-keyword">when</span> <span class="ruby-value">:sql</span>
<span class="line-num">399</span>     <span class="ruby-string">&quot;structure.sql&quot;</span>
<span class="line-num">400</span>   <span class="ruby-keyword">end</span>
<span class="line-num">401</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-schema_up_to_date-3F">
            
              <b>schema_up_to_date?</b>(configuration, format = ActiveRecord::Base.schema_format, file = nil, environment = env, spec_name = &quot;primary&quot;)
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-schema_up_to_date-3F" name="method-i-schema_up_to_date-3F" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-schema_up_to_date-3F_source')" id="l_method-i-schema_up_to_date-3F_source">show</a>
                
              </p>
              <div id="method-i-schema_up_to_date-3F_source" class="dyn-source">
                <pre>    <span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb</span>
<span class="line-num">341</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">schema_up_to_date?</span>(<span class="ruby-identifier">configuration</span>, <span class="ruby-identifier">format</span> = <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">schema_format</span>, <span class="ruby-identifier">file</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">environment</span> = <span class="ruby-identifier">env</span>, <span class="ruby-identifier">spec_name</span> = <span class="ruby-string">&quot;primary&quot;</span>)
<span class="line-num">342</span>   <span class="ruby-identifier">file</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">dump_filename</span>(<span class="ruby-identifier">spec_name</span>, <span class="ruby-identifier">format</span>)
<span class="line-num">343</span> 
<span class="line-num">344</span>   <span class="ruby-keyword">return</span> <span class="ruby-keyword">true</span> <span class="ruby-keyword">unless</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-identifier">file</span>)
<span class="line-num">345</span> 
<span class="line-num">346</span>   <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">establish_connection</span>(<span class="ruby-identifier">configuration</span>)
<span class="line-num">347</span>   <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span> <span class="ruby-keyword">unless</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">InternalMetadata</span>.<span class="ruby-identifier">table_exists?</span>
<span class="line-num">348</span>   <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">InternalMetadata</span>[<span class="ruby-value">:schema_sha1</span>] <span class="ruby-operator">==</span> <span class="ruby-identifier">schema_sha1</span>(<span class="ruby-identifier">file</span>)
<span class="line-num">349</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-seed_loader">
            
              <b>seed_loader</b>()
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-seed_loader" name="method-i-seed_loader" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-seed_loader_source')" id="l_method-i-seed_loader_source">show</a>
                
              </p>
              <div id="method-i-seed_loader_source" class="dyn-source">
                <pre>    <span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb</span>
<span class="line-num">110</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">seed_loader</span>
<span class="line-num">111</span>   <span class="ruby-ivar">@seed_loader</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Rails</span>.<span class="ruby-identifier">application</span>
<span class="line-num">112</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-setup_initial_database_yaml">
            
              <b>setup_initial_database_yaml</b>()
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-setup_initial_database_yaml" name="method-i-setup_initial_database_yaml" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-setup_initial_database_yaml_source')" id="l_method-i-setup_initial_database_yaml_source">show</a>
                
              </p>
              <div id="method-i-setup_initial_database_yaml_source" class="dyn-source">
                <pre>    <span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb</span>
<span class="line-num">144</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">setup_initial_database_yaml</span>
<span class="line-num">145</span>   <span class="ruby-keyword">return</span> {} <span class="ruby-keyword">unless</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">Rails</span>)
<span class="line-num">146</span> 
<span class="line-num">147</span>   <span class="ruby-keyword">begin</span>
<span class="line-num">148</span>     <span class="ruby-constant">Rails</span>.<span class="ruby-identifier">application</span>.<span class="ruby-identifier">config</span>.<span class="ruby-identifier">load_database_yaml</span>
<span class="line-num">149</span>   <span class="ruby-keyword">rescue</span>
<span class="line-num">150</span>     <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">puts</span> <span class="ruby-string">&quot;Rails couldn&#39;t infer whether you are using multiple databases from your database.yml and can&#39;t generate the tasks for the non-primary databases. If you&#39;d like to use this feature, please simplify your ERB.&quot;</span>
<span class="line-num">151</span> 
<span class="line-num">152</span>     {}
<span class="line-num">153</span>   <span class="ruby-keyword">end</span>
<span class="line-num">154</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-spec">
            
              <b>spec</b>()
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-spec" name="method-i-spec" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-spec_source')" id="l_method-i-spec_source">show</a>
                
              </p>
              <div id="method-i-spec_source" class="dyn-source">
                <pre>    <span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb</span>
<span class="line-num">106</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">spec</span>
<span class="line-num">107</span>   <span class="ruby-ivar">@spec</span> <span class="ruby-operator">||=</span> <span class="ruby-string">&quot;primary&quot;</span>
<span class="line-num">108</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-structure_dump">
            
              <b>structure_dump</b>(*arguments)
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-structure_dump" name="method-i-structure_dump" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-structure_dump_source')" id="l_method-i-structure_dump_source">show</a>
                
              </p>
              <div id="method-i-structure_dump_source" class="dyn-source">
                <pre>    <span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb</span>
<span class="line-num">307</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">structure_dump</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">arguments</span>)
<span class="line-num">308</span>   <span class="ruby-identifier">configuration</span> = <span class="ruby-identifier">arguments</span>.<span class="ruby-identifier">first</span>
<span class="line-num">309</span>   <span class="ruby-identifier">filename</span> = <span class="ruby-identifier">arguments</span>.<span class="ruby-identifier">delete_at</span> <span class="ruby-value">1</span>
<span class="line-num">310</span>   <span class="ruby-identifier">class_for_adapter</span>(<span class="ruby-identifier">configuration</span>[<span class="ruby-string">&quot;adapter&quot;</span>]).<span class="ruby-identifier">new</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">arguments</span>).<span class="ruby-identifier">structure_dump</span>(<span class="ruby-identifier">filename</span>, <span class="ruby-identifier">structure_dump_flags</span>)
<span class="line-num">311</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-structure_load">
            
              <b>structure_load</b>(*arguments)
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-structure_load" name="method-i-structure_load" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-structure_load_source')" id="l_method-i-structure_load_source">show</a>
                
              </p>
              <div id="method-i-structure_load_source" class="dyn-source">
                <pre>    <span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb</span>
<span class="line-num">313</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">structure_load</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">arguments</span>)
<span class="line-num">314</span>   <span class="ruby-identifier">configuration</span> = <span class="ruby-identifier">arguments</span>.<span class="ruby-identifier">first</span>
<span class="line-num">315</span>   <span class="ruby-identifier">filename</span> = <span class="ruby-identifier">arguments</span>.<span class="ruby-identifier">delete_at</span> <span class="ruby-value">1</span>
<span class="line-num">316</span>   <span class="ruby-identifier">class_for_adapter</span>(<span class="ruby-identifier">configuration</span>[<span class="ruby-string">&quot;adapter&quot;</span>]).<span class="ruby-identifier">new</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">arguments</span>).<span class="ruby-identifier">structure_load</span>(<span class="ruby-identifier">filename</span>, <span class="ruby-identifier">structure_load_flags</span>)
<span class="line-num">317</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-target_version">
            
              <b>target_version</b>()
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-target_version" name="method-i-target_version" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-target_version_source')" id="l_method-i-target_version_source">show</a>
                
              </p>
              <div id="method-i-target_version_source" class="dyn-source">
                <pre>    <span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb</span>
<span class="line-num">268</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">target_version</span>
<span class="line-num">269</span>   <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;VERSION&quot;</span>].<span class="ruby-identifier">to_i</span> <span class="ruby-keyword">if</span> <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;VERSION&quot;</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;VERSION&quot;</span>].<span class="ruby-identifier">empty?</span>
<span class="line-num">270</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-truncate_all">
            
              <b>truncate_all</b>(environment = env)
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-truncate_all" name="method-i-truncate_all" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-truncate_all_source')" id="l_method-i-truncate_all_source">show</a>
                
              </p>
              <div id="method-i-truncate_all_source" class="dyn-source">
                <pre>    <span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb</span>
<span class="line-num">226</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">truncate_all</span>(<span class="ruby-identifier">environment</span> = <span class="ruby-identifier">env</span>)
<span class="line-num">227</span>   <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">configurations</span>.<span class="ruby-identifier">configs_for</span>(<span class="ruby-value">env_name:</span> <span class="ruby-identifier">environment</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">db_config</span><span class="ruby-operator">|</span>
<span class="line-num">228</span>     <span class="ruby-identifier">truncate_tables</span> <span class="ruby-identifier">db_config</span>.<span class="ruby-identifier">config</span>
<span class="line-num">229</span>   <span class="ruby-keyword">end</span>
<span class="line-num">230</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
      
    
  
</div>

    </div>
  </body>
</html>
